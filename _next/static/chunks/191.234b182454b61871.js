"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{2191:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(5155),o=n(2115);let l=(0,o.createContext)(null);function a(){let e=(0,o.use)(l);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var i=n(5027),u=n.n(i);let c=(0,o.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:u,placeholder:c,style:s,whenReady:d,zoom:p,...f},m){let[g]=(0,o.useState)({className:a,id:u,style:s}),[h,v]=(0,o.useState)(null),b=(0,o.useRef)(void 0);(0,o.useImperativeHandle)(m,()=>h?.map??null,[h]);let x=(0,o.useCallback)(r=>{if(null!==r&&!b.current){let o=new i.Map(r,f);b.current=o,null!=n&&null!=p?o.setView(n,p):null!=e&&o.fitBounds(e,t),null!=d&&o.whenReady(d),v(Object.freeze({__version:1,map:o}))}},[]);(0,o.useEffect)(()=>()=>{h?.map.remove()},[h]);let w=h?o.createElement(l,{value:h},r):c??null;return o.createElement("div",{...g,ref:x},w)});var s=n(7650);function d(e,t){let n=(0,o.useRef)(t);(0,o.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function p(e,t){let n=(0,o.useRef)(void 0);(0,o.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function f(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function m(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function g(e,t){return null==t?function(t,n){let r=(0,o.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let l=(0,o.useRef)(void 0);l.current||(l.current=e(n,r));let a=(0,o.useRef)(n),{instance:i}=l.current;return(0,o.useEffect)(function(){a.current!==n&&(t(i,n,a.current),a.current=n)},[i,n,t]),l}}function h(e){return function(t){var n;let r=a(),l=e(f(t,r),r);return d(r.map,t.attribution),p(l.current,t.eventHandlers),n=l.current,(0,o.useEffect)(function(){return(r.layerContainer??r.map).addLayer(n.instance),function(){r.layerContainer?.removeLayer(n.instance),r.map.removeLayer(n.instance)}},[r,n]),l}}let v=function(e,t){var n;return n=h(g(e,t)),(0,o.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,o.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){return m(new i.TileLayer(e,f(t,n)),n)},function(e,t,n){let{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o);let{url:l}=t;null!=l&&l!==n.url&&e.setUrl(l)}),b=function(e,t){var n;return n=h(g(e,t)),(0,o.forwardRef)(function(e,t){let{instance:r,context:a}=n(e).current;(0,o.useImperativeHandle)(t,()=>r);let{children:i}=e;return null==i?null:o.createElement(l,{value:a},i)})}(function({position:e,...t},n){var r;let o=new i.Marker(e,t);return m(o,(r={overlayContainer:o},Object.freeze({...n,...r})))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),x=function(e,t){var n,r;return n=g(e),r=function(e,r){let o=a(),l=n(f(e,o),o);return d(o.map,e.attribution),p(l.current,e.eventHandlers),t(l.current,o,e,r),l},(0,o.forwardRef)(function(e,t){let[n,l]=(0,o.useState)(!1),{instance:a}=r(e,l).current;(0,o.useImperativeHandle)(t,()=>a),(0,o.useEffect)(function(){n&&a.update()},[a,n,e.children]);let i=a._contentNode;return i?(0,s.createPortal)(e.children,i):null})}(function(e,t){return m(new i.Popup(e,t.overlayContainer),t)},function(e,t,{position:n},r){(0,o.useEffect)(function(){let{instance:o}=e;function l(e){e.popup===o&&(o.update(),r(!0))}function a(e){e.popup===o&&r(!1)}return t.map.on({popupopen:l,popupclose:a}),null==t.overlayContainer?(null!=n&&o.setLatLng(n),o.openOn(t.map)):t.overlayContainer.bindPopup(o),function(){t.map.off({popupopen:l,popupclose:a}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(o)}},[e,t,r,n])});delete u().Icon.Default.prototype._getIconUrl,u().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});let w=new(u()).Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function y(e){let{onLocateUser:t}=e,n=a().map;return(0,o.useEffect)(()=>{let e=u().DomUtil.create("div","leaflet-control-locate");e.style.position="absolute",e.style.top="10px",e.style.right="10px",e.style.zIndex="1000",e.innerHTML='\n      <button class="bg-white hover:bg-gray-50 border border-gray-300 rounded-md px-3 py-2 shadow-md text-sm font-medium text-gray-700 flex items-center gap-2 transition-colors">\n        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>\n        </svg>\n        Localizar-me\n      </button>\n    ';let r=e.querySelector("button");r&&(u().DomEvent.disableClickPropagation(r),u().DomEvent.disableScrollPropagation(r),r.addEventListener("click",t));let o=n.getContainer();return o.appendChild(e),()=>{o.contains(e)&&o.removeChild(e)}},[n,t]),null}let z=e=>{let{repeaters:t}=e,n=(0,o.useRef)(null),[l,a]=(0,o.useState)(null),[i,u]=(0,o.useState)(null),[s,d]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(!n.current)return;let e=n.current,t=()=>e.invalidateSize(),r=setTimeout(t,0);return window.addEventListener("resize",t),()=>{clearTimeout(r),window.removeEventListener("resize",t)}},[]),(0,r.jsxs)("div",{style:{position:"relative",zIndex:0},children:[(0,r.jsxs)(c,{center:[39.694444,-8.130556],zoom:6,style:{height:"500px",width:"100%",zIndex:0},ref:n,children:[(0,r.jsx)(v,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t.map(e=>(0,r.jsx)(b,{position:[e.latitude,e.longitude],children:(0,r.jsxs)(x,{children:[(0,r.jsx)("b",{children:e.callsign}),(0,r.jsx)("br",{}),e.outputFrequency.toFixed(3)," MHz"]})},e.callsign)),l&&(0,r.jsx)(b,{position:l,icon:w,children:(0,r.jsxs)(x,{children:[(0,r.jsx)("b",{children:"Sua localiza\xe7\xe3o"}),(0,r.jsx)("br",{}),"Voc\xea est\xe1 aqui!"]})}),(0,r.jsx)(y,{onLocateUser:()=>{if(!navigator.geolocation)return void u("Geolocaliza\xe7\xe3o n\xe3o \xe9 suportada pelo seu navegador");d(!0),u(null),navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:r}=e.coords,o=[t,r];a(o),d(!1),n.current&&n.current.setView(o,13)},e=>{switch(d(!1),e.code){case e.PERMISSION_DENIED:u("Permiss\xe3o de localiza\xe7\xe3o negada");break;case e.POSITION_UNAVAILABLE:u("Localiza\xe7\xe3o indispon\xedvel");break;case e.TIMEOUT:u("Timeout ao obter localiza\xe7\xe3o");break;default:u("Erro desconhecido ao obter localiza\xe7\xe3o")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}})]}),i&&(0,r.jsx)("div",{className:"absolute top-4 left-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg z-10",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),i]})}),s&&(0,r.jsx)("div",{className:"absolute top-4 left-4 bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded shadow-lg z-10",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"A obter localiza\xe7\xe3o..."]})})]})}}}]);