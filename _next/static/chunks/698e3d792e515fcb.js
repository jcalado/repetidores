(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38892,e=>{"use strict";var t,a,s,r=e.i(43476),n=e.i(71645),i=e.i(19455),l=e.i(77572),o=e.i(29592),d=e.i(7308),c=e.i(16715),m=e.i(13648),h=e.i(73526),u=e.i(86536),x=e.i(21218),g=e.i(63209),p=e.i(63639),f=e.i(55900),j=e.i(9778),v=Math.PI,b=2*v,N=v/180,M=180/v,w=60/Math.sqrt(650942.9922085947),y=6378.135*w/60,k=1/w,z=2/3,C=1440/(2*v);function S(e,t,a,s,r,n){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return 367*e-Math.floor(7*(e+Math.floor((t+9)/12))*.25)+Math.floor(275*t/9)+a+1721013.5+((i/6e4+n/60+r)/60+s)/24}function T(e,t,a,s,r,n){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return e instanceof Date?S(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()):S(e,t,a,s,r,n,i)}function A(e,t){var a,s,r,n,i,l,o,d,c,m,h,u,x,g,p,f,j,N,M,w,y=e.e3,k=e.ee2,z=e.peo,C=e.pgho,S=e.pho,T=e.pinco,A=e.plo,E=e.se2,I=e.se3,F=e.sgh2,D=e.sgh3,H=e.sgh4,L=e.sh2,P=e.sh3,R=e.si2,O=e.si3,W=e.sl2,q=e.sl3,V=e.sl4,B=e.t,$=e.xgh2,_=e.xgh3,U=e.xgh4,G=e.xh2,X=e.xh3,Q=e.xi2,Z=e.xi3,Y=e.xl2,K=e.xl3,J=e.xl4,ee=e.zmol,et=e.zmos,ea=t.init,es=t.opsmode,er=t.ep,en=t.inclp,ei=t.nodep,el=t.argpp,eo=t.mp;w=et+119459e-10*B,"y"===ea&&(w=et);var ed=E*(c=.5*(f=Math.sin(M=w+.0335*Math.sin(w)))*f-.25)+I*(m=-.5*f*Math.cos(M)),ec=R*c+O*m,em=W*c+q*m+V*f,eh=F*c+D*m+H*f,eu=L*c+P*m;w=ee+15835218e-11*B,"y"===ea&&(w=ee);var ex=k*(c=.5*(f=Math.sin(M=w+.1098*Math.sin(w)))*f-.25)+y*(m=-.5*f*Math.cos(M)),eg=Q*c+Z*m,ep=Y*c+K*m+J*f,ef=$*c+_*m+U*f,ej=G*c+X*m;return h=ed+ex,g=ec+eg,p=em+ep,u=eh+ef,x=eu+ej,"n"===ea&&(h-=z,g-=T,p-=A,u-=C,x-=S,en+=g,er+=h,n=Math.sin(en),r=Math.cos(en),en>=.2?(x/=n,u-=r*x,el+=u,ei+=x,eo+=p):(l=Math.sin(ei),i=Math.cos(ei),a=n*l,s=n*i,o=x*i+g*r*l,d=-x*l+g*r*i,a+=o,s+=d,(ei%=b)<0&&"a"===es&&(ei+=b),j=eo+el+r*ei+(p+u-g*ei*n),N=ei,(ei=Math.atan2(a,s))<0&&"a"===es&&(ei+=b),Math.abs(N-ei)>v&&(ei<N?ei+=b:ei-=b),eo+=p,el=j-eo-r*ei)),{ep:er,inclp:en,nodep:ei,argpp:el,mp:eo}}function E(e){var t=(e-2451545)/36525,a=-62e-7*t*t*t+.093104*t*t+3164400184.812866*t+67310.54841;return(a=a*N/240%b)<0&&(a+=b),a}function I(e,t,a,s,r,n,i){return e instanceof Date?E(T(e)):void 0!==t?E(T(e,t,a,s,r,n,i)):E(e)}function F(e,t){e.t=t,e.error=s.None;var a,r,n,i,l,o,d,c,m,h,u,x,g,p,f,j,N,M,k,C,S,T,E,I,F,D,H=e.mo+e.mdot*e.t,L=e.argpo+e.argpdot*e.t,P=e.nodeo+e.nodedot*e.t;c=L,C=H;var R=e.t*e.t;if(T=P+e.nodecf*R,j=1-e.cc1*e.t,N=e.bstar*e.cc4*e.t,M=e.t2cof*R,1!==e.isimp){o=e.omgcof*e.t;var O=1+e.eta*Math.cos(H);C=H+(f=o+e.xmcof*(O*O*O-e.delmo)),c=L-f,x=(u=R*e.t)*e.t,j=j-e.d2*R-e.d3*u-e.d4*x,N+=e.bstar*e.cc5*(Math.sin(C)-e.sinmao),M=M+e.t3cof*u+x*(e.t4cof+e.t*e.t5cof)}S=e.no;var W=e.ecco;if(k=e.inclo,"d"===e.method){g=e.t;var q=function(e){var t,a,s,r,n,i,l,o,d=e.irez,c=e.d2201,m=e.d2211,h=e.d3210,u=e.d3222,x=e.d4410,g=e.d4422,p=e.d5220,f=e.d5232,j=e.d5421,v=e.d5433,N=e.dedt,M=e.del1,w=e.del2,y=e.del3,k=e.didt,z=e.dmdt,C=e.dnodt,S=e.domdt,T=e.argpo,A=e.argpdot,E=e.t,I=e.tc,F=e.gsto,D=e.xfact,H=e.xlamo,L=e.no,P=e.atime,R=e.em,O=e.argpm,W=e.inclm,q=e.xli,V=e.mm,B=e.xni,$=e.nodem,_=e.nm,U=0,G=0,X=(F+.0043752690880113*I)%b;if(R+=N*E,W+=k*E,O+=S*E,$+=C*E,V+=z*E,0!==d){(0===P||E*P<=0||Math.abs(E)<Math.abs(P))&&(P=0,B=L,q=H),t=E>0?720:-720;for(var Q=381;381===Q;)2!==d?(l=M*Math.sin(q-.13130908)+w*Math.sin(2*(q-2.8843198))+y*Math.sin(3*(q-.37448087)),i=(M*Math.cos(q-.13130908)+2*w*Math.cos(2*(q-2.8843198))+3*y*Math.cos(3*(q-.37448087)))*(n=B+D)):(s=(o=T+A*P)+o,a=q+q,l=c*Math.sin(s+q-5.7686396)+m*Math.sin(q-5.7686396)+h*Math.sin(o+q-.95240898)+u*Math.sin(-o+q-.95240898)+x*Math.sin(s+a-1.8014998)+g*Math.sin(a-1.8014998)+p*Math.sin(o+q-1.050833)+f*Math.sin(-o+q-1.050833)+j*Math.sin(o+a-4.4108898)+v*Math.sin(-o+a-4.4108898),i=(c*Math.cos(s+q-5.7686396)+m*Math.cos(q-5.7686396)+h*Math.cos(o+q-.95240898)+u*Math.cos(-o+q-.95240898)+p*Math.cos(o+q-1.050833)+f*Math.cos(-o+q-1.050833)+2*(x*Math.cos(s+a-1.8014998)+g*Math.cos(a-1.8014998)+j*Math.cos(o+a-4.4108898)+v*Math.cos(-o+a-4.4108898)))*(n=B+D)),Math.abs(E-P)>=720?Q=381:(G=E-P,Q=0),381===Q&&(q+=n*t+259200*l,B+=l*t+259200*i,P+=t);_=B+l*G+i*G*G*.5,r=q+n*G+l*G*G*.5,V=1!==d?r-2*$+2*X:r-$-O+X,U=_-L,_=L+U}return{atime:P,em:R,argpm:O,inclm:W,xli:q,mm:V,xni:B,nodem:$,dndt:U,nm:_}}({irez:e.irez,d2201:e.d2201,d2211:e.d2211,d3210:e.d3210,d3222:e.d3222,d4410:e.d4410,d4422:e.d4422,d5220:e.d5220,d5232:e.d5232,d5421:e.d5421,d5433:e.d5433,dedt:e.dedt,del1:e.del1,del2:e.del2,del3:e.del3,didt:e.didt,dmdt:e.dmdt,dnodt:e.dnodt,domdt:e.domdt,argpo:e.argpo,argpdot:e.argpdot,t:e.t,tc:g,gsto:e.gsto,xfact:e.xfact,xlamo:e.xlamo,no:e.no,atime:e.atime,em:W,argpm:c,inclm:k,xli:e.xli,mm:C,xni:e.xni,nodem:T,nm:S});W=q.em,c=q.argpm,k=q.inclm,C=q.mm,T=q.nodem,S=q.nm}if(S<=0)return e.error=s.MeanMotionBelowZero,null;var V=Math.pow(w/S,z)*j*j;if(S=w/Math.pow(V,1.5),(W-=N)>=1||W<-.001)return e.error=s.MeanEccentricityOutOfRange,null;W<1e-6&&(W=1e-6),C+=e.no*M,I=C+c+T,T%=b,c%=b,I%=b,C=(I-c-T)%b;var B={am:V,em:W,im:k,Om:T,om:c,mm:C,nm:S},$=Math.sin(k),_=Math.cos(k),U=W;if(E=k,m=c,D=T,F=C,i=$,n=_,"d"===e.method){var G={inclo:e.inclo,init:"n",ep:U,inclp:E,nodep:D,argpp:m,mp:F,opsmode:e.operationmode},X=A(e,G);if(U=X.ep,D=X.nodep,m=X.argpp,F=X.mp,(E=X.inclp)<0&&(E=-E,D+=v,m-=v),U<0||U>1)return e.error=s.PerturbedEccentricityOutOfRange,null}"d"===e.method&&(i=Math.sin(E),n=Math.cos(E),e.aycof=.001172534860005764*i,Math.abs(n+1)>15e-13?e.xlcof=586267430002882e-18*i*(3+5*n)/(1+n):e.xlcof=586267430002882e-18*i*(3+5*n)/15e-13);var Q=U*Math.cos(m);f=1/(V*(1-U*U));var Z=U*Math.sin(m)+f*e.aycof,Y=(F+m+D+f*e.xlcof*Q-D)%b;d=Y,p=9999.9;for(var K=1;Math.abs(p)>=1e-12&&K<=10;)r=Math.sin(d),p=1-(a=Math.cos(d))*Q-r*Z,Math.abs(p=(Y-Z*a+Q*r-d)/p)>=.95&&(p=p>0?.95:-.95),d+=p,K+=1;var J=Q*a+Z*r,ee=Q*r-Z*a,et=Q*Q+Z*Z,ea=V*(1-et);if(ea<0)return e.error=s.SemiLatusRectumBelowZero,null;var es=V*(1-J),er=Math.sqrt(V)*ee/es,en=Math.sqrt(ea)/es,ei=Math.sqrt(1-et),el=V/es*(r-Z-Q*(f=ee/(1+ei))),eo=V/es*(a-Q+Z*f);h=Math.atan2(el,eo);var ed=(eo+eo)*el,ec=1-2*el*el,em=541308e-9*(f=1/ea),eh=em*f;"d"===e.method&&(e.con41=3*(l=n*n)-1,e.x1mth2=1-l,e.x7thm1=7*l-1);var eu=es*(1-1.5*eh*ei*e.con41)+.5*em*e.x1mth2*ec;if(eu<1)return e.error=s.Decayed,null;h-=.25*eh*e.x7thm1*ed;var ex=D+1.5*eh*n*ed,eg=E+1.5*eh*n*i*ec,ep=er-S*em*e.x1mth2*ed/w,ef=en+S*em*(e.x1mth2*ec+1.5*e.con41)/w,ej=Math.sin(h),ev=Math.cos(h),eb=Math.sin(ex),eN=Math.cos(ex),eM=Math.sin(eg),ew=Math.cos(eg),ey=-eb*ew,ek=eN*ew,ez=ey*ej+eN*ev,eC=ek*ej+eb*ev,eS=eM*ej,eT={x:(ep*ez+ef*(ey*ev-eN*ej))*y,y:(ep*eC+ef*(ek*ev-eb*ej))*y,z:(ep*eS+eM*ev*ef)*y};return{position:{x:eu*ez*6378.135,y:eu*eC*6378.135,z:eu*eS*6378.135},velocity:eT,meanElements:B}}function D(e,t){var a=e.substring(2,7),s=parseInt(e.substring(18,20),10),r=parseFloat(e.substring(20,32)),n=parseFloat(e.substring(33,43)),i=parseFloat("".concat(e.substring(44,45),".").concat(e.substring(45,50),"E").concat(e.substring(50,52))),l=parseFloat("".concat(e.substring(53,54),".").concat(e.substring(54,59),"E").concat(e.substring(59,61))),o=parseFloat(t.substring(8,16))*N,d=parseFloat(t.substring(17,25))*N,c=parseFloat(".".concat(t.substring(26,33))),m=parseFloat(t.substring(34,42))*N,h=parseFloat(t.substring(43,51))*N,u=parseFloat(t.substring(52,63))/C,x=s<57?s+2e3:s+1900,g=function(e,t){for(var a=[31,e%4==0?29:28,31,30,31,30,31,31,30,31,30,31],s=Math.floor(t),r=1,n=0;s>n+a[r-1]&&r<12;)n+=a[r-1],r+=1;var i=r,l=s-n,o=(t-s)*24,d=Math.floor(o),c=Math.floor(o=(o-d)*60),m=(o-c)*60;return{mon:i,day:l,hr:d,minute:c,sec:m}}(x,r),p={error:0,satnum:a,epochyr:s,epochdays:r,ndot:n,nddot:i,bstar:l,inclo:o,nodeo:d,ecco:c,argpo:m,mo:h,no:u,jdsatepoch:T(x,g.mon,g.day,g.hr,g.minute,g.sec)};return!function(e,t){var a,s,r,n,i,l,o,d,c,m,h,u,x,g,p,f,j,N,M,y,C,S,T,E,D,H,L,P,R,O,W,q,V,B,$,_,U,G,X,Q,Z,Y,K,J,ee,et,ea,es,er,en,ei,el,eo=t.opsmode,ed=t.satn,ec=t.epoch,em=t.xbstar,eh=t.xecco,eu=t.xargpo,ex=t.xinclo,eg=t.xmo,ep=t.xno,ef=t.xnodeo;e.isimp=0,e.method="n",e.aycof=0,e.con41=0,e.cc1=0,e.cc4=0,e.cc5=0,e.d2=0,e.d3=0,e.d4=0,e.delmo=0,e.eta=0,e.argpdot=0,e.omgcof=0,e.sinmao=0,e.t=0,e.t2cof=0,e.t3cof=0,e.t4cof=0,e.t5cof=0,e.x1mth2=0,e.x7thm1=0,e.mdot=0,e.nodedot=0,e.xlcof=0,e.xmcof=0,e.nodecf=0,e.irez=0,e.d2201=0,e.d2211=0,e.d3210=0,e.d3222=0,e.d4410=0,e.d4422=0,e.d5220=0,e.d5232=0,e.d5421=0,e.d5433=0,e.dedt=0,e.del1=0,e.del2=0,e.del3=0,e.didt=0,e.dmdt=0,e.dnodt=0,e.domdt=0,e.e3=0,e.ee2=0,e.peo=0,e.pgho=0,e.pho=0,e.pinco=0,e.plo=0,e.se2=0,e.se3=0,e.sgh2=0,e.sgh3=0,e.sgh4=0,e.sh2=0,e.sh3=0,e.si2=0,e.si3=0,e.sl2=0,e.sl3=0,e.sl4=0,e.gsto=0,e.xfact=0,e.xgh2=0,e.xgh3=0,e.xgh4=0,e.xh2=0,e.xh3=0,e.xi2=0,e.xi3=0,e.xl2=0,e.xl3=0,e.xl4=0,e.xlamo=0,e.zmol=0,e.zmos=0,e.atime=0,e.xli=0,e.xni=0,e.bstar=em,e.ecco=eh,e.argpo=eu,e.inclo=ex,e.mo=eg,e.no=ep,e.nodeo=ef,e.operationmode=eo;e.init="y",e.t=0;var ej=function(e){var t,a=e.ecco,s=e.epoch,r=e.inclo,n=e.opsmode,i=e.no,l=a*a,o=1-l,d=Math.sqrt(o),c=Math.cos(r),m=c*c,h=Math.pow(w/i,z),u=8119620000000001e-19*(3*m-1)/(d*o),x=u/(h*h),g=h*(1-x*x-x*(1/3+134*x*x/81)),p=Math.pow(w/(i/=1+(x=u/(g*g))),z),f=Math.sin(r),j=p*o,v=1-5*m;if("a"===n){var N=s-7305,M=Math.floor(N+1e-8);(t=(1.7321343856509375+.017202791694070362*M+(.017202791694070362+b)*(N-M)+N*N*5075514194322695e-30)%b)<0&&(t+=b)}else t=I(s+2433281.5);return{no:i,method:"n",ainv:1/p,ao:p,con41:-v-m-m,con42:v,cosio:c,cosio2:m,eccsq:l,omeosq:o,posq:j*j,rp:p*(1-a),rteosq:d,sinio:f,gsto:t}}({satn:ed,ecco:e.ecco,epoch:ec,inclo:e.inclo,no:e.no,method:e.method,opsmode:e.operationmode}),ev=ej.ao,eb=ej.con42,eN=ej.cosio,eM=ej.cosio2,ew=ej.eccsq,ey=ej.omeosq,ek=ej.posq,ez=ej.rp,eC=ej.rteosq,eS=ej.sinio;if(e.no=ej.no,e.con41=ej.con41,e.gsto=ej.gsto,e.a=Math.pow(e.no*k,-2/3),e.alta=e.a*(1+e.ecco)-1,e.altp=e.a*(1-e.ecco)-1,e.error=0,ey>=0||e.no>=0){if(e.isimp=0,ez<1.034492841559484&&(e.isimp=1),E=1.0122292801892716,N=1880279159015271e-24,(p=(ez-1)*6378.135)<156){E=p-78,p<98&&(E=20);var eT=(120-E)/6378.135;N=eT*eT*eT*eT,E=E/6378.135+1}f=1/ek,Y=1/(ev-E),e.eta=ev*e.ecco*Y,u=e.eta*e.eta,h=e.ecco*e.eta,j=Math.abs(1-u),n=(o=(l=N*Math.pow(Y,4))/Math.pow(j,3.5))*e.no*(ev*(1+1.5*u+h*(4+u))+40598100000000003e-20*Y/j*e.con41*(8+3*u*(8+u))),e.cc1=e.bstar*n,i=0,e.ecco>1e-4&&(i=-(-2*l*Y*.002345069720011528)*e.no*eS/e.ecco),e.x1mth2=1-eM,e.cc4=2*e.no*o*ev*ey*(e.eta*(2+.5*u)+e.ecco*(.5+2*u)-.001082616*Y/(ev*j)*(-3*e.con41*(1-2*h+u*(1.5-.5*h))+.75*e.x1mth2*(2*u-h*(1+u))*Math.cos(2*e.argpo))),e.cc5=2*o*ev*ey*(1+2.75*(u+h)+h*u),d=eM*eM,Q=.5*(X=.0016239240000000001*f*e.no)*.001082616*f,Z=7762359375e-16*f*f*e.no,e.mdot=e.no+.5*X*eC*e.con41+.0625*Q*eC*(13-78*eM+137*d),e.argpdot=-.5*X*eb+.0625*Q*(7-114*eM+395*d)+Z*(3-36*eM+49*d),e.nodedot=(J=-X*eN)+(.5*Q*(4-19*eM)+2*Z*(3-7*eM))*eN,K=e.argpdot+e.nodedot,e.omgcof=e.bstar*i*Math.cos(e.argpo),e.xmcof=0,e.ecco>1e-4&&(e.xmcof=-z*l*e.bstar/h),e.nodecf=3.5*ey*J*e.cc1,e.t2cof=1.5*e.cc1,Math.abs(eN+1)>15e-13?e.xlcof=586267430002882e-18*eS*(3+5*eN)/(1+eN):e.xlcof=586267430002882e-18*eS*(3+5*eN)/15e-13,e.aycof=.001172534860005764*eS;var eA=1+e.eta*Math.cos(e.mo);if(e.delmo=eA*eA*eA,e.sinmao=Math.sin(e.mo),e.x7thm1=7*eM-1,2*v/e.no>=225){e.method="d",e.isimp=1,x=e.inclo;var eE=function(e){var t,a,s,r,n,i,l,o,d,c,m,h,u,x,g,p,f,j,v,N,M,w,y,k,z,C,S,T,A,E,I,F,D,H,L,P,R,O,W,q,V,B,$,_,U,G,X,Q,Z,Y,K,J,ee,et,ea,es,er,en,ei,el,eo,ed,ec,em=e.epoch,eh=e.ep,eu=e.argpp,ex=e.tc,eg=e.inclp,ep=e.nodep,ef=e.np,ej=Math.sin(ep),ev=Math.cos(ep),eb=Math.sin(eu),eN=Math.cos(eu),eM=Math.sin(eg),ew=Math.cos(eg),ey=eh*eh,ek=1-ey,ez=Math.sqrt(ek),eC=em+18261.5+ex/1440,eS=(4.523602-92422029e-11*eC)%b,eT=Math.sin(eS),eA=Math.cos(eS),eE=.91375164-.03568096*eA,eI=Math.sqrt(1-eE*eE),eF=.089683511*eT/eI,eD=Math.sqrt(1-eF*eF),eH=5.8351514+.001944368*eC,eL=.39785416*eT/eI,eP=Math.cos(eL=Math.atan2(eL,eD*eA+.91744867*eF*eT)+(eH-eS)),eR=Math.sin(eL);N=.1945905,M=-.98088458,k=.91744867,z=.39785416,w=ev,y=ej,m=29864797e-13;for(var eO=1/ef,eW=0;eW<2;)eW+=1,t=N*w+M*k*y,s=-M*w+N*k*y,l=-N*y+M*k*w,o=M*z,d=M*y+N*k*w,c=N*z,a=ew*l+eM*o,r=ew*d+eM*c,n=-eM*l+ew*o,i=-eM*d+ew*c,h=t*eN+a*eb,u=s*eN+r*eb,x=-t*eb+a*eN,g=-s*eb+r*eN,p=n*eb,f=i*eb,j=n*eN,v=i*eN,eo=12*h*h-3*x*x,ed=24*h*u-6*x*g,ec=12*u*u-3*g*g,J=3*(t*t+a*a)+eo*ey,ee=6*(t*s+a*r)+ed*ey,et=3*(s*s+r*r)+ec*ey,ea=-6*t*n+ey*(-24*h*j-6*x*p),es=-6*(t*i+s*n)+ey*(-24*(u*j+h*v)+-6*(x*f+g*p)),er=-6*s*i+ey*(-24*u*v-6*g*f),en=6*a*n+ey*(24*h*p-6*x*j),ei=6*(r*n+a*i)+ey*(24*(u*p+h*f)-6*(g*j+x*v)),el=6*r*i+ey*(24*u*f-6*g*v),J=J+J+ek*eo,ee=ee+ee+ek*ed,et=et+et+ek*ec,G=-.5*(X=m*eO)/ez,U=-15*eh*(Q=X*ez),Z=h*x+u*g,Y=u*x+h*g,K=u*g-h*x,1===eW&&(C=U,S=G,T=X,A=Q,E=Z,I=Y,F=K,D=J,H=ee,L=et,P=ea,R=es,O=er,W=en,q=ei,V=el,B=eo,$=ed,_=ec,N=eP,M=eR,k=eE,z=eI,w=eD*ev+eF*ej,y=ej*eD-ev*eF,m=47968065e-14);var eq=2*S*R,eV=2*S*(O-P),eB=-2*T*H,e$=-2*T*(L-D),e_=-2*T*(-21-9*ey)*.01675,eU=2*U*Y,eG=2*G*es,eX=2*G*(er-ea),eQ=-2*X*ee,eZ=-2*X*(et-J),eY=-2*X*(-21-9*ey)*.0549,eK=2*Q*ed,eJ=2*Q*(ec-eo),e0=-18*Q*.0549,e1=-2*G*ei,e2=-2*G*(el-en);return{snodm:ej,cnodm:ev,sinim:eM,cosim:ew,sinomm:eb,cosomm:eN,day:eC,e3:2*U*K,ee2:eU,em:eh,emsq:ey,gam:eH,peo:0,pgho:0,pho:0,pinco:0,plo:0,rtemsq:ez,se2:2*C*I,se3:2*C*F,sgh2:2*A*$,sgh3:2*A*(_-B),sgh4:-18*A*.01675,sh2:-2*S*q,sh3:-2*S*(V-W),si2:eq,si3:eV,sl2:eB,sl3:e$,sl4:e_,s1:U,s2:G,s3:X,s4:Q,s5:Z,s6:Y,s7:K,ss1:C,ss2:S,ss3:T,ss4:A,ss5:E,ss6:I,ss7:F,sz1:D,sz2:H,sz3:L,sz11:P,sz12:R,sz13:O,sz21:W,sz22:q,sz23:V,sz31:B,sz32:$,sz33:_,xgh2:eK,xgh3:eJ,xgh4:e0,xh2:e1,xh3:e2,xi2:eG,xi3:eX,xl2:eQ,xl3:eZ,xl4:eY,nm:ef,z1:J,z2:ee,z3:et,z11:ea,z12:es,z13:er,z21:en,z22:ei,z23:el,z31:eo,z32:ed,z33:ec,zmol:(4.7199672+(.2299715*eC-eH))%b,zmos:(6.2565837+.017201977*eC)%b}}({epoch:ec,ep:e.ecco,argpp:e.argpo,tc:0,inclp:e.inclo,nodep:e.nodeo,np:e.no,e3:e.e3,ee2:e.ee2,peo:e.peo,pgho:e.pgho,pho:e.pho,pinco:e.pinco,plo:e.plo,se2:e.se2,se3:e.se3,sgh2:e.sgh2,sgh3:e.sgh3,sgh4:e.sgh4,sh2:e.sh2,sh3:e.sh3,si2:e.si2,si3:e.si3,sl2:e.sl2,sl3:e.sl3,sl4:e.sl4,xgh2:e.xgh2,xgh3:e.xgh3,xgh4:e.xgh4,xh2:e.xh2,xh3:e.xh3,xi2:e.xi2,xi3:e.xi3,xl2:e.xl2,xl3:e.xl3,xl4:e.xl4,zmol:e.zmol,zmos:e.zmos});e.e3=eE.e3,e.ee2=eE.ee2,e.peo=eE.peo,e.pgho=eE.pgho,e.pho=eE.pho,e.pinco=eE.pinco,e.plo=eE.plo,e.se2=eE.se2,e.se3=eE.se3,e.sgh2=eE.sgh2,e.sgh3=eE.sgh3,e.sgh4=eE.sgh4,e.sh2=eE.sh2,e.sh3=eE.sh3,e.si2=eE.si2,e.si3=eE.si3,e.sl2=eE.sl2,e.sl3=eE.sl3,e.sl4=eE.sl4,s=eE.sinim,a=eE.cosim,c=eE.em,m=eE.emsq,M=eE.s1,y=eE.s2,C=eE.s3,S=eE.s4,T=eE.s5,D=eE.ss1,H=eE.ss2,L=eE.ss3,P=eE.ss4,R=eE.ss5,O=eE.sz1,W=eE.sz3,q=eE.sz11,V=eE.sz13,B=eE.sz21,$=eE.sz23,_=eE.sz31,U=eE.sz33,e.xgh2=eE.xgh2,e.xgh3=eE.xgh3,e.xgh4=eE.xgh4,e.xh2=eE.xh2,e.xh3=eE.xh3,e.xi2=eE.xi2,e.xi3=eE.xi3,e.xl2=eE.xl2,e.xl3=eE.xl3,e.xl4=eE.xl4,e.zmol=eE.zmol,e.zmos=eE.zmos,g=eE.nm,ee=eE.z1,et=eE.z3,ea=eE.z11,es=eE.z13,er=eE.z21,en=eE.z23,ei=eE.z31,el=eE.z33;var eI={inclo:x,init:e.init,ep:e.ecco,inclp:e.inclo,nodep:e.nodeo,argpp:e.argpo,mp:e.mo,opsmode:e.operationmode},eF=A(e,eI);e.ecco=eF.ep,e.inclo=eF.inclp,e.nodeo=eF.nodep,e.argpo=eF.argpp,e.mo=eF.mp;var eD=function(e){var t,a,s,r,n,i,l,o,d,c,m,h,u,x,g,p,f,j,N,M,y,k,C,S,T,A=e.cosim,E=e.argpo,I=e.s1,F=e.s2,D=e.s3,H=e.s4,L=e.s5,P=e.sinim,R=e.ss1,O=e.ss2,W=e.ss3,q=e.ss4,V=e.ss5,B=e.sz1,$=e.sz3,_=e.sz11,U=e.sz13,G=e.sz21,X=e.sz23,Q=e.sz31,Z=e.sz33,Y=e.t,K=e.tc,J=e.gsto,ee=e.mo,et=e.mdot,ea=e.no,es=e.nodeo,er=e.nodedot,en=e.xpidot,ei=e.z1,el=e.z3,eo=e.z11,ed=e.z13,ec=e.z21,em=e.z23,eh=e.z31,eu=e.z33,ex=e.ecco,eg=e.eccsq,ep=e.emsq,ef=e.em,ej=e.argpm,ev=e.inclm,eb=e.mm,eN=e.nm,eM=e.nodem,ew=e.irez,ey=e.atime,ek=e.d2201,ez=e.d2211,eC=e.d3210,eS=e.d3222,eT=e.d4410,eA=e.d4422,eE=e.d5220,eI=e.d5232,eF=e.d5421,eD=e.d5433,eH=e.dedt,eL=e.didt,eP=e.dmdt,eR=e.dnodt,eO=e.domdt,eW=e.del1,eq=e.del2,eV=e.del3,eB=e.xfact,e$=e.xlamo,e_=e.xli,eU=e.xni;ew=0,eN<.0052359877&&eN>.0034906585&&(ew=1),eN>=.00826&&eN<=.00924&&ef>=.5&&(ew=2);var eG=-119459e-10*W*(B+$-14-6*ep),eX=-119459e-10*O*(G+X);(ev<.052359877||ev>v-.052359877)&&(eX=0),0!==P&&(eX/=P);var eQ=119459e-10*q*(Q+Z-6)-A*eX;eH=119459e-10*R*V+15835218e-11*I*L,eL=119459e-10*O*(_+U)+15835218e-11*F*(eo+ed),eP=eG-15835218e-11*D*(ei+el-14-6*ep);var eZ=-15835218e-11*F*(ec+em);(ev<.052359877||ev>v-.052359877)&&(eZ=0),eO=eQ+15835218e-11*H*(eh+eu-6),eR=eX,0!==P&&(eO-=A/P*eZ,eR+=eZ/P);var eY=(J+.0043752690880113*K)%b;if(ef+=eH*Y,ev+=eL*Y,ej+=eO*Y,eM+=eR*Y,eb+=eP*Y,0!==ew){if(C=Math.pow(eN/w,z),2===ew){S=A*A;var eK=ef,eJ=ep;T=(ef=ex)*(ep=eg),d=-.306-(ef-.64)*.44,ef<=.65?(c=3.616-13.247*ef+16.29*ep,h=-19.302+117.39*ef-228.419*ep+156.591*T,u=-18.9068+109.7927*ef-214.6334*ep+146.5816*T,x=-41.122+242.694*ef-471.094*ep+313.953*T,g=-146.407+841.88*ef-1629.014*ep+1083.435*T,p=-532.114+3017.977*ef-5740.032*ep+3708.276*T):(c=-72.099+331.819*ef-508.738*ep+266.724*T,h=-346.844+1582.851*ef-2415.925*ep+1246.113*T,u=-342.585+1554.908*ef-2366.899*ep+1215.972*T,x=-1052.797+4758.686*ef-7193.992*ep+3651.957*T,g=-3581.69+16178.11*ef-24462.77*ep+12422.52*T,p=ef>.715?-5149.66+29936.92*ef-54087.36*ep+31324.56*T:1464.74-4664.75*ef+3763.64*ep),ef<.7?(N=-919.2277+4988.61*ef-9064.77*ep+5542.21*T,f=-822.71072+4568.6173*ef-8491.4146*ep+5337.524*T,j=-853.666+4690.25*ef-8624.77*ep+5341.4*T):(N=-37995.78+161616.52*ef-229838.2*ep+109377.94*T,f=-51752.104+218913.95*ef-309468.16*ep+146349.42*T,j=-40023.88+170470.89*ef-242699.48*ep+115605.82*T),M=P*P,s=35*M*(t=.75*(1+2*A+S)),r=9.84375*P*(M*(1-2*A-5*S)+.33333333*(-2+4*A+6*S)),n=P*(4.92187512*M*(-2-4*A+10*S)+6.56250012*(1+2*A-3*S)),i=29.53125*P*(2-8*A+S*(-12+8*A+10*S)),l=29.53125*P*(-2-8*A+S*(12+8*A-10*S)),ek=(y=17891679e-13*(k=eN*eN*3*(C*C)))*t*d,ez=1.5*M*y*c,k*=C,eC=(y=37393792e-14*k)*(1.875*P*(1-2*A-3*S))*h,eS=-1.875*P*(1+2*A-3*S)*y*u,k*=C,eT=(y=2*k*73636953e-16)*s*x,eA=39.375*M*M*y*g,k*=C,eE=(y=11428639e-14*k)*r*p,eI=y*n*j,eF=(y=2*k*21765803e-16)*i*f,eD=y*l*N,e$=(ee+es+es-(eY+eY))%b,eB=et+eP+2*(er+eR-.0043752690880113)-ea,ef=eK,ep=eJ}1===ew&&(o=1+ep*(-2.5+.8125*ep),h=1+2*ep,m=1+ep*(-6+6.60937*ep),t=.75*(1+A)*(1+A),a=1+A,a*=1.875*a*a,eq=2*(eW=3*eN*eN*C*C)*t*o*17891679e-13,eV=3*eW*a*m*22123015e-14*C,eW=eW*(.9375*P*P*(1+3*A)-.75*(1+A))*h*21460748e-13*C,e$=(ee+es+E-eY)%b,eB=et+en+eP+eO+eR-(ea+.0043752690880113)),e_=e$,eU=ea,ey=0,eN=ea+0}return{em:ef,argpm:ej,inclm:ev,mm:eb,nm:eN,nodem:eM,irez:ew,atime:ey,d2201:ek,d2211:ez,d3210:eC,d3222:eS,d4410:eT,d4422:eA,d5220:eE,d5232:eI,d5421:eF,d5433:eD,dedt:eH,didt:eL,dmdt:eP,dndt:0,dnodt:eR,domdt:eO,del1:eW,del2:eq,del3:eV,xfact:eB,xlamo:e$,xli:e_,xni:eU}}({cosim:a,emsq:m,argpo:e.argpo,s1:M,s2:y,s3:C,s4:S,s5:T,sinim:s,ss1:D,ss2:H,ss3:L,ss4:P,ss5:R,sz1:O,sz3:W,sz11:q,sz13:V,sz21:B,sz23:$,sz31:_,sz33:U,t:e.t,tc:0,gsto:e.gsto,mo:e.mo,mdot:e.mdot,no:e.no,nodeo:e.nodeo,nodedot:e.nodedot,xpidot:K,z1:ee,z3:et,z11:ea,z13:es,z21:er,z23:en,z31:ei,z33:el,ecco:e.ecco,eccsq:ew,em:c,argpm:0,inclm:x,mm:0,nm:g,nodem:0,irez:e.irez,atime:e.atime,d2201:e.d2201,d2211:e.d2211,d3210:e.d3210,d3222:e.d3222,d4410:e.d4410,d4422:e.d4422,d5220:e.d5220,d5232:e.d5232,d5421:e.d5421,d5433:e.d5433,dedt:e.dedt,didt:e.didt,dmdt:e.dmdt,dnodt:e.dnodt,domdt:e.domdt,del1:e.del1,del2:e.del2,del3:e.del3,xfact:e.xfact,xlamo:e.xlamo,xli:e.xli,xni:e.xni});e.irez=eD.irez,e.atime=eD.atime,e.d2201=eD.d2201,e.d2211=eD.d2211,e.d3210=eD.d3210,e.d3222=eD.d3222,e.d4410=eD.d4410,e.d4422=eD.d4422,e.d5220=eD.d5220,e.d5232=eD.d5232,e.d5421=eD.d5421,e.d5433=eD.d5433,e.dedt=eD.dedt,e.didt=eD.didt,e.dmdt=eD.dmdt,e.dnodt=eD.dnodt,e.domdt=eD.domdt,e.del1=eD.del1,e.del2=eD.del2,e.del3=eD.del3,e.xfact=eD.xfact,e.xlamo=eD.xlamo,e.xli=eD.xli,e.xni=eD.xni}1!==e.isimp&&(r=e.cc1*e.cc1,e.d2=4*ev*Y*r,G=e.d2*Y*e.cc1/3,e.d3=(17*ev+E)*G,e.d4=.5*G*ev*Y*(221*ev+31*E)*e.cc1,e.t3cof=e.d2+2*r,e.t4cof=.25*(3*e.d3+e.cc1*(12*e.d2+10*r)),e.t5cof=.2*(3*e.d4+12*e.cc1*e.d3+6*e.d2*e.d2+15*r*(2*e.d2+r)))}F(e,0),e.init="n"}(p,{opsmode:"i",satn:p.satnum,epoch:p.jdsatepoch-2433281.5,xbstar:p.bstar,xecco:p.ecco,xargpo:p.argpo,xinclo:p.inclo,xmo:p.mo,xno:p.no,xnodeo:p.nodeo}),p}function H(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var r=(T.apply(void 0,a)-e.jdsatepoch)*1440;return F(e,r)}(t=s||(s={}))[t.None=0]="None",t[t.MeanEccentricityOutOfRange=1]="MeanEccentricityOutOfRange",t[t.MeanMotionBelowZero=2]="MeanMotionBelowZero",t[t.PerturbedEccentricityOutOfRange=3]="PerturbedEccentricityOutOfRange",t[t.SemiLatusRectumBelowZero=4]="SemiLatusRectumBelowZero",t[t.Decayed=6]="Decayed";function L(e){var t=e.longitude,a=e.latitude,s=e.height,r=6378.137/Math.sqrt(1-Math.sin(a)*Math.sin(a)*(.006705621343661861-11241339401143376e-21));return{x:(r+s)*Math.cos(a)*Math.cos(t),y:(r+s)*Math.cos(a)*Math.sin(t),z:(r*(1-(.006705621343661861-11241339401143376e-21))+s)*Math.sin(a)}}function P(e,t){return{x:e.x*Math.cos(t)+e.y*Math.sin(t),y:-(e.x*Math.sin(t))+e.y*Math.cos(t),z:e.z}}function R(e,t){try{let a=D(e.line1,e.line2),s=H(a,t);if(!s||!s.position)return console.error("Satellite propagation error"),null;let r=s.position,n=s.velocity,i=I(t),l=function(e,t){for(var a,s=Math.sqrt(e.x*e.x+e.y*e.y),r=.006705621343661861-11241339401143376e-21,n=Math.atan2(e.y,e.x)-t;n<-v;)n+=b;for(;n>v;)n-=b;for(var i=0,l=Math.atan2(e.z,Math.sqrt(e.x*e.x+e.y*e.y));i++<20;)a=1/Math.sqrt(1-Math.sin(l)*Math.sin(l)*r),l=Math.atan2(e.z+6378.137*a*r*Math.sin(l),s);var o=s/Math.cos(l)-6378.137*a;return{longitude:n,latitude:l,height:o}}(r,i),o=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);return{latitude:function(e){if(e<-v/2||e>v/2)throw RangeError("Latitude radians must be in range [-pi/2; pi/2].");return e*M}(l.latitude),longitude:function(e){if(e<-v||e>v)throw RangeError("Longitude radians must be in range [-pi; pi].");return e*M}(l.longitude),altitude:l.height,velocity:o}}catch(e){return console.error("Error calculating satellite position:",e),null}}function O(e,t,a){try{var s,r,n,i,l,o,d,c,m,h,u;let x=D(e.line1,e.line2),g=H(x,a);if(!g||!g.position||!g.velocity)return null;let p=g.position,f=g.velocity,j={latitude:t.latitude*N,longitude:t.longitude*N,height:(t.altitude||0)/1e3},b=I(a),M=P(p,b),w=P(f,b),y=(c=(s=j.longitude,r=j.latitude,n=L(j),i=M.x-n.x,l=M.y-n.y,d={topS:Math.sin(r)*Math.cos(s)*i+Math.sin(r)*Math.sin(s)*l-Math.cos(r)*(o=M.z-n.z),topE:-Math.sin(s)*i+Math.cos(s)*l,topZ:Math.cos(r)*Math.cos(s)*i+Math.cos(r)*Math.sin(s)*l+Math.sin(r)*o}).topS,m=d.topE,u=Math.sqrt(c*c+m*m+(h=d.topZ)*h),{azimuth:Math.atan2(-m,c)+v,elevation:Math.asin(h/u),rangeSat:u}),k=L(j),z={x:M.x-k.x,y:M.y-k.y,z:M.z-k.z},C=Math.sqrt(z.x*z.x+z.y*z.y+z.z*z.z),S=(z.x*w.x+z.y*w.y+z.z*w.z)/C,T=y.azimuth*(180/Math.PI),A=y.elevation*(180/Math.PI);return{azimuth:T<0?T+360:T,elevation:A,range:y.rangeSat,rangeRate:S}}catch(e){return console.error("Error calculating look angles:",e),null}}function W(e){return e.getTime()/864e5+2440587.5}function q(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e/22.5)%16]}function V(e,t){if(0===t.length)throw Error("Cannot build pass with empty trajectory");let a=-90,s=e,r=0;t.forEach((e,t)=>{e.lookAngles.elevation>a&&(a=e.lookAngles.elevation,s=e.date,r=t)});let n=t[t.length-1].date,i=(n.getTime()-e.getTime())/1e3;return{startTime:e,endTime:n,maxElevation:a,maxElevationTime:s,startAzimuth:t[0].lookAngles.azimuth,maxAzimuth:t[r].lookAngles.azimuth,endAzimuth:t[t.length-1].lookAngles.azimuth,duration:i,isVisible:!1,trajectory:t}}function B(e,t){return!t||void 0===t.minElevation||!(e.maxElevation<t.minElevation)}function $(e){let t=Math.floor(e/60),a=Math.floor(e%60);return`${t}m ${a}s`}function _(e){return e>=60?"excellent":e>=40?"good":e>=20?"fair":"poor"}async function U(e){try{let t=new URL("https://api.open-meteo.com/v1/forecast");t.searchParams.set("latitude",e.latitude.toFixed(4)),t.searchParams.set("longitude",e.longitude.toFixed(4)),t.searchParams.set("hourly","cloud_cover,precipitation,visibility"),t.searchParams.set("timezone","auto"),t.searchParams.set("forecast_days","7");let a=await fetch(t.toString(),{method:"GET",cache:"default"});if(!a.ok)return console.error("Weather API error:",a.status,a.statusText),null;return await a.json()}catch(e){return console.error("Failed to fetch weather forecast:",e),null}}let G=new Map;async function X(e){let t=`${e.latitude.toFixed(2)},${e.longitude.toFixed(2)}`,a=G.get(t);if(a&&Date.now()-a.timestamp<18e5)return a.forecast;let s=await U(e);return s&&G.set(t,{forecast:s,timestamp:Date.now()}),s}var Q=e.i(10204),Z=e.i(99375),Y=e.i(67692),K=e.i(75254);let J=(0,K.default)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),ee=(0,K.default)("cloud-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);function et({filters:e,onFiltersChange:t}){let[a,s]=(0,n.useState)(e.minElevation);return(0,n.useEffect)(()=>{s(e.minElevation)},[e.minElevation]),(0,r.jsxs)("div",{className:"space-y-6 p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(J,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}),(0,r.jsx)(Q.Label,{htmlFor:"min-elevation",className:"text-sm font-medium",children:"Elevação Mínima"})]}),(0,r.jsxs)("span",{className:"text-sm font-mono text-slate-700 dark:text-slate-300",children:[a,"°"]})]}),(0,r.jsx)(Y.Slider,{id:"min-elevation",value:[a],onValueChange:e=>{s(e[0])},onValueCommit:a=>{t({...e,minElevation:a[0]})},min:0,max:90,step:5,className:"w-full"}),(0,r.jsxs)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Filtra passagens com elevação máxima abaixo de ",a,"°"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-3 pt-3 border-t border-slate-200 dark:border-slate-800",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,r.jsx)(u.Eye,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(Q.Label,{htmlFor:"visible-only",className:"text-sm font-medium",children:"Apenas Passagens Visíveis"}),(0,r.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"ISS iluminado pelo sol + céu escuro"})]})]}),(0,r.jsx)(Z.Switch,{id:"visible-only",checked:e.visibleOnly,onCheckedChange:a=>{t({...e,visibleOnly:a})}})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-3 pt-3 border-t border-slate-200 dark:border-slate-800",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,r.jsx)(ee,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(Q.Label,{htmlFor:"good-weather-only",className:"text-sm font-medium",children:"Apenas Bom Tempo"}),(0,r.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Céu limpo (< 30% nuvens) sem precipitação"})]})]}),(0,r.jsx)(Z.Switch,{id:"good-weather-only",checked:e.goodWeatherOnly,onCheckedChange:a=>{t({...e,goodWeatherOnly:a})}})]})]})}var ea=e.i(1851),es=e.i(77241),er=e.i(55545),en=e.i(55024),ei=e.i(99151),el=e.i(45110),eo=e.i(81092);function ed(e,t){let a=(0,eo.toDate)(e)-(0,eo.toDate)(t);return a<0?-1:a>0?1:a}var ec=e.i(34662);function em(e,t){return function(e,t,a){var s;let r,n=(0,en.getDefaultOptions)(),i=a?.locale??n.locale??er.defaultLocale,l=ed(e,t);if(isNaN(l))throw RangeError("Invalid time value");let o=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:l}),[d,c]=(0,el.normalizeDates)(a?.in,...l>0?[t,e]:[e,t]),m=(s=void 0,e=>{let t=(s?Math[s]:Math.trunc)(e);return 0===t?0:t})(((0,eo.toDate)(c)-(0,eo.toDate)(d))/1e3),h=Math.round((m-((0,ei.getTimezoneOffsetInMilliseconds)(c)-(0,ei.getTimezoneOffsetInMilliseconds)(d))/1e3)/60);if(h<2)if(a?.includeSeconds)if(m<5)return i.formatDistance("lessThanXSeconds",5,o);else if(m<10)return i.formatDistance("lessThanXSeconds",10,o);else if(m<20)return i.formatDistance("lessThanXSeconds",20,o);else if(m<40)return i.formatDistance("halfAMinute",0,o);else if(m<60)return i.formatDistance("lessThanXMinutes",1,o);else return i.formatDistance("xMinutes",1,o);else if(0===h)return i.formatDistance("lessThanXMinutes",1,o);else return i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<ec.minutesInDay){let e=Math.round(h/60);return i.formatDistance("aboutXHours",e,o)}if(h<2520)return i.formatDistance("xDays",1,o);else if(h<ec.minutesInMonth){let e=Math.round(h/ec.minutesInDay);return i.formatDistance("xDays",e,o)}else if(h<2*ec.minutesInMonth)return r=Math.round(h/ec.minutesInMonth),i.formatDistance("aboutXMonths",r,o);if((r=function(e,t,a){var s,r;let n,i,l,o,[d,c,m]=(0,el.normalizeDates)(void 0,e,e,t),h=ed(c,m),u=Math.abs(function(e,t,a){let[s,r]=(0,el.normalizeDates)(void 0,e,t);return 12*(s.getFullYear()-r.getFullYear())+(s.getMonth()-r.getMonth())}(c,m));if(u<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-h*u);let x=ed(c,m)===-h;+(n=(0,eo.toDate)(d,void 0),s=void 0,(i=(0,eo.toDate)(n,s?.in)).setHours(23,59,59,999),i)==+(r=void 0,o=(l=(0,eo.toDate)(n,r?.in)).getMonth(),l.setFullYear(l.getFullYear(),o+1,0),l.setHours(23,59,59,999),l)&&1===u&&1===ed(d,m)&&(x=!1);let g=h*(u-x);return 0===g?0:g}(c,d))<12){let e=Math.round(h/ec.minutesInMonth);return i.formatDistance("xMonths",e,o)}{let e=r%12,t=Math.trunc(r/12);return e<3?i.formatDistance("aboutXYears",t,o):e<9?i.formatDistance("overXYears",t,o):i.formatDistance("almostXYears",t+1,o)}}(e,(0,es.constructFrom)(e,Date.now()),t)}let eh={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};var eu=e.i(15e3);let ex={date:(0,eu.buildFormatLongFn)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,eu.buildFormatLongFn)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,eu.buildFormatLongFn)({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},eg={lastWeek:e=>{let t=e.getDay();return"'"+(0===t||6===t?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"};var ep=e.i(79564);let ef={ordinalNumber:(e,t)=>Number(e)+"º",era:(0,ep.buildLocalizeFn)({values:{narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},defaultWidth:"wide"}),quarter:(0,ep.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,ep.buildLocalizeFn)({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:(0,ep.buildLocalizeFn)({values:{narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:(0,ep.buildLocalizeFn)({values:{narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},defaultWidth:"wide",formattingValues:{narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},defaultFormattingWidth:"wide"})};var ej=e.i(16283);let ev={code:"pt",formatDistance:(e,t,a)=>{let s,r=eh[e];if(s="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",String(t)),a?.addSuffix)if(a.comparison&&a.comparison>0)return"daqui a "+s;else return"há "+s;return s},formatLong:ex,formatRelative:(e,t,a,s)=>{let r=eg[e];return"function"==typeof r?r(t):r},localize:ef,match:{ordinalNumber:(0,e.i(10961).buildMatchPatternFn)({matchPattern:/^(\d+)(º|ª)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,ej.buildMatchFn)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},defaultParseWidth:"any"}),quarter:(0,ej.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,ej.buildMatchFn)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,ej.buildMatchFn)({matchPatterns:{narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},defaultParseWidth:"any"}),dayPeriod:(0,ej.buildMatchFn)({matchPatterns:{narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};var eb=e.i(84774),eN=e.i(87486),eM=e.i(15288);let ew=(0,K.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var ey=e.i(3116),ek=e.i(94908),ez=e.i(25652);let eC=(0,K.default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),eS=(0,K.default)("cloud-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);function eT({passes:e,currentTime:t}){let a=(0,n.useMemo)(()=>e.find(e=>e.startTime>t),[e,t]);return 0===e.length?(0,r.jsx)(eM.Card,{children:(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsx)(eM.CardTitle,{children:"Nenhuma Passagem Encontrada"}),(0,r.jsx)(eM.CardDescription,{children:"Não foram encontradas passagens da ISS para os próximos 7 dias com os filtros atuais."})]})}):(0,r.jsxs)("div",{className:"space-y-4",children:[a&&(0,r.jsxs)(eM.Card,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsxs)(eM.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(ey.Clock,{className:"h-5 w-5"}),"Próxima Passagem"]}),(0,r.jsx)(eM.CardDescription,{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:em(a.startTime,{locale:ev,addSuffix:!0})})]}),(0,r.jsxs)(eM.CardContent,{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Início"}),(0,r.jsx)("div",{className:"font-medium",children:(0,ea.format)(a.startTime,"HH:mm:ss",{locale:ev})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Duração"}),(0,r.jsx)("div",{className:"font-medium",children:$(a.duration)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Elevação Máx."}),(0,r.jsxs)("div",{className:"font-medium",children:[a.maxElevation.toFixed(1),"°"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Direção"}),(0,r.jsx)("div",{className:"font-medium",children:q(a.maxAzimuth)})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[a.isVisible?(0,r.jsxs)(eN.Badge,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(u.Eye,{className:"h-3 w-3 mr-1"}),"Visível"]}):(0,r.jsxs)(eN.Badge,{variant:"secondary",children:[(0,r.jsx)(ew,{className:"h-3 w-3 mr-1"}),"Não Visível"]}),(0,r.jsx)(eN.Badge,{variant:"outline",children:eA(_(a.maxElevation))}),a.weather&&(a.weather.isGoodWeather?(0,r.jsxs)(eN.Badge,{variant:"default",className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(eS,{className:"h-3 w-3 mr-1"}),"Bom Tempo"]}):(0,r.jsxs)(eN.Badge,{variant:"outline",className:"text-orange-600 dark:text-orange-400",children:[(0,r.jsx)(eC,{className:"h-3 w-3 mr-1"}),"Nuvens: ",a.weather.cloudCover.toFixed(0),"%"]}))]})]})]}),(0,r.jsxs)(eM.Card,{children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsxs)(eM.CardTitle,{children:["Todas as Passagens (",e.length,")"]}),(0,r.jsx)(eM.CardDescription,{children:"Próximos 7 dias"})]}),(0,r.jsx)(eM.CardContent,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(eb.Table,{children:[(0,r.jsx)(eb.TableHeader,{children:(0,r.jsxs)(eb.TableRow,{children:[(0,r.jsx)(eb.TableHead,{children:"Data/Hora"}),(0,r.jsx)(eb.TableHead,{children:"Duração"}),(0,r.jsx)(eb.TableHead,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,r.jsx)(ez.TrendingUp,{className:"h-4 w-4"}),"Elev. Máx."]})}),(0,r.jsx)(eb.TableHead,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,r.jsx)(ek.Compass,{className:"h-4 w-4"}),"Direção"]})}),(0,r.jsx)(eb.TableHead,{children:"Qualidade"}),(0,r.jsx)(eb.TableHead,{children:"Visibilidade"}),(0,r.jsx)(eb.TableHead,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,r.jsx)(eC,{className:"h-4 w-4"}),"Tempo"]})})]})}),(0,r.jsx)(eb.TableBody,{children:e.map((e,t)=>{let s=e===a;return(0,r.jsxs)(eb.TableRow,{className:s?"bg-blue-50 dark:bg-blue-950":"",children:[(0,r.jsx)(eb.TableCell,{className:"font-medium",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{children:(0,ea.format)(e.startTime,"dd/MM/yyyy",{locale:ev})}),(0,r.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:(0,ea.format)(e.startTime,"HH:mm:ss",{locale:ev})})]})}),(0,r.jsx)(eb.TableCell,{children:(0,r.jsx)("span",{className:"font-mono text-sm",children:$(e.duration)})}),(0,r.jsxs)(eb.TableCell,{className:"text-center font-medium",children:[e.maxElevation.toFixed(1),"°"]}),(0,r.jsx)(eb.TableCell,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"font-medium",children:q(e.maxAzimuth)}),(0,r.jsxs)("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-mono",children:[e.maxAzimuth.toFixed(0),"°"]})]})}),(0,r.jsx)(eb.TableCell,{children:(0,r.jsx)(eN.Badge,{variant:{excellent:"default",good:"default",fair:"secondary",poor:"outline"}[_(e.maxElevation)],children:eA(_(e.maxElevation))})}),(0,r.jsx)(eb.TableCell,{children:e.isVisible?(0,r.jsxs)(eN.Badge,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(u.Eye,{className:"h-3 w-3 mr-1"}),"Sim"]}):(0,r.jsxs)(eN.Badge,{variant:"secondary",children:[(0,r.jsx)(ew,{className:"h-3 w-3 mr-1"}),"Não"]})}),(0,r.jsx)(eb.TableCell,{className:"text-center",children:e.weather?e.weather.isGoodWeather?(0,r.jsxs)(eN.Badge,{variant:"default",className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(eS,{className:"h-3 w-3 mr-1"}),"Bom"]}):(0,r.jsxs)(eN.Badge,{variant:"outline",className:"text-orange-600 dark:text-orange-400",children:[(0,r.jsx)(eC,{className:"h-3 w-3 mr-1"}),e.weather.cloudCover.toFixed(0),"%"]}):(0,r.jsx)(eN.Badge,{variant:"secondary",className:"text-xs",children:"N/D"})})]},t)})})]})})})]})]})}function eA(e){return({excellent:"Excelente",good:"Boa",fair:"Razoável",poor:"Fraca"})[e]}function eE({passes:e,currentPosition:t,width:a=600,height:s=600}){let i,l=a/2,o=s/2,d=Math.min(a,s)/2-40,c=n.default.useCallback((e,t)=>{let a=d*(1-e/90),s=Math.PI/180*(t-90);return{x:l+a*Math.cos(s),y:o+a*Math.sin(s)}},[l,o,d]),m=(0,n.useMemo)(()=>e.slice(0,10).map((e,t)=>{let a=e.trajectory.map(e=>{let t=c(e.lookAngles.elevation,e.lookAngles.azimuth);return`${t.x},${t.y}`}),s=c(e.trajectory[0].lookAngles.elevation,e.trajectory[0].lookAngles.azimuth),r=c(e.maxElevation,e.maxAzimuth);return{path:`M ${a.join(" L ")}`,color:e.isVisible?`hsl(${140-15*t}, 70%, 50%)`:`hsl(${220-15*t}, 50%, 60%)`,startPoint:s,maxElevationPoint:r,pass:e,index:t}}),[e,c]);return(0,r.jsxs)(eM.Card,{children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsx)(eM.CardTitle,{children:"Carta Celeste"}),(0,r.jsx)(eM.CardDescription,{children:"Trajetória da ISS no céu (visão do observador)"})]}),(0,r.jsx)(eM.CardContent,{children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsxs)("svg",{width:a,height:s,viewBox:`0 0 ${a} ${s}`,className:"max-w-full h-auto",children:[(0,r.jsx)("rect",{width:a,height:s,fill:"transparent"}),[0,30,60,90].map(e=>{let t=d*(1-e/90);return(0,r.jsxs)("g",{children:[(0,r.jsx)("circle",{cx:l,cy:o,r:t,fill:"none",stroke:"currentColor",strokeWidth:0===e?2:1,strokeDasharray:0===e?"none":"4 2",className:"text-slate-300 dark:text-slate-700"}),e>0&&(0,r.jsxs)("text",{x:l+5,y:o-t+5,fontSize:"10",className:"fill-slate-500 dark:fill-slate-500",children:[e,"°"]})]},e)}),[{label:"N",angle:0},{label:"NE",angle:45},{label:"E",angle:90},{label:"SE",angle:135},{label:"S",angle:180},{label:"SW",angle:225},{label:"W",angle:270},{label:"NW",angle:315}].map(e=>{let t=c(0,e.angle),a=c(-10,e.angle);return(0,r.jsxs)("g",{children:[(0,r.jsx)("line",{x1:l,y1:o,x2:t.x,y2:t.y,stroke:"currentColor",strokeWidth:e.angle%90==0?1.5:.5,strokeDasharray:"2 2",className:"text-slate-300 dark:text-slate-700"}),(0,r.jsx)("text",{x:a.x,y:a.y,fontSize:e.angle%90==0?"14":"12",fontWeight:e.angle%90==0?"bold":"normal",textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-700 dark:fill-slate-300",children:e.label})]},e.label)}),(0,r.jsx)("circle",{cx:l,cy:o,r:3,fill:"currentColor",className:"text-slate-400 dark:text-slate-600"}),(0,r.jsx)("text",{x:l,y:o-10,fontSize:"10",textAnchor:"middle",className:"fill-slate-500 dark:fill-slate-500",children:"Zénite"}),m.map(({path:e,color:t,startPoint:a,maxElevationPoint:s,index:n})=>(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:e,fill:"none",stroke:t,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",opacity:.7}),(0,r.jsx)("circle",{cx:a.x,cy:a.y,r:4,fill:t,stroke:"white",strokeWidth:1.5}),(0,r.jsx)("circle",{cx:s.x,cy:s.y,r:5,fill:t,stroke:"white",strokeWidth:2,opacity:.9})]},n)),t&&t.elevation>0&&(0,r.jsx)("g",{children:(i=c(t.elevation,t.azimuth),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("circle",{cx:i.x,cy:i.y,r:8,fill:"red",stroke:"white",strokeWidth:2,opacity:.9,children:(0,r.jsx)("animate",{attributeName:"r",values:"8;12;8",dur:"1.5s",repeatCount:"indefinite"})}),(0,r.jsx)("text",{x:i.x,y:i.y-15,fontSize:"12",fontWeight:"bold",textAnchor:"middle",className:"fill-red-600 dark:fill-red-400",children:"AGORA"})]}))})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,r.jsxs)(eN.Badge,{variant:"outline",className:"text-xs",children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-green-500 mr-1"}),"Visível"]}),(0,r.jsxs)(eN.Badge,{variant:"outline",className:"text-xs",children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-500 mr-1"}),"Não Visível"]}),(0,r.jsxs)(eN.Badge,{variant:"outline",className:"text-xs",children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 rounded-full border-2 border-current mr-1"}),"Início da Passagem"]}),(0,r.jsxs)(eN.Badge,{variant:"outline",className:"text-xs",children:[(0,r.jsx)("span",{className:"inline-block w-3 h-3 rounded-full bg-current mr-1"}),"Elevação Máxima"]})]}),(0,r.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400 text-center max-w-md",children:"Mostra até 10 próximas passagens. O centro representa o zénite (diretamente acima), e o círculo externo representa o horizonte."})]})})]})}var eI=e.i(32322);let eF={previous:[],current:[],next:[]};function eD({currentPosition:e,observer:t,orbitPaths:a=eF}){let s=(0,n.useRef)(null),i=(0,n.useRef)(null),l=(0,n.useRef)(null),o=(0,n.useRef)(null),d=(0,n.useRef)(null),c=(0,n.useRef)(null),m=(0,n.useRef)(null),h=(0,n.useMemo)(()=>eI.default.divIcon({html:`<div style="
      width: 16px;
      height: 16px;
      background: #ef4444;
      border: 3px solid white;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    "></div>`,className:"",iconSize:[16,16],iconAnchor:[8,8]}),[]),u=(0,n.useMemo)(()=>eI.default.divIcon({html:`<div style="
      width: 12px;
      height: 12px;
      background: #3b82f6;
      border: 2px solid white;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    "></div>`,className:"",iconSize:[12,12],iconAnchor:[6,6]}),[]);return(0,n.useEffect)(()=>{if(!s.current||i.current)return;let t=eI.default.map(s.current,{center:[e?.latitude||0,e?.longitude||0],zoom:2,scrollWheelZoom:!0,worldCopyJump:!1,maxBounds:[[-90,-180],[90,180]],maxBoundsViscosity:1});return eI.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19,noWrap:!0}).addTo(t),i.current=t,()=>{t.remove(),i.current=null,l.current=null,o.current=null,d.current=null,c.current=null,m.current=null}},[]),(0,n.useEffect)(()=>{i.current&&e&&(l.current?(l.current.setLatLng([e.latitude,e.longitude]),l.current.setPopupContent(`
        <div style="font-family: sans-serif;">
          <strong>ISS</strong><br/>
          Lat: ${e.latitude.toFixed(2)}\xb0<br/>
          Lon: ${e.longitude.toFixed(2)}\xb0<br/>
          Alt: ${e.altitude.toFixed(0)} km<br/>
          Vel: ${(3600*e.velocity).toFixed(0)} km/h
        </div>
      `)):l.current=eI.default.marker([e.latitude,e.longitude],{icon:h}).addTo(i.current).bindPopup(`
          <div style="font-family: sans-serif;">
            <strong>ISS</strong><br/>
            Lat: ${e.latitude.toFixed(2)}\xb0<br/>
            Lon: ${e.longitude.toFixed(2)}\xb0<br/>
            Alt: ${e.altitude.toFixed(0)} km<br/>
            Vel: ${(3600*e.velocity).toFixed(0)} km/h
          </div>
        `))},[e,h]),(0,n.useEffect)(()=>{i.current&&(o.current?(o.current.setLatLng([t.latitude,t.longitude]),o.current.setPopupContent(`
        <div style="font-family: sans-serif;">
          <strong>Sua Localiza\xe7\xe3o</strong><br/>
          ${t.name||""}<br/>
          Lat: ${t.latitude.toFixed(4)}\xb0<br/>
          Lon: ${t.longitude.toFixed(4)}\xb0
        </div>
      `)):o.current=eI.default.marker([t.latitude,t.longitude],{icon:u}).addTo(i.current).bindPopup(`
          <div style="font-family: sans-serif;">
            <strong>Sua Localiza\xe7\xe3o</strong><br/>
            ${t.name||""}<br/>
            Lat: ${t.latitude.toFixed(4)}\xb0<br/>
            Lon: ${t.longitude.toFixed(4)}\xb0
          </div>
        `))},[t,u]),(0,n.useEffect)(()=>{if(!i.current)return;let e=(e,t,a,s,r)=>{e.current&&e.current.forEach(e=>e.remove()),e.current=(function(e){if(0===e.length)return[];let t=[],a=[];for(let s=0;s<e.length;s++){let r=e[s];if(a.push([r.latitude,r.longitude]),s<e.length-1){let n=e[s+1];Math.abs(r.longitude-n.longitude)>180&&(t.push(a),a=[])}}return a.length>0&&t.push(a),t})(t).map(e=>eI.default.polyline(e,{color:a,weight:2,opacity:s,dashArray:r}).addTo(i.current))};e(d,a.previous,"#6b7280",.4,"5, 5"),e(c,a.current,"#eab308",.8),e(m,a.next,"#3b82f6",.6,"5, 5")},[a]),(0,r.jsxs)(eM.Card,{children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsx)(eM.CardTitle,{children:"Rastro no Solo"}),(0,r.jsx)(eM.CardDescription,{children:"Posição atual da ISS e trajetória orbital"})]}),(0,r.jsxs)(eM.CardContent,{children:[(0,r.jsx)("div",{ref:s,className:"w-full h-[500px] rounded-lg overflow-hidden border border-slate-200 dark:border-slate-800"}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full border-2 border-white"}),(0,r.jsx)("span",{children:"ISS"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full border-2 border-white"}),(0,r.jsx)("span",{children:"Sua Localização"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-0.5 bg-gray-500 opacity-40",style:{borderTop:"2px dashed"}}),(0,r.jsx)("span",{children:"Órbita Anterior"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-0.5 bg-yellow-500 opacity-80"}),(0,r.jsx)("span",{children:"Órbita Atual"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-0.5 bg-blue-500 opacity-60",style:{borderTop:"2px dashed"}}),(0,r.jsx)("span",{children:"Próxima Órbita"})]})]})]})]})}var eH=e.i(34858),eL=e.i(64409),eP=e.i(94245),eR=e.i(75157);function eO({tle:e,currentPosition:t,currentLookAngles:a,nextPassTime:s}){let l,o=(0,eP.useTranslations)("compass"),d=(0,eL.useDeviceCompass)(),c=!!a&&a.elevation>0,h=n.useMemo(()=>{if(!a||null===d.heading)return null;let e=a.azimuth-d.heading;for(;e>180;)e-=360;for(;e<-180;)e+=360;return e},[a,d.heading]);return t&&a?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(eM.Card,{className:c?"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800":"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950",children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,r.jsxs)(eM.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Satellite,{className:"h-5 w-5"}),"Estado Atual"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[d.isSupported&&(0,r.jsxs)(i.Button,{variant:d.isEnabled?"default":"outline",size:"sm",onClick:()=>d.toggle(),className:(0,eR.cn)("gap-1",d.isEnabled&&"bg-green-600 hover:bg-green-700"),children:[(0,r.jsx)(ek.Compass,{className:(0,eR.cn)("h-3 w-3",d.isEnabled&&"animate-pulse")}),(0,r.jsx)("span",{className:"hidden sm:inline",children:o(d.isEnabled?"disable":"enable")})]}),c?(0,r.jsxs)(eN.Badge,{className:"bg-green-600 hover:bg-green-700 animate-pulse",children:[(0,r.jsx)(u.Eye,{className:"h-3 w-3 mr-1"}),"VISÍVEL AGORA"]}):(0,r.jsx)(eN.Badge,{variant:"secondary",children:"Abaixo do Horizonte"})]})]}),d.error&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:d.error})]}),(0,r.jsx)(eM.CardContent,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[(0,r.jsx)(ez.TrendingUp,{className:"h-3 w-3"}),"Elevação"]}),(0,r.jsxs)("div",{className:`text-2xl font-bold font-mono ${c?"text-green-700 dark:text-green-400":""}`,children:[a.elevation.toFixed(1),"°"]})]}),(0,r.jsxs)("div",{className:(0,eR.cn)("space-y-1 p-2 -m-2 rounded-lg transition-all",d.isEnabled&&"bg-green-100 dark:bg-green-900/30"),children:[(0,r.jsxs)("div",{className:(0,eR.cn)("flex items-center gap-1",d.isEnabled?"text-green-700 dark:text-green-400":"text-slate-600 dark:text-slate-400"),children:[(0,r.jsx)(ek.Compass,{className:"h-3 w-3",style:{transform:d.isEnabled&&null!==h?`rotate(${h}deg)`:`rotate(${a.azimuth}deg)`}}),"Azimute",d.isEnabled&&(0,r.jsx)("span",{className:"text-[10px] font-medium ml-1",children:"(LIVE)"})]}),(0,r.jsxs)("div",{className:"text-2xl font-bold font-mono",children:[a.azimuth.toFixed(1),"°"]}),(0,r.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:q(a.azimuth)}),d.isEnabled&&null!==h&&(0,r.jsx)("div",{className:(0,eR.cn)("text-xs font-medium",15>=Math.abs(h)?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"),children:o((l=Math.abs(h))<=15?"ahead":l<=45?h>0?"slightRight":"slightLeft":l<=135?h>0?"right":"left":"behind")})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[(0,r.jsx)(eH.Navigation,{className:"h-3 w-3"}),"Distância"]}),(0,r.jsx)("div",{className:"text-2xl font-bold font-mono",children:a.range.toFixed(0)}),(0,r.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"km"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[(0,r.jsx)(m.Satellite,{className:"h-3 w-3"}),"Altitude"]}),(0,r.jsx)("div",{className:"text-2xl font-bold font-mono",children:t.altitude.toFixed(0)}),(0,r.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"km"})]})]})})]}),(0,r.jsxs)(eM.Card,{children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsx)(eM.CardTitle,{children:"Posição da ISS"}),(0,r.jsx)(eM.CardDescription,{children:"Localização geográfica atual"})]}),(0,r.jsx)(eM.CardContent,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Latitude"}),(0,r.jsxs)("div",{className:"text-xl font-mono",children:[t.latitude.toFixed(4),"°"]}),(0,r.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:t.latitude>0?"Norte":"Sul"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Longitude"}),(0,r.jsxs)("div",{className:"text-xl font-mono",children:[t.longitude.toFixed(4),"°"]}),(0,r.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:t.longitude>0?"Este":"Oeste"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Velocidade"}),(0,r.jsx)("div",{className:"text-xl font-mono",children:(3600*t.velocity).toFixed(0)}),(0,r.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"km/h"})]})]})})]}),!c&&s&&(0,r.jsxs)(eM.Card,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:[(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsxs)(eM.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(ey.Clock,{className:"h-5 w-5"}),"Próxima Passagem"]}),(0,r.jsx)(eM.CardDescription,{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:em(s,{locale:ev,addSuffix:!0})})]}),(0,r.jsx)(eM.CardContent,{children:(0,r.jsxs)("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[(0,r.jsx)("strong",{children:"Dica:"})," Configure um alarme para não perder a próxima passagem visível!"]})})]}),e&&(0,r.jsxs)("div",{className:"text-xs text-slate-600 dark:text-slate-400 text-center",children:["Dados orbitais de ",new Date(e.fetchedAt).toLocaleString("pt-PT"),Date.now()-e.fetchedAt>1728e5&&(0,r.jsx)("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:"(atualize os dados para maior precisão)"})]})]}):(0,r.jsx)(eM.Card,{children:(0,r.jsxs)(eM.CardHeader,{children:[(0,r.jsx)(eM.CardTitle,{children:"Rastreamento em Tempo Real"}),(0,r.jsx)(eM.CardDescription,{children:"Carregando dados da ISS..."})]})})}var eW=e.i(46897),eq=e.i(88699),eV=e.i(31278),eB=e.i(56989),e$=e.i(55563),e_=e.i(93479),eU=e.i(48256),eG=e.i(37727);function eX({initialLocation:e,onSave:t,onCancel:a}){let{isLocating:s}=(0,eB.useUserLocation)(),[d,c]=(0,n.useState)(""),[m,h]=(0,n.useState)(e?.latitude.toString()||""),[u,x]=(0,n.useState)(e?.longitude.toString()||""),[g,p]=(0,n.useState)(null),f=e?(0,e$.latLonToQth)(e.latitude,e.longitude,6):null;return(0,r.jsxs)(eM.Card,{children:[(0,r.jsx)(eM.CardHeader,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(eM.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(eW.MapPin,{className:"h-5 w-5"}),"Alterar Localizacao"]}),(0,r.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:a,children:(0,r.jsx)(eG.X,{className:"h-4 w-4"})})]})}),(0,r.jsxs)(eM.CardContent,{children:[(0,r.jsxs)(l.Tabs,{defaultValue:"auto",className:"w-full",children:[(0,r.jsxs)(l.TabsList,{className:"grid w-full grid-cols-3",children:[(0,r.jsxs)(l.TabsTrigger,{value:"auto",children:[(0,r.jsx)(eH.Navigation,{className:"h-4 w-4 mr-1"}),"Auto"]}),(0,r.jsxs)(l.TabsTrigger,{value:"qth",children:[(0,r.jsx)(eW.MapPin,{className:"h-4 w-4 mr-1"}),"QTH"]}),(0,r.jsxs)(l.TabsTrigger,{value:"coords",children:[(0,r.jsx)(eU.Globe,{className:"h-4 w-4 mr-1"}),"Coords"]})]}),(0,r.jsxs)(l.TabsContent,{value:"auto",className:"space-y-3 mt-4",children:[(0,r.jsxs)(i.Button,{onClick:()=>{(p(null),navigator.geolocation)?navigator.geolocation.getCurrentPosition(e=>{t({latitude:e.coords.latitude,longitude:e.coords.longitude,altitude:e.coords.altitude||0,name:`${e.coords.latitude.toFixed(4)}, ${e.coords.longitude.toFixed(4)}`})},e=>{let t=`Erro ao obter localizacao: ${e.message}`;(e.message.includes("429")||e.message.includes("rate limit")||e.message.includes("Network location provider"))&&(t='Limite de requisicoes atingido. Por favor, use "QTH Locator" ou "Coordenadas" em vez disso.'),p(t)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):p("Geolocalizacao nao suportada neste navegador")},disabled:s,variant:"outline",className:"w-full",children:[s?(0,r.jsx)(eV.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(eH.Navigation,{className:"h-4 w-4 mr-2"}),s?"Detectando...":"Detectar Localizacao Automatica"]}),(0,r.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Usa GPS do dispositivo. Se nao funcionar, use as outras opcoes."})]}),(0,r.jsx)(l.TabsContent,{value:"qth",className:"mt-4",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(null);let a=d.trim().toUpperCase();if(!(0,e$.isValidQth)(a))return void p("Localizador QTH invalido. Use formato AA00 ou AA00aa (ex: IM58kr)");let s=(0,e$.qthToLatLon)(a);s?t({latitude:s.latitude,longitude:s.longitude,altitude:0,name:a}):p("Nao foi possivel converter o localizador QTH")},className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(Q.Label,{htmlFor:"qth-input",children:"Localizador QTH (Maidenhead)"}),(0,r.jsx)(e_.Input,{id:"qth-input",type:"text",placeholder:f||"IM58kr",value:d,onChange:e=>c(e.target.value.toUpperCase()),maxLength:6,className:"font-mono mt-1"}),(0,r.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:"Formato: AA00 ou AA00aa. Ex: IM58, IM58kr"})]}),(0,r.jsxs)(i.Button,{type:"submit",className:"w-full",children:[(0,r.jsx)(eW.MapPin,{className:"h-4 w-4 mr-2"}),"Usar Localizador QTH"]})]})}),(0,r.jsx)(l.TabsContent,{value:"coords",className:"mt-4",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(null);let a=parseFloat(m),s=parseFloat(u);isNaN(a)||a<-90||a>90?p("Latitude invalida. Deve estar entre -90 e 90 graus."):isNaN(s)||s<-180||s>180?p("Longitude invalida. Deve estar entre -180 e 180 graus."):t({latitude:a,longitude:s,altitude:0,name:`${a.toFixed(4)}, ${s.toFixed(4)}`})},className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(Q.Label,{htmlFor:"lat-input",children:"Latitude"}),(0,r.jsx)(e_.Input,{id:"lat-input",type:"number",step:"0.0001",placeholder:"38.7223",value:m,onChange:e=>h(e.target.value),className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(Q.Label,{htmlFor:"lon-input",children:"Longitude"}),(0,r.jsx)(e_.Input,{id:"lon-input",type:"number",step:"0.0001",placeholder:"-9.1393",value:u,onChange:e=>x(e.target.value),className:"mt-1"})]})]}),(0,r.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Copie do Google Maps (clique direito → copiar coordenadas)"}),(0,r.jsxs)(i.Button,{type:"submit",className:"w-full",children:[(0,r.jsx)(eU.Globe,{className:"h-4 w-4 mr-2"}),"Usar Coordenadas"]})]})})]}),g&&(0,r.jsx)(o.Alert,{variant:"destructive",className:"mt-4",children:(0,r.jsx)(o.AlertDescription,{children:g})}),(0,r.jsx)("div",{className:"flex justify-end mt-4 pt-3 border-t",children:(0,r.jsx)(i.Button,{variant:"ghost",onClick:a,children:"Cancelar"})})]})]})}function eQ(e){let t=(0,e$.latLonToQth)(e.latitude,e.longitude,6);return{latitude:e.latitude,longitude:e.longitude,altitude:0,name:t||`${e.latitude.toFixed(4)}, ${e.longitude.toFixed(4)}`}}function eZ({onLocationChange:e}){let{userLocation:t,isLocating:a,error:s,requestLocation:l,setLocation:d}=(0,eB.useUserLocation)(),[c,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t&&e&&e(eQ(t))},[t,e]);let h=t?(0,e$.latLonToQth)(t.latitude,t.longitude,6):null;return t||c?c?(0,r.jsx)(eX,{initialLocation:t?eQ(t):null,onSave:e=>{d({latitude:e.latitude,longitude:e.longitude,timestamp:Date.now()}),m(!1)},onCancel:()=>m(!1)}):t?(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,r.jsx)(eW.MapPin,{className:"h-4 w-4 flex-shrink-0 text-slate-600 dark:text-slate-400"}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm",children:[(0,r.jsxs)("span",{className:"text-slate-700 dark:text-slate-300",children:[t.latitude.toFixed(4),"°, ",t.longitude.toFixed(4),"°"]}),h&&(0,r.jsx)("span",{className:"font-mono text-slate-600 dark:text-slate-400 bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded",children:h}),t.isApproximate&&(0,r.jsx)("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:"(aproximado)"})]})]}),(0,r.jsxs)(i.Button,{onClick:()=>m(!0),size:"sm",variant:"ghost",className:"flex-shrink-0",children:[(0,r.jsx)(eq.Pencil,{className:"h-4 w-4 mr-1"}),"Alterar"]})]}):null:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(o.Alert,{children:[(0,r.jsx)(eW.MapPin,{className:"h-4 w-4"}),(0,r.jsxs)(o.AlertDescription,{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,r.jsx)("span",{children:"Defina sua localizacao para ver passagens de satelites."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.Button,{onClick:()=>l(),disabled:a,size:"sm",variant:"default",children:[a?(0,r.jsx)(eV.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(eH.Navigation,{className:"h-4 w-4 mr-2"}),"Detectar"]}),(0,r.jsxs)(i.Button,{onClick:()=>m(!0),size:"sm",variant:"outline",children:[(0,r.jsx)(eq.Pencil,{className:"h-4 w-4 mr-2"}),"Manual"]})]})]})]}),s&&(0,r.jsx)(o.Alert,{variant:"destructive",children:(0,r.jsx)(o.AlertDescription,{children:s})})]})}var eY=e.i(55436),eK=e.i(53234),eJ=e.i(53475);let e0=(0,K.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),e1=(0,K.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var e2=((a={}).FM_VOICE="fm-voice",a.LINEAR="linear",a.DIGITAL="digital",a.WEATHER="weather",a.OTHER="other",a);let e4={"fm-voice":"FM Voice",linear:"Linear (SSB/CW)",digital:"Digital",weather:"Meteorologia",other:"Outros"},e3={FM:"fm-voice",AFSK:"digital",APRS:"digital","AX.25":"digital",BPSK:"digital",CW:"linear",DQPSK:"digital",DSTAR:"digital",FSK:"digital",GFSK:"digital",GMSK:"digital",LRPT:"weather",MSK:"digital",OQPSK:"digital",PSK:"digital",QPSK:"digital",SSB:"linear",USB:"linear",LSB:"linear",SSTV:"digital",APT:"weather",HRPT:"weather"},e5="satellite_tle_bulk_cache";function e6(e=!1){try{let t=localStorage.getItem(e5);if(!t)return null;let a=JSON.parse(t);if(!e&&Date.now()-a.fetchedAt>432e5)return null;return a}catch(e){return console.error("Error reading bulk TLE cache:",e),null}}async function e8(e=!1){if(!e){let e=e6();if(e)return{data:e,cached:!0,satelliteCount:Object.keys(e.satellites).length}}try{let e=await fetch("https://celestrak.org/NORAD/elements/gp.php?GROUP=amateur&FORMAT=tle",{method:"GET",headers:{Accept:"text/plain"},cache:"no-store"});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.text(),a=function(e){let t={},a=e.trim().split("\n");for(let e=0;e<a.length;e+=3){let s=a[e]?.trim(),r=a[e+1]?.trim(),n=a[e+2]?.trim();if(!s||!r||!n||!r.startsWith("1 ")||!n.startsWith("2 "))continue;let i=r.substring(2,7).trim();69===r.length&&69===n.length&&(t[i]={name:s,line1:r,line2:n})}return t}(t),s=Object.keys(a).length;if(0===s)throw Error("No satellites parsed from response");let r={fetchedAt:Date.now(),satellites:a};try{localStorage.setItem(e5,JSON.stringify(r))}catch(e){console.error("Error caching bulk TLE:",e),function(){try{let e=[];for(let t=0;t<localStorage.length;t++){let a=localStorage.key(t);a?.startsWith("satellite_tle_cache_")&&e.push(a)}e.forEach(e=>localStorage.removeItem(e))}catch(e){console.error("Error clearing old caches:",e)}}();try{localStorage.setItem(e5,JSON.stringify(r))}catch{console.error("Still unable to cache bulk TLE after cleanup")}}return{data:r,cached:!1,satelliteCount:s}}catch(t){console.error("Error fetching bulk TLE:",t);let e=e6(!0);if(e)return{data:e,cached:!0,error:`Failed to fetch fresh TLE: ${t instanceof Error?t.message:"Unknown error"}. Using cached data.`,satelliteCount:Object.keys(e.satellites).length};return{data:null,cached:!1,error:`Failed to fetch TLE: ${t instanceof Error?t.message:"Unknown error"}`}}}let e9="satnogs_transmitters_cache";function e7(e=!1){try{let t=localStorage.getItem(e9);if(!t)return null;let a=JSON.parse(t);if(!e&&Date.now()-a.fetchedAt>36e5)return null;return a}catch(e){return console.error("Error reading SatNOGS cache:",e),null}}async function te(e=!1){if(!e){let e=e7();if(e)return{data:e.transmitters,cached:!0}}try{let e=await fetch("https://db.satnogs.org/api/transmitters/",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=(await e.json()).filter(e=>e.alive);try{let e={fetchedAt:Date.now(),transmitters:t};localStorage.setItem(e9,JSON.stringify(e))}catch(e){console.error("Error caching SatNOGS data:",e)}return{data:t,cached:!1}}catch(t){console.error("Error fetching SatNOGS transmitters:",t);let e=e7(!0);if(e)return{data:e.transmitters,cached:!0,error:`Failed to fetch fresh data: ${t instanceof Error?t.message:"Unknown error"}`};return{data:null,cached:!1,error:`Failed to fetch transmitters: ${t instanceof Error?t.message:"Unknown error"}`}}}function tt(e){return null===e?null:`${(e/1e6).toFixed(3)} MHz`}let ta=[{id:"iss",name:"ISS (ZARYA)",noradId:"25544",category:e2.FM_VOICE,uplink:"145.990 MHz",downlink:"145.800 MHz",mode:"FM Voice/APRS",description:"Estacao Espacial Internacional - operacoes de voz FM e APRS",status:"active"},{id:"so-50",name:"SO-50 (SaudiSat-1C)",noradId:"27607",category:e2.FM_VOICE,uplink:"145.850 MHz (67 Hz)",downlink:"436.795 MHz",mode:"FM Voice",description:"Satelite FM popular para iniciantes - requer tom 67 Hz para ativacao",status:"active"},{id:"ao-91",name:"AO-91 (RadFxSat)",noradId:"43017",category:e2.FM_VOICE,uplink:"435.250 MHz (67 Hz)",downlink:"145.960 MHz",mode:"FM Voice",description:"Satelite FM com boa cobertura - downlink em VHF",status:"active"},{id:"po-101",name:"PO-101 (Diwata-2)",noradId:"43678",category:e2.FM_VOICE,uplink:"145.900 MHz",downlink:"437.500 MHz",mode:"FM Voice",description:"Satelite filipino com transponder FM",status:"active"},{id:"ao-27",name:"AO-27",noradId:"22825",category:e2.FM_VOICE,uplink:"145.850 MHz",downlink:"436.795 MHz",mode:"FM Voice",description:"Satelite FM veterano - operacao esporadica",status:"active"},{id:"rs-44",name:"RS-44 (DOSAAF-85)",noradId:"44909",category:e2.LINEAR,uplink:"145.935-145.995 MHz",downlink:"435.610-435.670 MHz",mode:"SSB/CW Linear",description:"Transponder linear russo - excelente para SSB e CW",status:"active"},{id:"ao-07",name:"AO-07 (AMSAT-OSCAR 7)",noradId:"07530",category:e2.LINEAR,uplink:"145.850-145.950 MHz",downlink:"29.400-29.500 MHz",mode:"SSB/CW Linear",description:"Satelite historico de 1974 - ainda operacional! Modo A e B",status:"active"},{id:"fo-29",name:"FO-29 (JAS-2)",noradId:"24278",category:e2.LINEAR,uplink:"145.900-146.000 MHz",downlink:"435.800-435.900 MHz",mode:"SSB/CW Linear",description:"Transponder linear japones - modo V/U",status:"active"},{id:"xw-2a",name:"XW-2A (CAS-3A)",noradId:"40903",category:e2.LINEAR,uplink:"435.030-435.050 MHz",downlink:"145.665-145.685 MHz",mode:"SSB/CW Linear",description:"Transponder linear chines - modo U/V",status:"active"},{id:"xw-2c",name:"XW-2C (CAS-3C)",noradId:"40906",category:e2.LINEAR,uplink:"435.130-435.150 MHz",downlink:"145.795-145.815 MHz",mode:"SSB/CW Linear",description:"Transponder linear chines - modo U/V",status:"active"},{id:"eo-88",name:"EO-88 (Nayif-1)",noradId:"42017",category:e2.LINEAR,uplink:"435.045-435.065 MHz",downlink:"145.940-145.960 MHz",mode:"SSB/CW Linear",description:"Transponder linear dos Emirados Arabes Unidos",status:"active"},{id:"jo-97",name:"JO-97 (FalconSat-3)",noradId:"30776",category:e2.LINEAR,uplink:"435.100-435.125 MHz",downlink:"145.890-145.920 MHz",mode:"SSB/CW Linear",description:"Transponder linear experimental",status:"active"},{id:"qo-100",name:"QO-100 (Es'hail-2)",noradId:"43700",category:e2.LINEAR,uplink:"2400.050-2400.300 MHz",downlink:"10489.550-10489.800 MHz",mode:"SSB/CW/DATV",description:"Satelite geoestacionario com transponder de banda estreita e larga",status:"active"},{id:"iss-aprs",name:"ISS APRS Digipeater",noradId:"25544",category:e2.DIGITAL,uplink:"145.825 MHz",downlink:"145.825 MHz",mode:"APRS Packet",description:"Digipeater APRS na ISS - excelente para primeiros contactos via satelite",status:"active"},{id:"no-44",name:"NO-44 (PCSAT)",noradId:"26931",category:e2.DIGITAL,uplink:"145.825 MHz",downlink:"145.825 MHz",mode:"APRS Packet",description:"Digipeater APRS - operacao intermitente",status:"active"},{id:"ariss",name:"ARISS (Amateur Radio on ISS)",noradId:"25544",category:e2.DIGITAL,uplink:"145.200 MHz",downlink:"145.800 MHz",mode:"Voice/SSTV/Packet",description:"Sistema de radio amador na ISS - contactos escolares e SSTV",status:"active"},{id:"noaa-15",name:"NOAA 15",noradId:"25338",category:e2.WEATHER,downlink:"137.620 MHz",mode:"APT",description:"Satelite meteorologico - imagens APT em 137 MHz",status:"active"},{id:"noaa-18",name:"NOAA 18",noradId:"28654",category:e2.WEATHER,downlink:"137.9125 MHz",mode:"APT",description:"Satelite meteorologico - imagens APT em 137 MHz",status:"active"},{id:"noaa-19",name:"NOAA 19",noradId:"33591",category:e2.WEATHER,downlink:"137.100 MHz",mode:"APT",description:"Satelite meteorologico - imagens APT em 137 MHz",status:"active"},{id:"meteor-m2-3",name:"METEOR-M2 3",noradId:"57166",category:e2.WEATHER,downlink:"137.900 MHz",mode:"LRPT",description:"Satelite meteorologico russo - imagens LRPT de alta resolucao",status:"active"},{id:"meteor-m2-4",name:"METEOR-M2 4",noradId:"59051",category:e2.WEATHER,downlink:"137.100 MHz",mode:"LRPT",description:"Satelite meteorologico russo - imagens LRPT de alta resolucao",status:"active"},{id:"cute-1",name:"CUTE-1",noradId:"27844",category:e2.OTHER,downlink:"436.8375 MHz",mode:"CW/Telemetry",description:"CubeSat japones experimental",status:"active"},{id:"lilacsat-2",name:"LilacSat-2",noradId:"40908",category:e2.DIGITAL,uplink:"144.350 MHz",downlink:"437.200 MHz",mode:"FM/APRS",description:"CubeSat chines com FM e APRS",status:"active"}],ts=["25544","27607","43017","44909","43700","25338"];async function tr(){let e=await e8();if(!e.data)return{satellites:[],error:e.error||"Failed to fetch TLE data"};let t=[];try{t=(await te()).data||[]}catch{console.warn("Failed to fetch SatNOGS data, using curated metadata only")}let a=[];for(let[s,r]of Object.entries(e.data.satellites)){let e=function(e,t,a){let s,r,n,i,l,o=ta.find(t=>t.noradId===e),d=(l=parseInt(e,10),a.filter(e=>e.norad_cat_id===l&&e.alive)),c=function(e){if(0===e.length)return null;let t=e.filter(e=>null!==e.downlink_low);return t.length>0?t[0]:e[0]}(d);if(s=o?o.category:c?function(e){if(!e||!e.mode)return e2.OTHER;let t=e.mode.toUpperCase();if(e3[t])return e3[t];for(let[e,a]of Object.entries(e3))if(t.includes(e))return a;return e2.OTHER}(c):e2.OTHER,o)r=o.uplink,n=o.downlink,i=o.mode;else if(c){let e,t,a=(e=null,t=null,null!==c.uplink_low&&(e=null!==c.uplink_high&&c.uplink_high!==c.uplink_low?`${tt(c.uplink_low)} - ${tt(c.uplink_high)}`:tt(c.uplink_low)),null!==c.downlink_low&&(t=null!==c.downlink_high&&c.downlink_high!==c.downlink_low?`${tt(c.downlink_low)} - ${tt(c.downlink_high)}`:tt(c.downlink_low)),{uplink:e,downlink:t});r=a.uplink||void 0,n=a.downlink||void 0,i=c.mode||void 0}return{id:o?.id||e,name:o?.name||t.name,noradId:e,category:s,uplink:r,downlink:n,mode:i,description:o?.description,status:o?.status||"unknown",tle:t,transmitters:d.length>0?d:void 0}}(s,r,t);a.push(e)}return a.sort((e,t)=>{let a=ts.includes(e.noradId),s=ts.includes(t.noradId);return a&&!s?-1:!a&&s?1:e.name.localeCompare(t.name)}),{satellites:a,error:e.error}}ta[0];let tn={[e2.FM_VOICE]:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",[e2.LINEAR]:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",[e2.DIGITAL]:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300",[e2.WEATHER]:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900 dark:text-cyan-300",[e2.OTHER]:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"};function ti({satellite:e,isSelected:t,onClick:a}){return(0,r.jsx)("button",{onClick:a,className:(0,eR.cn)("w-full text-left p-3 rounded-lg border transition-all","hover:border-blue-300 dark:hover:border-blue-700","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",t?"border-blue-500 bg-blue-50 dark:bg-blue-950 dark:border-blue-400":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900"),children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsx)("h3",{className:"font-medium text-sm leading-tight line-clamp-2",children:e.name}),e.mode&&(0,r.jsx)("span",{className:(0,eR.cn)("text-xs px-1.5 py-0.5 rounded flex-shrink-0",tn[e.category]),children:e.mode.length>10?e.mode.slice(0,10)+"...":e.mode})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 text-xs text-slate-600 dark:text-slate-400",children:[e.downlink&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(e0,{className:"h-3 w-3 text-green-600 dark:text-green-400"}),(0,r.jsx)("span",{className:"font-mono",children:e.downlink})]}),e.uplink&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(e1,{className:"h-3 w-3 text-orange-600 dark:text-orange-400"}),(0,r.jsx)("span",{className:"font-mono",children:e.uplink})]}),!e.downlink&&!e.uplink&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-slate-400",children:[(0,r.jsx)(p.Radio,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"Frequencias desconhecidas"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:["NORAD: ",e.noradId]})]})})}let tl={[e2.FM_VOICE]:(0,r.jsx)(p.Radio,{className:"h-4 w-4"}),[e2.LINEAR]:(0,r.jsx)(eK.Antenna,{className:"h-4 w-4"}),[e2.DIGITAL]:(0,r.jsx)(eJ.Wifi,{className:"h-4 w-4"}),[e2.WEATHER]:(0,r.jsx)(ee,{className:"h-4 w-4"}),[e2.OTHER]:(0,r.jsx)(m.Satellite,{className:"h-4 w-4"})},to=[e2.FM_VOICE,e2.LINEAR,e2.DIGITAL,e2.WEATHER,e2.OTHER];function td({satellites:e,selectedSatellite:t,onSelect:a,isLoading:s}){let[i,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(e2.FM_VOICE),h=(0,n.useMemo)(()=>{let t;return i.trim()?(t=i.toLowerCase().trim())?e.filter(e=>e.name.toLowerCase().includes(t)||e.noradId.includes(t)||e.id.toLowerCase().includes(t)):e:e},[e,i]),u=(0,n.useMemo)(()=>(function(e){let t={[e2.FM_VOICE]:[],[e2.LINEAR]:[],[e2.DIGITAL]:[],[e2.WEATHER]:[],[e2.OTHER]:[]};for(let a of e)t[a.category].push(a);return t})(h),[h]),x=(0,n.useMemo)(()=>(function(e){let t={[e2.FM_VOICE]:0,[e2.LINEAR]:0,[e2.DIGITAL]:0,[e2.WEATHER]:0,[e2.OTHER]:0};for(let a of e)t[a.category]++;return t})(h),[h]),g=i.trim().length>0;return s?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(m.Satellite,{className:"h-8 w-8 animate-pulse text-slate-400"}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Carregando satelites..."})]})}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(eY.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,r.jsx)(e_.Input,{placeholder:"Pesquisar satelites...",value:i,onChange:e=>o(e.target.value),className:"pl-9"})]}),g?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[h.length," satelite(s) encontrado(s)"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[400px] overflow-y-auto",children:h.map(e=>(0,r.jsx)(ti,{satellite:e,isSelected:t?.noradId===e.noradId,onClick:()=>a(e)},e.noradId))})]}):(0,r.jsxs)(l.Tabs,{value:d,onValueChange:e=>c(e),children:[(0,r.jsx)(l.TabsList,{className:"w-full flex flex-wrap h-auto gap-1 bg-transparent p-0",children:to.map(e=>(0,r.jsxs)(l.TabsTrigger,{value:e,className:"flex items-center gap-1.5 data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 dark:data-[state=active]:bg-blue-900 dark:data-[state=active]:text-blue-300",children:[tl[e],(0,r.jsx)("span",{className:"hidden sm:inline",children:e4[e]}),(0,r.jsx)(eN.Badge,{variant:"secondary",className:"ml-1 h-5 px-1.5 text-xs",children:x[e]})]},e))}),to.map(e=>(0,r.jsx)(l.TabsContent,{value:e,className:"mt-4",children:0===u[e].length?(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center py-8",children:"Nenhum satelite nesta categoria"}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[400px] overflow-y-auto",children:u[e].map(e=>(0,r.jsx)(ti,{satellite:e,isSelected:t?.noradId===e.noradId,onClick:()=>a(e)},e.noradId))})},e))]})]})}var tc=e.i(74886),tm=e.i(43531),th=e.i(35408);function tu(e){if(!e)return null;let t=e.trim().toLowerCase(),a=t.match(/^([\d.]+)\s*(mhz|khz|hz)?$/i);if(!a){let e=parseFloat(t);return isNaN(e)?null:e>100&&e<1e3?e:e>1e3&&e<1e6?e/1e3:e>1e6?e/1e6:e}let s=parseFloat(a[1]);if(isNaN(s))return null;switch(a[2]?.toLowerCase()||"mhz"){case"hz":return s/1e6;case"khz":return s/1e3;default:return s}}function tx(e){let t=Math.abs(e),a=e>=0?"+":"-";return t>=1e3?`${a}${(t/1e3).toFixed(1)} kHz`:`${a}${t.toFixed(0)} Hz`}function tg(e,t=3){return`${e.toFixed(t)} MHz`}function tp(e){return 1e6*e*26685127615852164e-21}var tf=e.i(31343);let tj=(0,K.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var tv=e.i(82373),tb=e.i(35116);let tN=(0,K.default)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);function tM({defaultFrequency:e=1e3}){let[t,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(e),[o,d]=(0,n.useState)(.3),[c,m]=(0,n.useState)(!1),[h,u]=(0,n.useState)(!0),x=(0,n.useRef)(null),g=(0,n.useRef)(null),p=(0,n.useRef)(null);(0,n.useEffect)(()=>{window.AudioContext||window.webkitAudioContext||u(!1)},[]),(0,n.useEffect)(()=>()=>{j(),x.current&&x.current.close()},[]),(0,n.useEffect)(()=>{p.current&&p.current.gain.setValueAtTime(c?0:o,x.current?.currentTime??0)},[o,c]),(0,n.useEffect)(()=>{g.current&&g.current.frequency.setValueAtTime(s,x.current?.currentTime??0)},[s]);let f=(0,n.useCallback)(()=>{if(h)try{if(!x.current){let e=window.AudioContext||window.webkitAudioContext;if(!e)return void u(!1);x.current=new e}"suspended"===x.current.state&&x.current.resume();let e=x.current.createOscillator();e.type="sine",e.frequency.setValueAtTime(s,x.current.currentTime);let t=x.current.createGain();t.gain.setValueAtTime(c?0:o,x.current.currentTime),e.connect(t),t.connect(x.current.destination),e.start(),g.current=e,p.current=t,a(!0)}catch(e){console.error("Error starting audio:",e),u(!1)}},[s,o,c,h]),j=(0,n.useCallback)(()=>{if(g.current){try{g.current.stop(),g.current.disconnect()}catch{}g.current=null}p.current&&(p.current.disconnect(),p.current=null),a(!1)},[]),v=(0,n.useCallback)(()=>{t?j():f()},[t,f,j]),b=(0,n.useCallback)(()=>{m(e=>!e)},[]);return h?(0,r.jsxs)(eM.Card,{children:[(0,r.jsx)(eM.CardHeader,{className:"pb-2",children:(0,r.jsxs)(eM.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,r.jsx)(tN,{className:"h-4 w-4"}),"Tom de Referência"]})}),(0,r.jsxs)(eM.CardContent,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use este tom para fazer zero-beat com o sinal recebido. Ajuste a frequência do tom até coincidir com o sinal."}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(i.Button,{variant:t?"destructive":"default",size:"sm",onClick:v,className:"w-24",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tj,{className:"h-4 w-4 mr-1"}),"Parar"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tf.Play,{className:"h-4 w-4 mr-1"}),"Tocar"]})}),(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:b,className:"shrink-0",children:c?(0,r.jsx)(tb.VolumeX,{className:"h-4 w-4"}):(0,r.jsx)(tv.Volume2,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground w-8",children:"Vol"}),(0,r.jsx)(Y.Slider,{value:[100*o],onValueChange:([e])=>d(e/100),max:100,step:1,className:"w-24",disabled:c})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Frequência do tom"}),(0,r.jsxs)("span",{className:"text-sm font-mono text-muted-foreground",children:[s," Hz"]})]}),(0,r.jsx)(Y.Slider,{value:[s],onValueChange:([e])=>l(e),min:400,max:1600,step:10}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,r.jsx)("span",{children:"400 Hz"}),(0,r.jsx)("span",{children:"1000 Hz"}),(0,r.jsx)("span",{children:"1600 Hz"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Presets:"}),[600,800,1e3,1200].map(e=>(0,r.jsxs)(i.Button,{variant:s===e?"secondary":"outline",size:"sm",onClick:()=>l(e),className:"text-xs",children:[e," Hz"]},e))]})]})]}):(0,r.jsx)(eM.Card,{children:(0,r.jsx)(eM.CardContent,{className:"py-4",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"O seu navegador não suporta Web Audio API. Experimente outro navegador."})})})}function tw({satellite:e,rangeRate:t,isVisible:a}){let[s,l]=(0,n.useState)(null),d=(0,n.useMemo)(()=>tu(e?.uplink),[e?.uplink]),c=(0,n.useMemo)(()=>tu(e?.downlink),[e?.downlink]),m=(0,n.useMemo)(()=>null===t?null:function(e,t,a){let s=1e3*a,r=0,n=null;if(null!=t&&t>0){let e=1e6*t;r=-(s/(0x11de784a+s)*e),n=(e+r)/1e6}let i=0,l=null;if(null!=e&&e>0){let t=1e6*e;i=-(s/0x11de784a*t),l=(t+i)/1e6}return{uplinkShift:i,downlinkShift:r,uplinkCorrected:l,downlinkCorrected:n,radialVelocity:a,isApproaching:a<0}}(d,c,t),[d,c,t]),h=c?tp(c):1e4,u=d?tp(d):1e4,x=async(e,t)=>{try{await navigator.clipboard.writeText(e),l(t),setTimeout(()=>l(null),2e3)}catch(e){console.error("Failed to copy:",e)}};return e?d||c?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50 dark:bg-slate-900 border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(p.Radio,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),e.mode&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.mode})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:a?(0,r.jsx)(eN.Badge,{variant:"default",className:"bg-green-600",children:"Acima do Horizonte"}):(0,r.jsx)(eN.Badge,{variant:"secondary",children:"Abaixo do Horizonte"})})]}),m&&(0,r.jsx)(eM.Card,{children:(0,r.jsx)(eM.CardContent,{className:"pt-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:m.isApproaching?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(th.TrendingDown,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{className:"font-medium text-green-600",children:"A aproximar"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ez.TrendingUp,{className:"h-5 w-5 text-orange-600"}),(0,r.jsx)("span",{className:"font-medium text-orange-600",children:"A afastar"})]})}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-2xl font-mono font-bold",children:[Math.abs(m.radialVelocity).toFixed(2)," km/s"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Velocidade radial"})]})]})})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[c&&(0,r.jsxs)(eM.Card,{children:[(0,r.jsx)(eM.CardHeader,{className:"pb-2",children:(0,r.jsxs)(eM.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,r.jsx)(e0,{className:"h-4 w-4 text-green-600"}),"Downlink (Receção)"]})}),(0,r.jsxs)(eM.CardContent,{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Original"}),(0,r.jsx)("p",{className:"font-mono",children:tg(c)})]}),m?.downlinkCorrected&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Corrigida (sintonize aqui)"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-2xl font-mono font-bold text-green-600",children:tg(m.downlinkCorrected,4)}),(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(m.downlinkCorrected.toFixed(4),"downlink"),children:"downlink"===s?(0,r.jsx)(tm.Check,{className:"h-4 w-4 text-green-600"}):(0,r.jsx)(tc.Copy,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Desvio"}),(0,r.jsx)("p",{className:`font-mono ${m.downlinkShift>=0?"text-orange-600":"text-green-600"}`,children:tx(m.downlinkShift)})]}),(0,r.jsx)(ty,{shift:m.downlinkShift,maxShift:h})]})]})]}),d&&(0,r.jsxs)(eM.Card,{children:[(0,r.jsx)(eM.CardHeader,{className:"pb-2",children:(0,r.jsxs)(eM.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,r.jsx)(e1,{className:"h-4 w-4 text-orange-600"}),"Uplink (Transmissão)"]})}),(0,r.jsxs)(eM.CardContent,{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Original"}),(0,r.jsx)("p",{className:"font-mono",children:tg(d)})]}),m?.uplinkCorrected&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Corrigida (transmita aqui)"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-2xl font-mono font-bold text-orange-600",children:tg(m.uplinkCorrected,4)}),(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(m.uplinkCorrected.toFixed(4),"uplink"),children:"uplink"===s?(0,r.jsx)(tm.Check,{className:"h-4 w-4 text-green-600"}):(0,r.jsx)(tc.Copy,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Desvio"}),(0,r.jsx)("p",{className:`font-mono ${m.uplinkShift>=0?"text-orange-600":"text-green-600"}`,children:tx(m.uplinkShift)})]}),(0,r.jsx)(ty,{shift:m.uplinkShift,maxShift:u})]})]})]})]}),(0,r.jsx)(tM,{}),(0,r.jsxs)(o.Alert,{children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsxs)(o.AlertDescription,{className:"text-sm",children:[(0,r.jsx)("strong",{children:"Dica:"})," Quando o satélite se aproxima, a frequência recebida é mais alta. Ajuste o seu rádio para as frequências corrigidas em tempo real. As frequências atualizam automaticamente."]})]})]}):(0,r.jsxs)(o.Alert,{children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsxs)(o.AlertDescription,{children:["Nenhuma frequência disponível para ",e.name,"."]})]}):(0,r.jsxs)(o.Alert,{children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsx)(o.AlertDescription,{children:"Selecione um satélite para ver a correção Doppler."})]})}function ty({shift:e,maxShift:t}){let a=100*Math.min(Math.abs(e)/t,1);return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["-",(t/1e3).toFixed(0)," kHz"]}),(0,r.jsx)("span",{children:"0"}),(0,r.jsxs)("span",{children:["+",(t/1e3).toFixed(0)," kHz"]})]}),(0,r.jsxs)("div",{className:"relative h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-slate-400 dark:bg-slate-500 -translate-x-1/2 z-10"}),(0,r.jsx)("div",{className:`absolute top-0 bottom-0 transition-all ${e>=0?"left-1/2 bg-orange-500":"right-1/2 bg-green-500"}`,style:{width:`${a/2}%`}})]})]})}function tk(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(null),[v,b]=(0,n.useState)(!0),[N,M]=(0,n.useState)(null),[w,y]=(0,n.useState)(!1),[k,z]=(0,n.useState)(null),[C,S]=(0,n.useState)(null),[T,A]=(0,n.useState)([]),[E,F]=(0,n.useState)({minElevation:10,visibleOnly:!1,goodWeatherOnly:!1}),[L,P]=(0,n.useState)(!1),[q,$]=(0,n.useState)(null),[_,U]=(0,n.useState)(null),[G,Q]=(0,n.useState)(new Date),[Z,Y]=(0,n.useState)(new Date);(0,n.useEffect)(()=>{let e=setInterval(()=>{Q(new Date)},5e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let e=setInterval(()=>{Y(new Date)},3e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{!async function(){b(!0),M(null);try{let e=await tr();if(0===e.satellites.length)return void M(e.error||"Nenhum satelite encontrado");t(e.satellites);let a=e.satellites.find(e=>"25544"===e.noradId);a?s(a):s(e.satellites[0]),e.error&&console.warn("Catalog warning:",e.error)}catch(e){console.error("Error loading catalog:",e),M("Erro ao carregar catalogo de satelites")}finally{b(!1)}}()},[]),(0,n.useEffect)(()=>{if(!a)return;let e=function(e){let t=e6(!0);if(!t)return null;let a=t.satellites[e];return a?{line1:a.line1,line2:a.line2,fetchedAt:t.fetchedAt}:null}(a.noradId);if(e)S(e),U(Date.now()-e.fetchedAt);else if(a.tle){let e;S({line1:a.tle.line1,line2:a.tle.line2,fetchedAt:Date.now()}),U(((e=e6(!0))?Date.now()-e.fetchedAt:null)||0)}},[a]);let K=(0,n.useMemo)(()=>C?R(C,G):null,[C,G]),J=(0,n.useMemo)(()=>C&&k?O(C,k,G):null,[C,k,G]),ee=(0,n.useMemo)(()=>{if(!C)return{previous:[],current:[],next:[]};let e=(e,t)=>{let a=[];for(let s=0;s<=t;s++){let t=R(C,new Date(Z.getTime()+(e+s)*6e4));t&&a.push(t)}return a};return{previous:e(-92,92),current:e(0,92),next:e(92,92)}},[C,Z]),ea=(0,n.useMemo)(()=>{let e=T;return E.minElevation>0&&(e=e.filter(e=>e.maxElevation>=E.minElevation)),E.visibleOnly&&(e=e.filter(e=>e.isVisible)),E.goodWeatherOnly&&(e=e.filter(e=>{var t;return!!(t=e.weather)&&t.isGoodWeather})),e},[T,E]),es=(0,n.useMemo)(()=>{if(!C||!k||0===ea.length)return null;let e=ea.find(e=>e.startTime>G);return e?e.startTime:null},[C,k,ea,G]),er=(0,n.useCallback)(async()=>{if(k&&C){P(!0);try{let e=function(e,t,a,s=7,r){let n=[],i=new Date(a.getTime()+24*s*36e5),l=new Date(a),o=!1,d=null,c=[];for(;l<=i;){let a=O(e,t,l);if(a){let t=a.elevation>0;if(t&&!o&&(d=new Date(l),c=[]),t&&d){let t=R(e,l);t&&c.push({date:new Date(l),position:t,lookAngles:a})}if(!t&&o&&d&&c.length>0){let e=V(d,c);B(e,void 0)&&n.push(e),d=null,c=[]}o=t}l=new Date(l.getTime()+6e4)}if(d&&c.length>0){let e=V(d,c);B(e,void 0)&&n.push(e)}return n}(C,k,new Date,7);e=e.map(e=>({...e,isVisible:function(e,t,a){let s=[{date:a.startTime,elevation:a.trajectory[0].lookAngles.elevation},{date:a.maxElevationTime,elevation:a.maxElevation},{date:a.endTime,elevation:a.trajectory[a.trajectory.length-1].lookAngles.elevation}];if(a.trajectory.length>6){let e=Math.floor(a.trajectory.length/2);s.push({date:a.trajectory[e].date,elevation:a.trajectory[e].lookAngles.elevation})}return s.some(a=>{var s,r;let n,i,l,o,d,c,m,h,u,x,g,p,f,j,v;return(s=a.date,r=a.elevation,f=(n=(W(s)-2451545)/36525,i=(357.52911+n*(35999.05029-1537e-7*n))%360*Math.PI/180,l=(1.914602-n*(.004817+14e-6*n))*Math.sin(i)+(.019993-101e-6*n)*Math.sin(2*i)+289e-6*Math.sin(3*i),o=((280.46646+n*(36000.76983+3032e-7*n))%360+l)*Math.PI/180,d=(23.439291-.0130042*n)*Math.PI/180,c=Math.atan2(Math.cos(d)*Math.sin(o),Math.cos(o)),m=Math.asin(Math.sin(d)*Math.sin(o)),h=I(s)+t.longitude*Math.PI/180-c,u=t.latitude*Math.PI/180,x=Math.sin(u)*Math.sin(m)+Math.cos(u)*Math.cos(m)*Math.cos(h),g=Math.asin(x),p=Math.acos(Math.max(-1,Math.min(1,(Math.sin(m)-Math.sin(u)*x)/(Math.cos(u)*Math.cos(g))))),Math.sin(h)>0&&(p=2*Math.PI-p),{azimuth:180*p/Math.PI,elevation:180*g/Math.PI}).elevation<-6,j=function(e,t){try{let a=D(e.line1,e.line2),s=H(a,t);if(!s||!s.position)return!1;let r=s.position,n=(W(t)-2451545)/36525,i=(1.914602-n*(.004817+14e-6*n))*Math.sin((357.52911+n*(35999.05029-1537e-7*n))%360*Math.PI/180),l=((280.46646+n*(36000.76983+3032e-7*n))%360+i)*Math.PI/180,o={x:149598e3*Math.cos(l),y:149598e3*Math.sin(l),z:0},d={x:o.x-r.x,y:o.y-r.y,z:o.z-r.z},c=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);return!(r.x*d.x+r.y*d.y+r.z*d.z<0&&c<8371)}catch(e){return console.error("Error checking satellite sunlight:",e),!1}}(e,s),v=r>0,{observerInDarkness:f,satelliteSunlit:j,satelliteAboveHorizon:v,isVisible:f&&j&&v}).isVisible})}(C,k,e)}));let t=await X(k);t&&(e=e.map(e=>({...e,weather:function(e,t){try{let a=t.getTime(),s=0,r=1/0;for(let t=0;t<e.hourly.time.length;t++){let n=new Date(e.hourly.time[t]).getTime(),i=Math.abs(n-a);i<r&&(r=i,s=t)}if(r>36e5)return null;let n=e.hourly.cloud_cover[s]??100,i=e.hourly.precipitation[s]??0,l=e.hourly.visibility[s]??0;return{cloudCover:n,precipitation:i,visibility:l,isGoodWeather:n<=30&&i<=.1}}catch(e){return console.error("Error extracting weather at time:",e),null}}(t,e.maxElevationTime)||void 0}))),A(e)}catch(e){console.error("Error calculating passes:",e),$("Erro ao calcular passagens")}finally{P(!1)}}},[k,C]);(0,n.useEffect)(()=>{k&&C&&er()},[k,C,er]);let en=async()=>{P(!0),$(null);try{await e8(!0);let e=await tr();if(t(e.satellites),a){let t=e.satellites.find(e=>e.noradId===a.noradId);t&&(s(t),t.tle&&(S({line1:t.tle.line1,line2:t.tle.line2,fetchedAt:Date.now()}),U(0)))}}catch(e){console.error("Error refreshing TLE:",e),$("Erro ao atualizar dados orbitais")}finally{P(!1)}};return v?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(m.Satellite,{className:"h-8 w-8 animate-pulse text-slate-400"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando catalogo de satelites..."})]})}):N&&0===e.length?(0,r.jsxs)(o.Alert,{variant:"destructive",children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsx)(o.AlertTitle,{children:"Erro"}),(0,r.jsx)(o.AlertDescription,{children:N})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,r.jsx)(m.Satellite,{className:"h-8 w-8"}),"Passagens de Satelites"]}),(0,r.jsxs)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:[e.length," satelites de radioamador disponiveis"]})]}),(0,r.jsxs)(i.Button,{onClick:en,disabled:L,variant:"outline",size:"sm",children:[(0,r.jsx)(c.RefreshCw,{className:`h-4 w-4 mr-2 ${L?"animate-spin":""}`}),"Atualizar TLE"]})]}),(0,r.jsx)(eZ,{onLocationChange:z}),(0,r.jsxs)(d.Collapsible,{open:w,onOpenChange:y,children:[a&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center p-3 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("h2",{className:"font-semibold",children:a.name}),a.mode&&(0,r.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:a.mode})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mt-1 text-sm text-slate-600 dark:text-slate-400",children:[a.downlink&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"↓"}),a.downlink]}),a.uplink&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-orange-600 dark:text-orange-400",children:"↑"}),a.uplink]})]})]}),(0,r.jsx)(d.CollapsibleTrigger,{asChild:!0,children:(0,r.jsx)(i.Button,{variant:"outline",size:"sm",children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.ChevronUp,{className:"h-4 w-4 mr-1"}),"Fechar"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Radio,{className:"h-4 w-4 mr-1"}),"Alterar Satelite"]})})})]}),(0,r.jsx)(d.CollapsibleContent,{className:"mt-4",children:(0,r.jsx)(td,{satellites:e,selectedSatellite:a,onSelect:e=>{s(e),A([]),y(!1)},isLoading:v})})]}),null!==_&&(0,r.jsxs)(o.Alert,{children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsx)(o.AlertTitle,{children:"Dados Orbitais"}),(0,r.jsxs)(o.AlertDescription,{children:["Ultima atualizacao: ",function(e){if(null===e)return"Sem dados em cache";let t=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4);return t>0?`${t}h ${a}m atr\xe1s`:`${a}m atr\xe1s`}(_),_>1728e5&&(0,r.jsx)("span",{className:"text-orange-600 dark:text-orange-400 ml-2",children:"(recomendamos atualizar)"})]})]}),q&&(0,r.jsxs)(o.Alert,{variant:"destructive",children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsx)(o.AlertTitle,{children:"Erro"}),(0,r.jsx)(o.AlertDescription,{children:q})]}),k&&C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{filters:E,onFiltersChange:F}),(0,r.jsxs)(l.Tabs,{defaultValue:"list",className:"w-full",children:[(0,r.jsxs)(l.TabsList,{className:"grid w-full grid-cols-5",children:[(0,r.jsxs)(l.TabsTrigger,{value:"list",className:"flex items-center gap-1",children:[(0,r.jsx)(x.Activity,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Lista"})]}),(0,r.jsxs)(l.TabsTrigger,{value:"sky",className:"flex items-center gap-1",children:[(0,r.jsx)(u.Eye,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Carta Celeste"})]}),(0,r.jsxs)(l.TabsTrigger,{value:"map",className:"flex items-center gap-1",children:[(0,r.jsx)(h.Map,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Rastro"})]}),(0,r.jsxs)(l.TabsTrigger,{value:"live",className:"flex items-center gap-1",children:[(0,r.jsx)(m.Satellite,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Tempo Real"})]}),(0,r.jsxs)(l.TabsTrigger,{value:"doppler",className:"flex items-center gap-1",children:[(0,r.jsx)(j.Waves,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Doppler"})]})]}),(0,r.jsx)(l.TabsContent,{value:"list",className:"mt-6",children:(0,r.jsx)(eT,{passes:ea,currentTime:G})}),(0,r.jsx)(l.TabsContent,{value:"sky",className:"mt-6",children:(0,r.jsx)(eE,{passes:ea,currentPosition:J})}),(0,r.jsx)(l.TabsContent,{value:"map",className:"mt-6",children:(0,r.jsx)(eD,{currentPosition:K,observer:k,orbitPaths:ee})}),(0,r.jsx)(l.TabsContent,{value:"live",className:"mt-6",children:(0,r.jsx)(eO,{tle:C,observer:k,currentTime:G,currentPosition:K,currentLookAngles:J,nextPassTime:es})}),(0,r.jsx)(l.TabsContent,{value:"doppler",className:"mt-6",children:(0,r.jsx)(tw,{satellite:a,rangeRate:J?.rangeRate??null,isVisible:(J?.elevation??0)>0})})]})]}):(0,r.jsxs)(o.Alert,{children:[(0,r.jsx)(g.AlertCircle,{className:"h-4 w-4"}),(0,r.jsx)(o.AlertTitle,{children:"Configuracao Necessaria"}),(0,r.jsxs)(o.AlertDescription,{children:[!k&&"Por favor, defina sua localizacao para calcular as passagens.",!C&&k&&"Carregando dados orbitais..."]})]})]})}e.s(["SatelliteTracker",()=>tk],38892)},86033,e=>{e.n(e.i(38892))}]);