(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97067,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(87316),r=e.i(75254);let l=(0,r.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var i=e.i(73264),n=e.i(31278),o=e.i(63639),d=e.i(24274),d=d;let c=(0,r.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var h=e.i(2747),m=e.i(37757),x=e.i(77572),p=e.i(94245);e.i(47167);let u="https://api.radioamador.info".replace(/\/$/,"");async function g(e={}){let t=new URLSearchParams({limit:String(e.limit??500),sort:e.sort??"startAsc"}),s=await fetch(`${u}/api/events/list?${t}`,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!s.ok)throw Error(`Failed to fetch events: HTTP ${s.status}`);return s.json()}function v(e){return Math.max(0,new Date(e).getTime()-Date.now())}function b(e){let t=Math.floor(e/1e3),s=Math.floor(t/86400),a=Math.floor(t%86400/3600);return{days:s,hours:a,minutes:Math.floor(t%3600/60),seconds:t%60}}function j(e,t){let s=new Date(e),a=s.getFullYear()===new Date().getFullYear(),r=t?.hideCurrentYear&&a;return s.toLocaleString("pt-PT",{weekday:"short",year:r?void 0:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function f(e){return new Date(e).toLocaleString("pt-PT",{hour:"2-digit",minute:"2-digit"})}function w(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${a}`}function N(e,t){let{days:s,hours:a,minutes:r,seconds:l}=b(e);return s>0?t("inDays",{count:s}):a>0?`${a}h ${r}m`:r>0?`${r}m ${l}s`:`${l}s`}function k(e){let t=new Date(e),s=t.getDay(),a=t.getDate()-s+(0===s?-6:1);return new Date(t.setDate(a))}var y=e.i(21218),C=e.i(65157),D=e.i(52571),M=e.i(46514),S=e.i(276);let T={Net:o.Radio,Contest:y.Activity,Meetup:M.Mic2,Satellite:S.SatelliteDish,DX:C.Globe2,Default:D.Info},$={Net:{text:"text-blue-700 dark:text-blue-300",bg:"bg-blue-50/80 dark:bg-blue-950/40",border:"border-blue-200/80 dark:border-blue-700/50",icon:"text-blue-500 dark:text-blue-400",gradient:"from-blue-500/10 via-blue-500/5"},Contest:{text:"text-amber-700 dark:text-amber-300",bg:"bg-amber-50/80 dark:bg-amber-950/40",border:"border-amber-200/80 dark:border-amber-700/50",icon:"text-amber-500 dark:text-amber-400",gradient:"from-amber-500/10 via-amber-500/5"},Meetup:{text:"text-purple-700 dark:text-purple-300",bg:"bg-purple-50/80 dark:bg-purple-950/40",border:"border-purple-200/80 dark:border-purple-700/50",icon:"text-purple-500 dark:text-purple-400",gradient:"from-purple-500/10 via-purple-500/5"},Satellite:{text:"text-cyan-700 dark:text-cyan-300",bg:"bg-cyan-50/80 dark:bg-cyan-950/40",border:"border-cyan-200/80 dark:border-cyan-700/50",icon:"text-cyan-500 dark:text-cyan-400",gradient:"from-cyan-500/10 via-cyan-500/5"},DX:{text:"text-emerald-700 dark:text-emerald-300",bg:"bg-emerald-50/80 dark:bg-emerald-950/40",border:"border-emerald-200/80 dark:border-emerald-700/50",icon:"text-emerald-500 dark:text-emerald-400",gradient:"from-emerald-500/10 via-emerald-500/5"},Default:{text:"text-slate-700 dark:text-slate-300",bg:"bg-slate-50/80 dark:bg-slate-800/50",border:"border-slate-200/80 dark:border-slate-700/50",icon:"text-slate-500 dark:text-slate-400",gradient:"from-slate-500/10 via-slate-500/5"}},F={Net:"bg-blue-500",Contest:"bg-amber-500",Meetup:"bg-purple-500",Satellite:"bg-cyan-500",DX:"bg-emerald-500",Default:"bg-primary"};function I(e){return e&&$[e]?$[e]:$.Default}function E(e){return e&&T[e]?T[e]:T.Default}function L(e){return e&&F[e]?F[e]:F.Default}function R(e,t){switch(e){case"brandmeister":return"Brandmeister";case"adn":return"ADN Systems";case"other":return t("dmr.other")||"Outra";default:return"DMR"}}let A=(0,s.createContext)(0);function P({children:e,interval:a=1e3}){let[r,l]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e,t="undefined"!=typeof performance?performance.now():Date.now(),s=r=>{r-t>=a&&(t=r,l(e=>e+1)),e=requestAnimationFrame(s)};if("requestAnimationFrame"in window)return e=requestAnimationFrame(s),()=>{e&&cancelAnimationFrame(e)};{let e=setInterval(()=>l(e=>e+1),a);return()=>clearInterval(e)}},[a]),(0,t.jsx)(A.Provider,{value:r,children:e})}function H(){return(0,s.useContext)(A)}function O(e,t,a){return H(),(0,s.useMemo)(()=>{let s=Date.now(),r=new Date(e).getTime(),l=t?new Date(t).getTime():r+36e5,i=v(e),n=t?v(t):0,o=s>=r,d=s>=l,c=o&&!d,h=b(c?n:i),m=N(c?n:i,a||((e,t)=>"inDays"===e&&t?.count?`${t.count}d`:e));return{msToStart:i,msToEnd:n,hasStarted:o,hasEnded:d,isInProgress:c,breakdown:h,formatted:m}},[e,t,a])}var U=e.i(18566),V=e.i(22016),B=e.i(63059),Y=e.i(46897),G=e.i(70273);function z({dmr:e,dmrNetwork:s,talkgroup:a,t:r}){if(!e||!a)return null;let l="brandmeister"===s;return(0,t.jsxs)("span",{onClick:e=>{l&&(e.preventDefault(),e.stopPropagation(),window.open(`https://hose.brandmeister.network/?tg=${a}`,"_blank"))},className:`inline-flex items-center gap-1 text-[11px] text-red-600 dark:text-red-400 font-medium
        ${l?"hover:text-red-700 dark:hover:text-red-300 cursor-pointer":""}`,title:l?r("dmr.listen"):`TG ${a}`,children:[(0,t.jsx)(o.Radio,{className:"w-3 h-3"}),"TG ",a]})}let q=(0,s.memo)(function({event:e,t:s}){let a=O(e.start,e.end,s),r=I(e.tag),l=E(e.tag),i=L(e.tag),n=new Date(e.start),o=n.getDate(),d=n.toLocaleDateString("pt-PT",{month:"short"}).replace(".",""),c=n.toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"});return(0,t.jsx)(V.default,{href:`/events/${encodeURIComponent(e.id)}/`,className:"block group",children:(0,t.jsxs)("article",{className:"relative flex gap-4 p-4 rounded-xl bg-white dark:bg-ship-cove-950/50 border border-ship-cove-200/80 dark:border-ship-cove-800/80 hover:border-ship-cove-300 dark:hover:border-ship-cove-700 hover:shadow-lg hover:shadow-ship-cove-200/50 dark:hover:shadow-ship-cove-950/50 transition-all duration-200 h-full",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center shrink-0",children:[(0,t.jsxs)("div",{className:`w-14 rounded-lg overflow-hidden shadow-sm ${a.isInProgress?"ring-2 ring-emerald-500 ring-offset-2 dark:ring-offset-ship-cove-950":""}`,children:[(0,t.jsx)("div",{className:`${i} px-2 py-1 text-center`,children:(0,t.jsx)("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:d})}),(0,t.jsx)("div",{className:"bg-ship-cove-50 dark:bg-ship-cove-900 px-2 py-2 text-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-ship-cove-900 dark:text-ship-cove-100 leading-none",children:o})})]}),(0,t.jsx)("span",{className:"mt-2 text-xs font-medium text-ship-cove-500 dark:text-ship-cove-400 tabular-nums",children:c})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs font-semibold ${r.text}`,children:[(0,t.jsx)(l,{className:"w-3.5 h-3.5"}),e.tag]}),e.isFeatured&&(0,t.jsx)(G.Star,{className:"w-3.5 h-3.5 text-amber-500 fill-amber-500"}),a.isInProgress&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-400",children:[(0,t.jsx)(y.Activity,{className:"w-3 h-3 animate-pulse"}),s("live")||"LIVE"]})]}),(0,t.jsx)("h3",{className:"text-base font-semibold text-ship-cove-900 dark:text-ship-cove-100 leading-snug line-clamp-2 group-hover:text-ship-cove-600 dark:group-hover:text-ship-cove-300 transition-colors mb-2",children:e.title}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 mt-auto pt-2 border-t border-ship-cove-100 dark:border-ship-cove-800/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0 text-ship-cove-500 dark:text-ship-cove-400",children:[e.location&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs truncate",children:[(0,t.jsx)(Y.MapPin,{className:"w-3 h-3 shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:e.location})]}),(0,t.jsx)(z,{dmr:e.dmr,dmrNetwork:e.dmrNetwork,talkgroup:e.talkgroup,t:s})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[!a.isInProgress&&!a.hasEnded&&(0,t.jsx)("span",{className:"text-xs font-semibold text-ship-cove-600 dark:text-ship-cove-300 font-mono tabular-nums",children:a.formatted}),(0,t.jsx)(B.ChevronRight,{className:"w-4 h-4 text-ship-cove-400 group-hover:text-ship-cove-600 dark:group-hover:text-ship-cove-300 group-hover:translate-x-0.5 transition-all"})]})]})]})]})})},(e,t)=>e.event.id===t.event.id&&e.event.title===t.event.title&&e.event.start===t.event.start&&e.event.end===t.event.end&&e.event.isFeatured===t.event.isFeatured&&e.t===t.t);q.displayName="EventCard";var X=e.i(3116);(0,s.memo)(function({event:e,t:s,showCountdown:a=!0}){let r=O(e.start,e.end,s),l=I(e.tag),i=E(e.tag);return(0,t.jsx)(V.default,{href:`/events/${encodeURIComponent(e.id)}/`,className:"block group",children:(0,t.jsx)("div",{className:`p-3 rounded-lg border transition-all duration-200
          hover:border-primary/30 hover:bg-muted/30 cursor-pointer
          ${l.border} ${l.bg}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:`shrink-0 w-7 h-7 rounded-full flex items-center justify-center ${l.bg} ${l.icon}`,children:(0,t.jsx)(i,{className:"w-3.5 h-3.5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium leading-tight truncate group-hover:text-primary transition-colors flex items-center gap-1",children:[e.isFeatured&&(0,t.jsx)(G.Star,{className:"w-3 h-3 text-yellow-500 fill-yellow-500 shrink-0"}),e.title]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(X.Clock,{className:"w-3 h-3"}),f(e.start)]}),e.location&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 truncate",children:[(0,t.jsx)(Y.MapPin,{className:"w-3 h-3 shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:e.location})]})]}),a&&(0,t.jsx)("div",{className:"mt-1.5",children:r.isInProgress?(0,t.jsx)("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:s("happeningNow")}):r.hasEnded?(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:s("ended")}):(0,t.jsxs)("span",{className:`text-xs font-medium ${l.text}`,children:[s("startsIn")," ",r.formatted]})}),e.dmr&&e.talkgroup&&(0,t.jsx)("div",{className:"mt-1.5",children:(0,t.jsxs)("span",{onClick:t=>{"brandmeister"===e.dmrNetwork&&(t.preventDefault(),t.stopPropagation(),window.open(`https://hose.brandmeister.network/?tg=${e.talkgroup}`,"_blank"))},className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px]
                    bg-red-50 dark:bg-red-950/30 text-red-600 dark:text-red-400
                    ${"brandmeister"===e.dmrNetwork?"hover:bg-red-100 dark:hover:bg-red-900/30 cursor-pointer":""}
                    transition-colors`,title:"brandmeister"===e.dmrNetwork?s("dmr.listen"):`${R(e.dmrNetwork,s)} TG ${e.talkgroup}`,children:[(0,t.jsx)(o.Radio,{className:"w-2.5 h-2.5"})," TG ",e.talkgroup]})})]})]})})})},(e,t)=>e.event.id===t.event.id&&e.event.title===t.event.title&&e.event.start===t.event.start&&e.showCountdown===t.showCountdown&&e.t===t.t).displayName="EventCardCompact";var _=e.i(78917);function J({events:e,t:r}){H();let l=(0,s.useMemo)(()=>{let t=Date.now();return e.filter(e=>{let s=new Date(e.start).getTime(),a=e.end?new Date(e.end).getTime():s+36e5;return t>=s&&t<=a}).sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime())},[e]);if(0===l.length)return null;let i=l[0],n=l.slice(1),d=i.end?v(i.end):0,c=E(i.tag),h=L(i.tag);return(0,t.jsxs)("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[(0,t.jsx)(V.default,{href:`/events/${encodeURIComponent(i.id)}/`,className:"block group",children:(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-emerald-600 via-emerald-700 to-emerald-800 dark:from-emerald-800 dark:via-emerald-900 dark:to-emerald-950 p-5 shadow-lg shadow-emerald-500/20 hover:shadow-xl transition-all",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,t.jsxs)("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("pattern",{id:"grid-live",width:"24",height:"24",patternUnits:"userSpaceOnUse",children:(0,t.jsx)("path",{d:"M 24 0 L 0 0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),(0,t.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid-live)",className:"text-white"})]})}),(0,t.jsx)("div",{className:"absolute -right-4 -top-4 w-20 h-20 rounded-full bg-emerald-500/30 blur-xl"}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-white"})]}),(0,t.jsx)("span",{className:"text-xs font-bold text-white uppercase tracking-wider",children:r("live")||"AO VIVO"})]}),(0,t.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:`flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 rounded-xl ${h} text-white shadow-lg shrink-0`,children:(0,t.jsx)(c,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs font-semibold text-emerald-200 uppercase tracking-wider mb-1",children:[(0,t.jsx)(y.Activity,{className:"w-3.5 h-3.5 animate-pulse"}),r("happeningNow")]}),(0,t.jsxs)("h3",{className:"text-lg sm:text-xl font-bold text-white leading-tight truncate flex items-center gap-2 group-hover:text-emerald-100 transition-colors",children:[i.isFeatured&&(0,t.jsx)(G.Star,{className:"w-4 h-4 text-amber-400 fill-amber-400 shrink-0"}),i.title]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-emerald-200 mt-2",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,t.jsx)(a.Calendar,{className:"w-4 h-4"}),r("started")," ",j(i.start,{hideCurrentYear:!0})]}),i.location&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,t.jsx)(Y.MapPin,{className:"w-4 h-4"}),i.location]}),i.dmr&&i.talkgroup&&(0,t.jsxs)("span",{onClick:e=>{"brandmeister"===i.dmrNetwork&&(e.preventDefault(),e.stopPropagation(),window.open(`https://hose.brandmeister.network/?tg=${i.talkgroup}`,"_blank"))},className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs bg-red-500/20 text-red-200 border border-red-400/30 ${"brandmeister"===i.dmrNetwork?"hover:bg-red-500/30 cursor-pointer":""} transition-colors`,title:"brandmeister"===i.dmrNetwork?r("dmr.listen"):void 0,children:[(0,t.jsx)(o.Radio,{className:"w-3 h-3"}),R(i.dmrNetwork,r)," TG ",i.talkgroup]})]})]}),(0,t.jsxs)("div",{className:"shrink-0 text-right hidden sm:block",children:[i.end&&d>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 backdrop-blur-sm",children:[(0,t.jsx)(X.Clock,{className:"w-4 h-4 text-emerald-200"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xl font-bold text-white tabular-nums font-mono",children:N(d,r)}),(0,t.jsx)("div",{className:"text-xs text-emerald-200",children:r("endsIn").replace(/\s*$/,"")})]})]}),i.url&&(0,t.jsxs)("span",{onClick:e=>{e.preventDefault(),e.stopPropagation(),window.open(i.url,"_blank")},className:"inline-flex items-center gap-1 text-xs text-emerald-300 hover:text-white transition-colors cursor-pointer mt-2",children:[r("eventDetails"),(0,t.jsx)(_.ExternalLink,{className:"w-3 h-3"})]})]}),(0,t.jsxs)("div",{className:"shrink-0 sm:hidden flex items-center gap-1",children:[i.end&&d>0&&(0,t.jsx)("span",{className:"text-base font-bold text-white tabular-nums font-mono",children:N(d,r)}),(0,t.jsx)(B.ChevronRight,{className:"w-4 h-4 text-emerald-300 group-hover:translate-x-0.5 transition-transform"})]})]})]})}),n.length>0&&(0,t.jsx)("div",{className:"mt-3 space-y-2",children:n.map(e=>{let s=e.end?v(e.end):0,a=E(e.tag);return(0,t.jsx)(V.default,{href:`/events/${encodeURIComponent(e.id)}/`,className:"block group",children:(0,t.jsx)("div",{className:"rounded-xl border border-emerald-500/30 bg-emerald-50 dark:bg-emerald-950/30 hover:border-emerald-500/50 hover:bg-emerald-100 dark:hover:bg-emerald-950/50 transition-all p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-500/20 text-emerald-600 dark:text-emerald-400",children:(0,t.jsx)(a,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("span",{className:"font-semibold text-sm text-ship-cove-900 dark:text-ship-cove-100 truncate block group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:[e.isFeatured&&(0,t.jsx)(G.Star,{className:"w-3 h-3 text-amber-500 fill-amber-500 inline mr-1"}),e.title]}),e.location&&(0,t.jsxs)("span",{className:"text-xs text-ship-cove-500 dark:text-ship-cove-400 flex items-center gap-1 mt-0.5",children:[(0,t.jsx)(Y.MapPin,{className:"w-3 h-3"}),e.location]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[e.end&&s>0&&(0,t.jsx)("span",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400 font-mono tabular-nums",children:N(s,r)}),(0,t.jsx)(B.ChevronRight,{className:"w-4 h-4 text-ship-cove-400 group-hover:text-emerald-500 group-hover:translate-x-0.5 transition-all"})]})]})})},e.id)})})]})}let K=(0,r.default)("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);function Q({events:e,t:r}){H();let l=(0,s.useMemo)(()=>{let t=Date.now(),s=e.filter(e=>{let s=new Date(e.start).getTime(),a=e.end?new Date(e.end).getTime():s;return s>t||a>t&&s<=t});return s.sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),s.find(e=>new Date(e.start).getTime()>t)},[e]);if(!l)return null;let i=v(l.start);I(l.tag);let n=L(l.tag),d=E(l.tag);return(0,t.jsx)("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:(0,t.jsx)(V.default,{href:`/events/${encodeURIComponent(l.id)}/`,className:"block group",children:(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-ship-cove-600 via-ship-cove-700 to-ship-cove-800 dark:from-ship-cove-800 dark:via-ship-cove-900 dark:to-ship-cove-950 p-5 shadow-lg shadow-ship-cove-500/20 hover:shadow-xl transition-all",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,t.jsxs)("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("pattern",{id:"grid-next",width:"24",height:"24",patternUnits:"userSpaceOnUse",children:(0,t.jsx)("path",{d:"M 24 0 L 0 0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),(0,t.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid-next)",className:"text-white"})]})}),(0,t.jsx)("div",{className:"absolute -right-4 -top-4 w-20 h-20 rounded-full bg-ship-cove-500/20 blur-xl"}),(0,t.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:`flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 rounded-xl ${n} text-white shadow-lg shrink-0`,children:(0,t.jsx)(d,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs font-semibold text-ship-cove-200 uppercase tracking-wider mb-1",children:[(0,t.jsx)(K,{className:"w-3.5 h-3.5"}),r("nextUp")]}),(0,t.jsxs)("h3",{className:"text-lg sm:text-xl font-bold text-white leading-tight truncate flex items-center gap-2 group-hover:text-ship-cove-100 transition-colors",children:[l.isFeatured&&(0,t.jsx)(G.Star,{className:"w-4 h-4 text-amber-400 fill-amber-400 shrink-0"}),l.title]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-ship-cove-200 mt-2",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,t.jsx)(a.Calendar,{className:"w-4 h-4"}),j(l.start,{hideCurrentYear:!0})]}),l.location&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,t.jsx)(Y.MapPin,{className:"w-4 h-4"}),l.location]}),l.dmr&&l.talkgroup&&(0,t.jsxs)("span",{onClick:e=>{"brandmeister"===l.dmrNetwork&&(e.preventDefault(),e.stopPropagation(),window.open(`https://hose.brandmeister.network/?tg=${l.talkgroup}`,"_blank"))},className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs bg-red-500/20 text-red-200 border border-red-400/30 ${"brandmeister"===l.dmrNetwork?"hover:bg-red-500/30 cursor-pointer":""} transition-colors`,title:"brandmeister"===l.dmrNetwork?r("dmr.listen"):void 0,children:[(0,t.jsx)(o.Radio,{className:"w-3 h-3"}),R(l.dmrNetwork,r)," TG ",l.talkgroup]})]})]}),(0,t.jsxs)("div",{className:"shrink-0 text-right hidden sm:block",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 backdrop-blur-sm",children:[(0,t.jsx)(X.Clock,{className:"w-4 h-4 text-ship-cove-200"}),(0,t.jsx)("span",{className:"text-xl font-bold text-white tabular-nums font-mono",children:N(i,r)})]}),l.url&&(0,t.jsxs)("span",{onClick:e=>{e.preventDefault(),e.stopPropagation(),window.open(l.url,"_blank")},className:"inline-flex items-center gap-1 text-xs text-ship-cove-300 hover:text-white transition-colors cursor-pointer mt-2",children:[r("eventDetails"),(0,t.jsx)(_.ExternalLink,{className:"w-3 h-3"})]})]}),(0,t.jsxs)("div",{className:"shrink-0 sm:hidden flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-base font-bold text-white tabular-nums font-mono",children:N(i,r)}),(0,t.jsx)(B.ChevronRight,{className:"w-4 h-4 text-ship-cove-300 group-hover:translate-x-0.5 transition-transform"})]})]})]})})})}var W=e.i(84774);let Z=(0,s.memo)(function({events:e,t:s}){let a=(0,U.useRouter)();return H(),(0,t.jsxs)("div",{className:"rounded-2xl border overflow-hidden",children:[(0,t.jsxs)(W.Table,{children:[(0,t.jsx)(W.TableHeader,{children:(0,t.jsxs)(W.TableRow,{children:[(0,t.jsx)(W.TableHead,{className:"w-[40%]",children:s("tableHeaders.title")}),(0,t.jsx)(W.TableHead,{className:"hidden sm:table-cell",children:s("tableHeaders.start")}),(0,t.jsx)(W.TableHead,{className:"hidden md:table-cell",children:s("tableHeaders.tag")}),(0,t.jsx)(W.TableHead,{className:"hidden lg:table-cell",children:s("tableHeaders.location")}),(0,t.jsx)(W.TableHead,{children:s("tableHeaders.countdown")}),(0,t.jsx)(W.TableHead,{className:"w-10"})]})}),(0,t.jsx)(W.TableBody,{children:e.map(e=>{let r=Date.now(),l=new Date(e.start).getTime(),i=r>=(e.end?new Date(e.end).getTime():l+36e5),n=v(e.start),d=e.end?v(e.end):0,c=I(e.tag),h=E(e.tag);return(0,t.jsxs)(W.TableRow,{className:"group cursor-pointer hover:bg-muted/50",onClick:()=>a.push(`/events/${encodeURIComponent(e.id)}/`),children:[(0,t.jsxs)(W.TableCell,{className:"font-medium",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[e.isFeatured&&(0,t.jsx)(G.Star,{className:"w-4 h-4 text-yellow-500 fill-yellow-500 shrink-0"}),(0,t.jsx)("span",{className:c.icon,children:(0,t.jsx)(h,{className:"w-4 h-4 shrink-0"})}),(0,t.jsx)("span",{className:"truncate group-hover:text-primary transition-colors",children:e.title})]}),(0,t.jsx)("div",{className:"sm:hidden text-xs text-muted-foreground mt-1",children:j(e.start,{hideCurrentYear:!0})})]}),(0,t.jsx)(W.TableCell,{className:"hidden sm:table-cell text-muted-foreground",children:j(e.start,{hideCurrentYear:!0})}),(0,t.jsx)(W.TableCell,{className:"hidden md:table-cell",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs border ${c.bg} ${c.text} ${c.border}`,children:[(0,t.jsx)(h,{className:"w-3 h-3"}),e.tag??s("event")]})}),(0,t.jsx)(W.TableCell,{className:"hidden lg:table-cell text-muted-foreground",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[e.location?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(Y.MapPin,{className:"w-3.5 h-3.5"}),e.location]}):"—",e.dmr&&e.talkgroup&&(0,t.jsxs)("span",{onClick:t=>{"brandmeister"===e.dmrNetwork&&(t.stopPropagation(),window.open(`https://hose.brandmeister.network/?tg=${e.talkgroup}`,"_blank"))},className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] bg-red-50 dark:bg-red-950/30 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800 ${"brandmeister"===e.dmrNetwork?"hover:bg-red-100 dark:hover:bg-red-900/30 cursor-pointer":""} transition-colors`,title:"brandmeister"===e.dmrNetwork?s("dmr.listen"):`${R(e.dmrNetwork,s)} TG ${e.talkgroup}`,children:[(0,t.jsx)(o.Radio,{className:"w-3 h-3"})," TG ",e.talkgroup]})]})}),(0,t.jsx)(W.TableCell,{className:"tabular-nums",children:r>=l&&!i?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 text-sm font-medium",children:[(0,t.jsx)(X.Clock,{className:"w-3.5 h-3.5 animate-pulse"}),N(d,s)]}):i?(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:s("ended")}):(0,t.jsx)("span",{className:`${c.text} text-sm font-medium`,children:N(n,s)})}),(0,t.jsx)(W.TableCell,{children:(0,t.jsx)(B.ChevronRight,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-0.5 transition-all"})})]},e.id)})})]}),0===e.length&&(0,t.jsx)("div",{className:"text-center text-muted-foreground py-12",children:s("noMatching")})]})});Z.displayName="EventsTable";let ee=(0,r.default)("arrow-down-a-z",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]),et=(0,r.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var es=e.i(40160),ea=e.i(16715),er=e.i(55436),el=e.i(37727),ei=e.i(19455),en=e.i(55146),eo=e.i(76639),ed=e.i(93479),ec=e.i(10204),eh=e.i(67489),em=e.i(99375),ex=e.i(63209),ep=e.i(90119),eu=e.i(95468);let eg="https://api.radioamador.info".replace(/\/$/,"");function ev(){let e=(0,p.useTranslations)("events.submit"),[a,r]=s.useState(!1),[l,i]=s.useState(!1),[o,d]=s.useState("idle"),[c,h]=s.useState(""),[m,x]=s.useState({}),[u,g]=s.useState({title:"",start:"",end:"",location:"",url:"",tag:"",category:"national",dmr:!1,dmrNetwork:"brandmeister",talkgroup:"",submitterEmail:"",honeypot:""}),v=()=>{g({title:"",start:"",end:"",location:"",url:"",tag:"",category:"national",dmr:!1,dmrNetwork:"brandmeister",talkgroup:"",submitterEmail:"",honeypot:""}),x({}),d("idle"),h("")},b=async t=>{if(t.preventDefault(),(()=>{let t={};if((!u.title.trim()||u.title.trim().length<3)&&(t.title=e("errors.titleRequired")),u.start?new Date(u.start)<new Date&&(t.start=e("errors.startFuture")):t.start=e("errors.startRequired"),u.end){let s=new Date(u.start);new Date(u.end)<=s&&(t.end=e("errors.endAfterStart"))}if(u.url)try{new URL(u.url)}catch{t.url=e("errors.invalidUrl")}if(u.dmr&&u.talkgroup){let s=Number(u.talkgroup);(isNaN(s)||s<=0)&&(t.talkgroup=e("errors.invalidTalkgroup"))}return u.submitterEmail&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.submitterEmail)||(t.submitterEmail=e("errors.invalidEmail"))),x(t),0===Object.keys(t).length})()){i(!0),d("idle");try{let t=await fetch(`${eg}/api/events/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:u.title.trim(),start:new Date(u.start).toISOString(),end:u.end?new Date(u.end).toISOString():void 0,location:u.location.trim()||void 0,url:u.url.trim()||void 0,tag:u.tag||void 0,category:u.category||"national",dmr:u.dmr,dmrNetwork:u.dmr&&u.dmrNetwork?u.dmrNetwork:void 0,talkgroup:u.dmr&&u.talkgroup?Number(u.talkgroup):void 0,submitterEmail:u.submitterEmail.trim()||void 0,honeypot:u.honeypot})}),s=await t.json();if(!t.ok){if(429===t.status)throw Error(e("errors.rateLimit"));throw Error(s.error||e("errors.unknown"))}d("success"),setTimeout(()=>{r(!1)},2e3)}catch(t){d("error"),h(t instanceof Error?t.message:e("errors.unknown"))}finally{i(!1)}}},j=(e,t)=>{g(s=>{let a={...s,[e]:t};return"tag"!==e||"Net"!==t||s.dmr||(a.dmr=!0,a.dmrNetwork="brandmeister"),a}),m[e]&&x(t=>({...t,[e]:void 0}))};return(0,t.jsxs)(eo.Dialog,{open:a,onOpenChange:e=>{r(e),e||setTimeout(v,200)},children:[(0,t.jsx)(eo.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(ei.Button,{variant:"outline",size:"lg",className:"gap-2",children:[(0,t.jsx)(ep.CalendarPlus,{className:"h-4 w-4"}),e("button")]})}),(0,t.jsxs)(eo.DialogContent,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(eo.DialogHeader,{children:[(0,t.jsx)(eo.DialogTitle,{children:e("title")}),(0,t.jsx)(eo.DialogDescription,{children:e("description")})]}),"success"===o?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 gap-4",children:[(0,t.jsx)(eu.CheckCircle2,{className:"h-12 w-12 text-green-500"}),(0,t.jsx)("p",{className:"text-center font-medium",children:e("successMessage")})]}):(0,t.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",name:"website",value:u.honeypot,onChange:e=>j("honeypot",e.target.value),tabIndex:-1,autoComplete:"off",style:{position:"absolute",left:"-9999px"},"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(ec.Label,{htmlFor:"title",children:[e("fields.title")," ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(ed.Input,{id:"title",value:u.title,onChange:e=>j("title",e.target.value),placeholder:e("placeholders.title"),"aria-invalid":!!m.title}),m.title&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-3 w-3"})," ",m.title]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(ec.Label,{htmlFor:"start",children:[e("fields.start")," ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(ed.Input,{id:"start",type:"datetime-local",value:u.start,onChange:e=>j("start",e.target.value),"aria-invalid":!!m.start}),m.start&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-3 w-3"})," ",m.start]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"end",children:e("fields.end")}),(0,t.jsx)(ed.Input,{id:"end",type:"datetime-local",value:u.end,onChange:e=>j("end",e.target.value),"aria-invalid":!!m.end}),m.end&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-3 w-3"})," ",m.end]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"location",children:e("fields.location")}),(0,t.jsx)(ed.Input,{id:"location",value:u.location,onChange:e=>j("location",e.target.value),placeholder:e("placeholders.location")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"url",children:e("fields.url")}),(0,t.jsx)(ed.Input,{id:"url",type:"url",value:u.url,onChange:e=>j("url",e.target.value),placeholder:e("placeholders.url"),"aria-invalid":!!m.url}),m.url&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-3 w-3"})," ",m.url]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"tag",children:e("fields.tag")}),(0,t.jsxs)(eh.Select,{value:u.tag,onValueChange:e=>j("tag",e),children:[(0,t.jsx)(eh.SelectTrigger,{id:"tag",children:(0,t.jsx)(eh.SelectValue,{placeholder:e("placeholders.tag")})}),(0,t.jsxs)(eh.SelectContent,{children:[(0,t.jsx)(eh.SelectItem,{value:"Net",children:"Net"}),(0,t.jsx)(eh.SelectItem,{value:"Contest",children:"Contest"}),(0,t.jsx)(eh.SelectItem,{value:"Meetup",children:"Meetup"}),(0,t.jsx)(eh.SelectItem,{value:"Satellite",children:"Satellite"}),(0,t.jsx)(eh.SelectItem,{value:"DX",children:"DX"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"category",children:e("fields.category")||"Âmbito"}),(0,t.jsxs)(eh.Select,{value:u.category,onValueChange:e=>j("category",e),children:[(0,t.jsx)(eh.SelectTrigger,{id:"category",children:(0,t.jsx)(eh.SelectValue,{placeholder:e("placeholders.category")||"Selecionar âmbito"})}),(0,t.jsxs)(eh.SelectContent,{children:[(0,t.jsx)(eh.SelectItem,{value:"national",children:e("national")||"Nacional"}),(0,t.jsx)(eh.SelectItem,{value:"international",children:e("international")||"Internacional"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(ec.Label,{htmlFor:"dmr",children:e("fields.dmr")||"DMR"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e("dmrNote")||"Evento usa rede DMR"})]}),(0,t.jsx)(em.Switch,{id:"dmr",checked:u.dmr,onCheckedChange:e=>j("dmr",e)})]}),u.dmr&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"dmrNetwork",children:e("fields.dmrNetwork")||"Rede DMR"}),(0,t.jsxs)(eh.Select,{value:u.dmrNetwork,onValueChange:e=>j("dmrNetwork",e),children:[(0,t.jsx)(eh.SelectTrigger,{id:"dmrNetwork",children:(0,t.jsx)(eh.SelectValue,{placeholder:e("placeholders.dmrNetwork")||"Selecionar rede"})}),(0,t.jsxs)(eh.SelectContent,{children:[(0,t.jsx)(eh.SelectItem,{value:"brandmeister",children:"Brandmeister"}),(0,t.jsx)(eh.SelectItem,{value:"adn",children:"ADN Systems"}),(0,t.jsx)(eh.SelectItem,{value:"other",children:e("dmr.other")||"Outra"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"talkgroup",children:e("fields.talkgroup")}),(0,t.jsx)(ed.Input,{id:"talkgroup",type:"number",value:u.talkgroup,onChange:e=>j("talkgroup",e.target.value),placeholder:e("placeholders.talkgroup"),"aria-invalid":!!m.talkgroup}),m.talkgroup&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-3 w-3"})," ",m.talkgroup]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ec.Label,{htmlFor:"submitterEmail",children:e("fields.email")}),(0,t.jsx)(ed.Input,{id:"submitterEmail",type:"email",value:u.submitterEmail,onChange:e=>j("submitterEmail",e.target.value),placeholder:e("placeholders.email"),"aria-invalid":!!m.submitterEmail}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e("emailNote")}),m.submitterEmail&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-3 w-3"})," ",m.submitterEmail]})]}),"error"===o&&(0,t.jsxs)("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive flex items-center gap-2",children:[(0,t.jsx)(ex.AlertCircle,{className:"h-4 w-4 shrink-0"}),c]}),(0,t.jsxs)(eo.DialogFooter,{className:"pt-4",children:[(0,t.jsx)(ei.Button,{type:"button",variant:"outline",onClick:()=>r(!1),children:e("cancel")}),(0,t.jsx)(ei.Button,{type:"submit",disabled:l,children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),e("submitting")]}):e("submit")})]})]})]})]})}var eb=e.i(66608);function ej({filters:e,onFilterChange:r,tags:l,filteredCount:i,allEvents:n,filteredEvents:o,isRefreshing:d,onRefresh:c,t:h}){let m=(0,s.useRef)(null),x=""!==e.search.trim()||"all"!==e.tag||"all"!==e.category,p=(0,s.useCallback)(()=>{r({search:"",tag:"all",category:"all"})},[r]);return(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(er.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-ship-cove-400 pointer-events-none"}),(0,t.jsx)("input",{ref:m,type:"text",placeholder:h("searchPlaceholder")||"Pesquisar eventos...",value:e.search,onChange:e=>r({search:e.target.value}),className:"w-full h-12 pl-12 pr-12 rounded-xl border border-ship-cove-200 dark:border-ship-cove-800 bg-white dark:bg-ship-cove-950/50 text-ship-cove-900 dark:text-ship-cove-100 placeholder:text-ship-cove-400 dark:placeholder:text-ship-cove-500 focus:outline-none focus:ring-2 focus:ring-ship-cove-500/20 focus:border-ship-cove-400 dark:focus:border-ship-cove-600 transition-all"}),e.search&&(0,t.jsx)("button",{onClick:()=>r({search:""}),className:"absolute right-4 top-1/2 -translate-y-1/2 h-6 w-6 flex items-center justify-center rounded-full bg-ship-cove-100 dark:bg-ship-cove-800 text-ship-cove-500 dark:text-ship-cove-400 hover:bg-ship-cove-200 dark:hover:bg-ship-cove-700 transition-colors",children:(0,t.jsx)(el.X,{className:"h-3.5 w-3.5"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(en.DropdownMenu,{children:[(0,t.jsx)(en.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(ei.Button,{variant:"outline",className:"h-12 px-4 gap-2 border-ship-cove-200 dark:border-ship-cove-800 bg-white dark:bg-ship-cove-950/50",children:[(0,t.jsx)(et,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:h("sortBy")||"Ordenar"})]})}),(0,t.jsxs)(en.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,t.jsxs)(en.DropdownMenuItem,{onClick:()=>r({sort:"startAsc"}),className:"startAsc"===e.sort?"bg-ship-cove-100 dark:bg-ship-cove-800":"",children:[(0,t.jsx)(a.Calendar,{className:"h-4 w-4 mr-2"}),h("soonestFirst")||"Mais próximos"]}),(0,t.jsxs)(en.DropdownMenuItem,{onClick:()=>r({sort:"startDesc"}),className:"startDesc"===e.sort?"bg-ship-cove-100 dark:bg-ship-cove-800":"",children:[(0,t.jsx)(a.Calendar,{className:"h-4 w-4 mr-2"}),h("latestFirst")||"Mais distantes"]}),(0,t.jsxs)(en.DropdownMenuItem,{onClick:()=>r({sort:"title"}),className:"title"===e.sort?"bg-ship-cove-100 dark:bg-ship-cove-800":"",children:[(0,t.jsx)(ee,{className:"h-4 w-4 mr-2"}),h("titleAZ")||"Título A-Z"]})]})]}),(0,t.jsxs)(en.DropdownMenu,{children:[(0,t.jsx)(en.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(ei.Button,{variant:"outline",size:"icon",className:"h-12 w-12 border-ship-cove-200 dark:border-ship-cove-800 bg-white dark:bg-ship-cove-950/50",children:(0,t.jsx)(es.Download,{className:"h-4 w-4"})})}),(0,t.jsxs)(en.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(en.DropdownMenuItem,{onClick:()=>{0===o.length||(0,eb.downloadMultipleICS)(o,x?"repetidores-eventos-filtrados":"repetidores-eventos")},disabled:0===o.length,children:h("exportVisible")||"Exportar visíveis"}),(0,t.jsx)(en.DropdownMenuItem,{onClick:()=>{0!==n.length&&(0,eb.downloadMultipleICS)(n,"repetidores-todos-eventos")},disabled:0===n.length,children:h("exportAll")||"Exportar todos"})]})]}),(0,t.jsx)(ei.Button,{variant:"outline",size:"icon",onClick:c,disabled:d,className:"h-12 w-12 border-ship-cove-200 dark:border-ship-cove-800 bg-white dark:bg-ship-cove-950/50",children:(0,t.jsx)(ea.RefreshCw,{className:`h-4 w-4 ${d?"animate-spin":""}`})}),(0,t.jsx)("div",{className:"hidden sm:block",children:(0,t.jsx)(ev,{})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mr-2",children:[(0,t.jsxs)("span",{className:"text-xs font-medium text-ship-cove-500 dark:text-ship-cove-400 uppercase tracking-wider mr-1",children:[h("scope")||"Âmbito",":"]}),(0,t.jsx)(ef,{isActive:"all"===e.category,onClick:()=>r({category:"all"}),label:h("allCategories")||"Todos"}),(0,t.jsx)(ef,{isActive:"international"===e.category,onClick:()=>r({category:"international"}),label:h("international")||"Internacional",icon:(0,t.jsx)(C.Globe2,{className:"w-3.5 h-3.5"}),activeClass:"bg-sky-500 text-white border-sky-500"}),(0,t.jsx)(ef,{isActive:"national"===e.category,onClick:()=>r({category:"national"}),label:h("national")||"Nacional",icon:(0,t.jsx)(Y.MapPin,{className:"w-3.5 h-3.5"}),activeClass:"bg-emerald-500 text-white border-emerald-500"})]}),(0,t.jsx)("div",{className:"hidden sm:block w-px h-6 bg-ship-cove-200 dark:bg-ship-cove-800"}),l.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsxs)("span",{className:"text-xs font-medium text-ship-cove-500 dark:text-ship-cove-400 uppercase tracking-wider mr-1",children:[h("type")||"Tipo",":"]}),(0,t.jsx)(ef,{isActive:"all"===e.tag,onClick:()=>r({tag:"all"}),label:h("allTags")||"Todos"}),l.map(s=>{I(s);let a=E(s),l=L(s);return(0,t.jsxs)("button",{onClick:()=>r({tag:s}),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${e.tag===s?`${l} text-white shadow-sm`:"bg-ship-cove-100 dark:bg-ship-cove-800/50 text-ship-cove-600 dark:text-ship-cove-400 hover:bg-ship-cove-200 dark:hover:bg-ship-cove-800"}`,children:[(0,t.jsx)(a,{className:"w-3.5 h-3.5"}),s]},s)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 ml-auto",children:[x&&(0,t.jsxs)("button",{onClick:p,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium text-ship-cove-600 dark:text-ship-cove-400 hover:bg-ship-cove-100 dark:hover:bg-ship-cove-800/50 transition-colors",children:[(0,t.jsx)(el.X,{className:"h-3.5 w-3.5"}),h("clearFilters")||"Limpar"]}),(0,t.jsxs)("span",{className:"text-sm text-ship-cove-500 dark:text-ship-cove-400 tabular-nums",children:[i," ",1===i?h("event")||"evento":h("events")||"eventos"]})]})]}),(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)(ev,{})})]})}function ef({isActive:e,onClick:s,label:a,icon:r,activeClass:l="bg-ship-cove-600 text-white border-ship-cove-600"}){return(0,t.jsxs)("button",{onClick:s,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${e?l:"bg-ship-cove-100 dark:bg-ship-cove-800/50 text-ship-cove-600 dark:text-ship-cove-400 hover:bg-ship-cove-200 dark:hover:bg-ship-cove-800"}`,children:[r,a]})}var ew=e.i(73375);let eN=["Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],ek=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function ey({events:e,t:r}){let[l,i]=(0,s.useState)(new Date),[n,o]=(0,s.useState)(null),[d,c]=(0,s.useState)("month"),[h,m]=(0,s.useState)(()=>k(new Date)),x=(0,s.useMemo)(()=>{let e=l.getFullYear(),t=l.getMonth(),s=new Date(e,t,1),a=new Date(e,t+1,0),r=s.getDay()-1;r<0&&(r=6);let i=[];for(let s=r-1;s>=0;s--){let a=new Date(e,t,-s);i.push({date:a,isCurrentMonth:!1})}for(let s=1;s<=a.getDate();s++)i.push({date:new Date(e,t,s),isCurrentMonth:!0});let n=42-i.length;for(let s=1;s<=n;s++)i.push({date:new Date(e,t+1,s),isCurrentMonth:!1});return i},[l]),p=(0,s.useMemo)(()=>{let t=new Map;for(let s of e){let e=new Date(s.start),a=s.end?new Date(s.end):e,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),l=new Date(a.getFullYear(),a.getMonth(),a.getDate());for(;r<=l;){let e=w(r),a=t.get(e)||[];a.find(e=>e.id===s.id)||(a.push(s),a.sort((e,t)=>e.isFeatured&&!t.isFeatured?-1:!e.isFeatured&&t.isFeatured?1:new Date(e.start).getTime()-new Date(t.start).getTime()),t.set(e,a)),r.setDate(r.getDate()+1)}}return t},[e]),u=(0,s.useMemo)(()=>n&&p.get(w(n))||[],[p,n]),g=(0,s.useMemo)(()=>(function(e){let t=[];for(let s=0;s<7;s++){let a=new Date(e);a.setDate(e.getDate()+s),t.push(a)}return t})(h),[h]),v=(0,s.useMemo)(()=>{let e=new Map;for(let t of g){let s=w(t);e.set(s,p.get(s)||[])}return e},[p,g]),b=w(new Date);return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex rounded-lg bg-ship-cove-100 dark:bg-ship-cove-800/50 p-1",children:[(0,t.jsx)("button",{onClick:()=>c("month"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${"month"===d?"bg-white dark:bg-ship-cove-900 text-ship-cove-900 dark:text-ship-cove-100 shadow-sm":"text-ship-cove-600 dark:text-ship-cove-400 hover:text-ship-cove-900 dark:hover:text-ship-cove-200"}`,children:r("monthView")||"Mês"}),(0,t.jsx)("button",{onClick:()=>c("week"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${"week"===d?"bg-white dark:bg-ship-cove-900 text-ship-cove-900 dark:text-ship-cove-100 shadow-sm":"text-ship-cove-600 dark:text-ship-cove-400 hover:text-ship-cove-900 dark:hover:text-ship-cove-200"}`,children:r("weekView")||"Semana"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ei.Button,{variant:"ghost",size:"icon",onClick:"month"===d?()=>{i(new Date(l.getFullYear(),l.getMonth()-1,1))}:()=>{let e=new Date(h);e.setDate(h.getDate()-7),m(e)},className:"h-9 w-9",children:(0,t.jsx)(ew.ChevronLeft,{className:"h-5 w-5"})}),(0,t.jsx)(ei.Button,{variant:"ghost",size:"icon",onClick:"month"===d?()=>{i(new Date(l.getFullYear(),l.getMonth()+1,1))}:()=>{let e=new Date(h);e.setDate(h.getDate()+7),m(e)},className:"h-9 w-9",children:(0,t.jsx)(B.ChevronRight,{className:"h-5 w-5"})})]}),(0,t.jsx)("h2",{className:"text-xl font-bold text-ship-cove-900 dark:text-ship-cove-100",children:"month"===d?`${ek[l.getMonth()]} ${l.getFullYear()}`:`${g[0].getDate()} - ${g[6].getDate()} ${ek[g[6].getMonth()]} ${g[6].getFullYear()}`})]}),(0,t.jsxs)(ei.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Date;i(new Date(e.getFullYear(),e.getMonth(),1)),m(k(e)),o(e)},className:"gap-2",children:[(0,t.jsx)(a.Calendar,{className:"h-4 w-4"}),r("today")||"Hoje"]})]}),"month"===d&&(0,t.jsxs)("div",{className:"rounded-xl border border-ship-cove-200 dark:border-ship-cove-800 overflow-hidden bg-white dark:bg-ship-cove-950/50",children:[(0,t.jsx)("div",{className:"grid grid-cols-7 bg-ship-cove-50 dark:bg-ship-cove-900/50 border-b border-ship-cove-200 dark:border-ship-cove-800",children:eN.map(e=>(0,t.jsx)("div",{className:"px-2 py-3 text-center text-xs font-semibold text-ship-cove-600 dark:text-ship-cove-400 uppercase tracking-wider",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7",children:x.map(({date:e,isCurrentMonth:s},a)=>{let r=w(e),l=p.get(r)||[],i=r===b,d=n&&r===w(n);return(0,t.jsxs)("div",{onClick:()=>o(e),className:`min-h-[100px] sm:min-h-[120px] p-1.5 border-b border-r border-ship-cove-100 dark:border-ship-cove-800/50 cursor-pointer transition-colors ${!s?"bg-ship-cove-50/50 dark:bg-ship-cove-900/20":""} ${d?"bg-ship-cove-100 dark:bg-ship-cove-800/50":"hover:bg-ship-cove-50 dark:hover:bg-ship-cove-900/30"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-sm font-medium ${i?"bg-ship-cove-600 text-white":s?"text-ship-cove-900 dark:text-ship-cove-100":"text-ship-cove-400 dark:text-ship-cove-600"}`,children:e.getDate()}),l.length>3&&(0,t.jsxs)("span",{className:"text-[10px] text-ship-cove-500 dark:text-ship-cove-400 font-medium",children:["+",l.length-3]})]}),(0,t.jsx)("div",{className:"space-y-0.5",children:l.slice(0,3).map(e=>(0,t.jsx)(eC,{event:e},e.id))})]},a)})})]}),"week"===d&&(0,t.jsxs)("div",{className:"rounded-xl border border-ship-cove-200 dark:border-ship-cove-800 overflow-hidden bg-white dark:bg-ship-cove-950/50",children:[(0,t.jsx)("div",{className:"grid grid-cols-7 bg-ship-cove-50 dark:bg-ship-cove-900/50 border-b border-ship-cove-200 dark:border-ship-cove-800",children:g.map((e,s)=>{let a=w(e)===b;return(0,t.jsxs)("div",{className:`px-2 py-3 text-center border-r last:border-r-0 border-ship-cove-200 dark:border-ship-cove-800 ${a?"bg-ship-cove-100 dark:bg-ship-cove-800/50":""}`,children:[(0,t.jsx)("div",{className:"text-xs font-medium text-ship-cove-500 dark:text-ship-cove-400 uppercase tracking-wider",children:eN[s]}),(0,t.jsx)("div",{className:`text-2xl font-bold mt-1 ${a?"text-ship-cove-600 dark:text-ship-cove-300":"text-ship-cove-900 dark:text-ship-cove-100"}`,children:e.getDate()})]},w(e))})}),(0,t.jsx)("div",{className:"grid grid-cols-7 min-h-[400px]",children:g.map(e=>{let s=w(e),a=v.get(s)||[],r=s===b;return(0,t.jsx)("div",{className:`p-2 border-r last:border-r-0 border-ship-cove-100 dark:border-ship-cove-800/50 ${r?"bg-ship-cove-50/50 dark:bg-ship-cove-900/20":""}`,children:0===a.length?(0,t.jsx)("div",{className:"h-full flex items-center justify-center text-sm text-ship-cove-400 dark:text-ship-cove-600",children:"—"}):(0,t.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,t.jsx)(eD,{event:e},e.id))})},`events-${s}`)})})]}),n&&u.length>0&&"month"===d&&(0,t.jsxs)("div",{className:"mt-6 rounded-xl border border-ship-cove-200 dark:border-ship-cove-800 bg-white dark:bg-ship-cove-950/50 p-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-ship-cove-900 dark:text-ship-cove-100 mb-4",children:[r("eventsOn")||"Eventos em"," ",n.toLocaleDateString("pt-PT",{weekday:"long",day:"numeric",month:"long"})]}),(0,t.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,t.jsx)(eM,{event:e},e.id))})]})]})}function eC({event:e}){let s=L(e.tag);return(0,t.jsx)(V.default,{href:`/events/${encodeURIComponent(e.id)}/`,onClick:e=>e.stopPropagation(),className:`block px-1.5 py-0.5 rounded text-[10px] sm:text-xs font-medium text-white truncate hover:opacity-90 transition-opacity ${s}`,title:e.title,children:e.title})}function eD({event:e}){let s=L(e.tag),a=f(e.start);return(0,t.jsxs)(V.default,{href:`/events/${encodeURIComponent(e.id)}/`,className:"block rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[(0,t.jsx)("div",{className:`${s} px-2 py-1`,children:(0,t.jsx)("span",{className:"text-[10px] font-bold text-white/90",children:a})}),(0,t.jsxs)("div",{className:"bg-ship-cove-50 dark:bg-ship-cove-900/50 px-2 py-1.5",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-ship-cove-900 dark:text-ship-cove-100 line-clamp-2",children:e.title}),e.location&&(0,t.jsx)("span",{className:"text-[10px] text-ship-cove-500 dark:text-ship-cove-400 truncate block mt-0.5",children:e.location})]})]})}function eM({event:e}){let s=L(e.tag),a=f(e.start);return(0,t.jsxs)(V.default,{href:`/events/${encodeURIComponent(e.id)}/`,className:"flex gap-3 p-3 rounded-lg bg-ship-cove-50 dark:bg-ship-cove-900/30 hover:bg-ship-cove-100 dark:hover:bg-ship-cove-800/50 transition-colors group",children:[(0,t.jsx)("div",{className:`${s} px-3 py-2 rounded-lg text-center shrink-0`,children:(0,t.jsx)("span",{className:"text-sm font-bold text-white",children:a})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-semibold text-ship-cove-900 dark:text-ship-cove-100 group-hover:text-ship-cove-600 dark:group-hover:text-ship-cove-300 transition-colors",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-ship-cove-500 dark:text-ship-cove-400",children:[(0,t.jsx)("span",{className:"font-medium",children:e.tag}),e.location&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{className:"truncate",children:e.location})]})]})]})]})}function eS(){return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(h.Skeleton,{className:"aspect-[16/10] w-full rounded-xl"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Skeleton,{className:"h-4 w-24"}),(0,t.jsx)(h.Skeleton,{className:"h-6 w-full"}),(0,t.jsx)(h.Skeleton,{className:"h-4 w-3/4"})]})]})}function eT(){return(0,t.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,t.jsx)(h.Skeleton,{className:"h-10 w-full max-w-md"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from({length:5}).map((e,s)=>(0,t.jsx)(h.Skeleton,{className:"h-8 w-20 rounded-full"},s))})]})}function e$({initialEvents:e=[]}){let r=(0,p.useTranslations)("events"),h=(0,s.useRef)(null),[u,v]=(0,s.useState)(!1),[b,j]=(0,s.useState)(e),[f,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(null),[y,C]=(0,s.useState)({search:"",tag:"all",category:"all",sort:"startAsc",view:"cards"}),[D,M]=(0,s.useState)(12),[S,T]=(0,s.useState)(!1),$=(0,s.useRef)(null),F=(0,s.useRef)(null),I=(0,s.useCallback)(async(e=!0)=>{e&&w(!0),k(null);try{let e=await g({limit:500,sort:"startAsc"});j(e.docs)}catch{k("error")}finally{w(!1)}},[]);(0,s.useEffect)(()=>{v(!0),I(!1)},[I]);let E=(0,s.useMemo)(()=>{let e=new Set;return b.forEach(t=>{t?.tag&&e.add(t.tag)}),Array.from(e)},[b]),L=(0,s.useMemo)(()=>{let e=Date.now(),t=y.search.trim().toLowerCase(),s=b.filter(t=>(t.end?new Date(t.end).getTime():new Date(t.start).getTime())>=e);"all"!==y.tag&&(s=s.filter(e=>(e.tag??"").toLowerCase()===y.tag.toLowerCase())),"all"!==y.category&&(s=s.filter(e=>(e.category??"").toLowerCase()===y.category.toLowerCase())),t&&(s=s.filter(e=>[e.title,e.location,e.tag].filter(Boolean).join(" ").toLowerCase().includes(t)));let a=new Set;return(s=s.filter(e=>!a.has(e.id)&&(a.add(e.id),!0))).sort((e,t)=>{if(e.isFeatured&&!t.isFeatured)return -1;if(!e.isFeatured&&t.isFeatured)return 1;if("title"===y.sort)return e.title.localeCompare(t.title);let s=new Date(e.start).getTime(),a=new Date(t.start).getTime();return"startDesc"===y.sort?a-s:s-a}),s},[b,y.search,y.tag,y.category,y.sort]),R=(0,s.useMemo)(()=>L.slice(0,D),[L,D]),A=D<L.length;(0,s.useEffect)(()=>{M(12)},[y.search,y.tag,y.category,y.sort]),(0,s.useEffect)(()=>{let e="cards"===y.view?$.current:F.current;if(!e)return;let t=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&A&&!S&&(T(!0),setTimeout(()=>{M(e=>e+12),T(!1)},300))},{threshold:.1,rootMargin:"100px"});return t.observe(e),()=>t.disconnect()},[A,S,y.view]);let H=(0,s.useMemo)(()=>{let e=y.search.trim().toLowerCase(),t=[...b];"all"!==y.tag&&(t=t.filter(e=>(e.tag??"").toLowerCase()===y.tag.toLowerCase())),"all"!==y.category&&(t=t.filter(e=>(e.category??"").toLowerCase()===y.category.toLowerCase())),e&&(t=t.filter(t=>[t.title,t.location,t.tag].filter(Boolean).join(" ").toLowerCase().includes(e)));let s=new Set;return t.filter(e=>!s.has(e.id)&&(s.add(e.id),!0))},[b,y.search,y.tag,y.category]),O=(0,s.useCallback)(e=>{C(t=>({...t,...e}))},[]);!function(e){let{onFocusSearch:t,onClearFilters:a,onNextTab:r,onPrevTab:l}=e;(0,s.useEffect)(()=>{let e=e=>{let s=e.target,i="INPUT"===s.tagName||"TEXTAREA"===s.tagName||s.isContentEditable;"/"===e.key&&!i&&t&&(e.preventDefault(),t()),"Escape"===e.key&&a&&a(),e.altKey&&"ArrowRight"===e.key&&r&&(e.preventDefault(),r()),e.altKey&&"ArrowLeft"===e.key&&l&&(e.preventDefault(),l())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,a,r,l])}({onFocusSearch:()=>h.current?.focus(),onClearFilters:(0,s.useCallback)(()=>{C(e=>({...e,search:"",tag:"all",category:"all"}))},[]),onNextTab:()=>{let e=["cards","table","calendar"],t=(e.indexOf(y.view)+1)%e.length;O({view:e[t]})},onPrevTab:()=>{let e=["cards","table","calendar"],t=(e.indexOf(y.view)-1+e.length)%e.length;O({view:e[t]})}});let U=b.length,V=(0,s.useMemo)(()=>{let e=Date.now();return b.filter(t=>new Date(t.start).getTime()>e).length},[b]);return u?(0,t.jsx)(P,{interval:1e3,children:(0,t.jsxs)("div",{className:"mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8 py-6",children:[(0,t.jsx)(m.StandardPageHeader,{icon:(0,t.jsx)(l,{className:"h-7 w-7"}),title:r("title")||"Eventos",description:r("description")||"Calendário de eventos, contests e nets de radioamadorismo",stats:[{icon:(0,t.jsx)(l,{className:"h-4 w-4"}),value:U,label:r("totalEvents")||"eventos"},{icon:(0,t.jsx)(c,{className:"h-4 w-4"}),value:V,label:r("upcoming")||"próximos",variant:"success"}],floatingIcons:[(0,t.jsx)(c,{className:"h-12 w-12 text-white"},"trophy"),(0,t.jsx)(o.Radio,{className:"h-10 w-10 text-white"},"radio")]}),(0,t.jsx)(ej,{filters:y,onFilterChange:O,tags:E,filteredCount:L.length,allEvents:b,filteredEvents:L,isRefreshing:f,onRefresh:()=>I(!0),t:r}),N&&(0,t.jsx)("div",{className:"text-sm text-amber-600 dark:text-amber-400 mb-6",children:r("refreshError")}),(0,t.jsxs)(x.Tabs,{value:y.view,onValueChange:e=>O({view:e}),className:"w-full",children:[(0,t.jsxs)(x.TabsList,{className:"grid grid-cols-3 w-full max-w-sm mb-6 bg-ship-cove-100 dark:bg-ship-cove-800/50",children:[(0,t.jsxs)(x.TabsTrigger,{value:"cards",className:"inline-flex items-center gap-2",children:[(0,t.jsx)(i.LayoutGrid,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:r("tabs.cards")})]}),(0,t.jsxs)(x.TabsTrigger,{value:"table",className:"inline-flex items-center gap-2",children:[(0,t.jsx)(d.default,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:r("tabs.table")})]}),(0,t.jsxs)(x.TabsTrigger,{value:"calendar",className:"inline-flex items-center gap-2",children:[(0,t.jsx)(a.Calendar,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:r("tabs.calendar")})]})]}),(0,t.jsxs)(x.TabsContent,{value:"cards",className:"mt-0",children:[(0,t.jsx)(J,{events:L,t:r}),(0,t.jsx)(Q,{events:L,t:r}),R.length>0&&(0,t.jsx)("div",{className:"border-t border-ship-cove-200 dark:border-ship-cove-800 my-8"}),(0,t.jsx)("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:R.map((e,s)=>(0,t.jsx)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-200",style:{animationDelay:`${Math.min(50*s,300)}ms`},children:(0,t.jsx)(q,{event:e,t:r})},e.id))}),A&&(0,t.jsx)("div",{ref:$,className:"flex justify-center items-center py-8",children:S?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(n.Loader2,{className:"h-5 w-5 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:r("loadingMore")})]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:r("showingCount",{visible:R.length,total:L.length})})}),0===L.length&&(0,t.jsx)("div",{className:"text-center text-muted-foreground py-12",children:r("noMatching")})]}),(0,t.jsxs)(x.TabsContent,{value:"table",className:"mt-0",children:[(0,t.jsx)(Z,{events:R,t:r}),A&&(0,t.jsx)("div",{ref:F,className:"flex justify-center items-center py-8",children:S?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(n.Loader2,{className:"h-5 w-5 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:r("loadingMore")})]}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:r("showingCount",{visible:R.length,total:L.length})})})]}),(0,t.jsx)(x.TabsContent,{value:"calendar",className:"mt-0",children:(0,t.jsx)(ey,{events:H,t:r})})]}),(0,t.jsx)("footer",{className:"mt-10 text-xs text-muted-foreground text-center",children:r("tip")})]})}):(0,t.jsxs)("div",{className:"mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8 py-6",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-ship-cove-100 to-ship-cove-50 dark:from-ship-cove-900 dark:to-ship-cove-950 p-8 mb-8 animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 w-64 bg-ship-cove-200 dark:bg-ship-cove-800 rounded mb-3"}),(0,t.jsx)("div",{className:"h-5 w-96 bg-ship-cove-200 dark:bg-ship-cove-800 rounded"})]}),(0,t.jsx)(eT,{}),(0,t.jsx)("div",{className:"grid gap-x-8 gap-y-10 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,s)=>(0,t.jsx)(eS,{},s))})]})}e.s(["default",()=>e$],97067)}]);