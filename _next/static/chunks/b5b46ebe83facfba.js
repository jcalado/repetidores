(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82310,e=>{"use strict";var t=e.i(71645);function n(e){return Object.freeze({__version:1,map:e})}function r(e,t){return Object.freeze({...e,...t})}let o=(0,t.createContext)(null);function i(){let e=(0,t.use)(o);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}e.s(["LeafletContext",0,o,"createLeafletContext",()=>n,"extendContext",()=>r,"useLeafletContext",()=>i])},10007,e=>{"use strict";var t=e.i(82310),n=e.i(32322),r=e.i(71645);let o=(0,r.forwardRef)(function({bounds:e,boundsOptions:o,center:i,children:a,className:u,id:l,placeholder:c,style:s,whenReady:f,zoom:d,...p},m){let[h]=(0,r.useState)({className:u,id:l,style:s}),[v,g]=(0,r.useState)(null),x=(0,r.useRef)(void 0);(0,r.useImperativeHandle)(m,()=>v?.map??null,[v]);let y=(0,r.useCallback)(r=>{if(null!==r&&!x.current){let a=new n.Map(r,p);x.current=a,null!=i&&null!=d?a.setView(i,d):null!=e&&a.fitBounds(e,o),null!=f&&a.whenReady(f),g((0,t.createLeafletContext)(a))}},[]);(0,r.useEffect)(()=>()=>{v?.map.remove()},[v]);let b=v?r.default.createElement(t.LeafletContext,{value:v},a):c??null;return r.default.createElement("div",{...h,ref:y},b)});e.s(["MapContainer",0,o])},24049,e=>{"use strict";var t=e.i(71645);function n(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function r(e,n){return null==n?function(n,r){let o=(0,t.useRef)(void 0);return o.current||(o.current=e(n,r)),o}:function(r,o){let i=(0,t.useRef)(void 0);i.current||(i.current=e(r,o));let a=(0,t.useRef)(r),{instance:u}=i.current;return(0,t.useEffect)(function(){a.current!==r&&(n(u,r,a.current),a.current=r)},[u,r,n]),i}}e.s(["createElementHook",()=>r,"createElementObject",()=>n])},98959,16683,94205,69177,15212,92328,e=>{"use strict";var t=e.i(71645),n=e.i(74080),r=e.i(82310);function o(e){return(0,t.forwardRef)(function(n,o){let{instance:i,context:a}=e(n).current;(0,t.useImperativeHandle)(o,()=>i);let{children:u}=n;return null==u?null:t.default.createElement(r.LeafletContext,{value:a},u)})}function i(e){return(0,t.forwardRef)(function(r,o){let[i,a]=(0,t.useState)(!1),{instance:u}=e(r,a).current;(0,t.useImperativeHandle)(o,()=>u),(0,t.useEffect)(function(){i&&u.update()},[u,i,r.children]);let l=u._contentNode;return l?(0,n.createPortal)(r.children,l):null})}function a(e){return(0,t.forwardRef)(function(n,r){let{instance:o}=e(n).current;return(0,t.useImperativeHandle)(r,()=>o),null})}function u(e){return function(n){let o=(0,r.useLeafletContext)(),i=e(n,o),{instance:a}=i.current,u=(0,t.useRef)(n.position),{position:l}=n;return(0,t.useEffect)(function(){return a.addTo(o.map),function(){a.remove()}},[o.map,a]),(0,t.useEffect)(function(){null!=l&&l!==u.current&&(a.setPosition(l),u.current=l)},[a,l]),i}}function l(e,n){let r=(0,t.useRef)(n);(0,t.useEffect)(function(){n!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=n&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}function c(e,n){let r=(0,t.useRef)(void 0);(0,t.useEffect)(function(){return null!=n&&e.instance.on(n),r.current=n,function(){null!=r.current&&e.instance.off(r.current),r.current=null}},[e,n])}function s(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function f(e,t){return function(n,o){let i=(0,r.useLeafletContext)(),a=e(s(n,i),i);return l(i.map,n.attribution),c(a.current,n.eventHandlers),t(a.current,i,n,o),a}}e.s(["createContainerComponent",()=>o,"createDivOverlayComponent",()=>i,"createLeafComponent",()=>a],98959),e.s(["createControlHook",()=>u],16683),e.s(["useAttribution",()=>l],94205),e.s(["useEventHandlers",()=>c],69177),e.s(["withPane",()=>s],15212),e.s(["createDivOverlayHook",()=>f],92328)},50699,21126,e=>{"use strict";var t=e.i(98959),n=e.i(16683),r=e.i(92328),o=e.i(24049),i=e.i(71645),a=e.i(94205),u=e.i(82310),l=e.i(69177),c=e.i(15212);function s(e,t){(0,i.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function f(e){return function(t){let n=(0,u.useLeafletContext)(),r=e((0,c.withPane)(t,n),n);return(0,a.useAttribution)(n.map,t.attribution),(0,l.useEventHandlers)(r.current,t.eventHandlers),s(r.current,n),r}}function d(e){let r=(0,o.createElementHook)(function(t,n){return(0,o.createElementObject)(e(t),n)}),i=(0,n.createControlHook)(r);return(0,t.createLeafComponent)(i)}function p(e,n){let r=f((0,o.createElementHook)(e,n));return(0,t.createContainerComponent)(r)}function m(e,n){let i=(0,o.createElementHook)(e),a=(0,r.createDivOverlayHook)(i,n);return(0,t.createDivOverlayComponent)(a)}function h(e,n){var r;let a=(r=(0,o.createElementHook)(e,n),function(e){var t;let n,o=(0,u.useLeafletContext)(),a=r((0,c.withPane)(e,o),o);return(0,l.useEventHandlers)(a.current,e.eventHandlers),s(a.current,o),t=a.current,n=(0,i.useRef)(void 0),(0,i.useEffect)(function(){if(e.pathOptions!==n.current){let r=e.pathOptions??{};t.instance.setStyle(r),n.current=r}},[t,e]),a});return(0,t.createContainerComponent)(a)}function v(e,n){let r=f((0,o.createElementHook)(e,n));return(0,t.createLeafComponent)(r)}e.s(["createLayerHook",()=>f,"useLayerLifecycle",()=>s],21126),e.s(["createControlComponent",()=>d,"createLayerComponent",()=>p,"createOverlayComponent",()=>m,"createPathComponent",()=>h,"createTileLayerComponent",()=>v],50699)},23177,11499,e=>{"use strict";var t=e.i(24049),n=e.i(50699);function r(e,t,n){let{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o)}e.s(["updateGridLayer",()=>r],11499);var o=e.i(15212),i=e.i(32322);let a=(0,n.createTileLayerComponent)(function({url:e,...n},r){let a=new i.TileLayer(e,(0,o.withPane)(n,r));return(0,t.createElementObject)(a,r)},function(e,t,n){r(e,t,n);let{url:o}=t;null!=o&&o!==n.url&&e.setUrl(o)});e.s(["TileLayer",0,a],23177)},51892,e=>{"use strict";var t=e.i(24049),n=e.i(50699),r=e.i(82310),o=e.i(32322);let i=(0,n.createLayerComponent)(function({position:e,...n},i){let a=new o.Marker(e,n);return(0,t.createElementObject)(a,(0,r.extendContext)(i,{overlayContainer:a}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())});e.s(["Marker",0,i])},36730,e=>{"use strict";var t=e.i(82310),n=e.i(71645);function r(){return(0,t.useLeafletContext)().map}function o(e,t){let o=r();return(0,n.useEffect)(function(){return o.on(e,t),function(){o.off(e,t)}},[o,e,t]),o}function i(e){let t=r();return(0,n.useEffect)(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}e.s(["useMap",()=>r,"useMapEvent",()=>o,"useMapEvents",()=>i])},22305,e=>{"use strict";var t=e.i(24049),n=e.i(50699),r=e.i(32322),o=e.i(71645);let i=(0,n.createOverlayComponent)(function(e,n){let o=new r.Popup(e,n.overlayContainer);return(0,t.createElementObject)(o,n)},function(e,t,{position:n},r){(0,o.useEffect)(function(){let{instance:o}=e;function i(e){e.popup===o&&(o.update(),r(!0))}function a(e){e.popup===o&&r(!1)}return t.map.on({popupopen:i,popupclose:a}),null==t.overlayContainer?(null!=n&&o.setLatLng(n),o.openOn(t.map)):t.overlayContainer.bindPopup(o),function(){t.map.off({popupopen:i,popupclose:a}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(o)}},[e,t,r,n])});e.s(["Popup",0,i])},98361,e=>{"use strict";let t=(0,e.i(75254).default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);e.s(["Maximize2",()=>t],98361)},27828,e=>{"use strict";var t=e.i(24049),n=e.i(50699),r=e.i(82310),o=e.i(32322);let i=(0,n.createPathComponent)(function({positions:e,...n},i){let a=new o.Polyline(e,n);return(0,t.createElementObject)(a,(0,r.extendContext)(i,{overlayContainer:a}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)});e.s(["Polyline",0,i])},38255,e=>{"use strict";var t=e.i(43476),n=e.i(10007),r=e.i(23177),o=e.i(51892),i=e.i(22305),a=e.i(27828),u=e.i(36730),l=e.i(32322),c=e.i(71645),s=e.i(98361),f=e.i(37727);let d=new l.default.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),p=new l.default.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function m({bounds:e}){let t=(0,u.useMap)();return(0,c.useEffect)(()=>{t.fitBounds(e,{padding:[50,50]})},[t,e]),null}function h({trigger:e}){let t=(0,u.useMap)();return(0,c.useEffect)(()=>{let e=setTimeout(()=>{t.invalidateSize()},100);return()=>clearTimeout(e)},[t,e]),null}function v({latitude:e,longitude:u,callsign:l,userLatitude:v,userLongitude:g}){let[x,y]=(0,c.useState)(!1),b=(0,c.useCallback)(()=>{y(e=>!e)},[]);if((0,c.useEffect)(()=>{if(!x)return;let e=e=>{"Escape"===e.key&&y(!1)};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[x]),!e||!u)return(0,t.jsx)("div",{className:"h-64 bg-muted rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:"Coordenadas não disponíveis"})});let C="number"==typeof v&&"number"==typeof g,w=(0,t.jsxs)(n.MapContainer,{center:[e,u],zoom:12,style:{height:"100%",width:"100%"},scrollWheelZoom:x,dragging:!0,zoomControl:!0,children:[(0,t.jsx)(r.TileLayer,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,t.jsx)(o.Marker,{position:[e,u],icon:d,children:(0,t.jsx)(i.Popup,{children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("strong",{children:l}),(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:[e.toFixed(5),", ",u.toFixed(5)]})]})})}),C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Polyline,{positions:[[v,g],[e,u]],pathOptions:{color:"#3b82f6",weight:2,opacity:.7,dashArray:"8, 8"}}),(0,t.jsx)(o.Marker,{position:[v,g],icon:p,children:(0,t.jsx)(i.Popup,{children:"A sua localização"})}),(0,t.jsx)(m,{bounds:[[v,g],[e,u]]})]}),(0,t.jsx)(h,{trigger:x})]});return x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-64 bg-muted rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:"Mapa em ecrã completo"})}),(0,t.jsxs)("div",{className:"fixed inset-0 z-50 bg-background",children:[(0,t.jsx)("button",{onClick:b,className:"absolute top-4 right-4 z-[1000] p-2 bg-background/90 hover:bg-accent rounded-lg shadow-lg border transition-colors","aria-label":"Fechar ecrã completo",children:(0,t.jsx)(f.X,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"absolute top-4 left-4 z-[1000] px-3 py-2 bg-background/90 rounded-lg shadow-lg border",children:(0,t.jsx)("span",{className:"font-semibold",children:l})}),w]})]}):(0,t.jsxs)("div",{className:"relative h-64 rounded-lg overflow-hidden border",children:[(0,t.jsx)("button",{onClick:b,className:"absolute top-2 right-2 z-[1000] p-2 bg-background/90 hover:bg-accent rounded-lg shadow-md border transition-colors","aria-label":"Expandir mapa",children:(0,t.jsx)(s.Maximize2,{className:"h-4 w-4"})}),w]})}e.s(["default",()=>v])},33666,e=>{e.n(e.i(38255))}]);