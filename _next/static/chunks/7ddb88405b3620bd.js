(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80481,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(237),n=e.i(25949),a=e.i(33369),l=["axis"],o=(0,r.forwardRef)((e,t)=>r.createElement(a.CartesianChart,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:l,tooltipPayloadSearcher:n.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),s=r,c=e.i(7670),u=e.i(27066),d=e.i(69212),p=e.i(86031),f=e.i(94395),m=e.i(81977),y=e.i(79812),h=e.i(41818),v=e.i(844),x=e.i(45542),g=e.i(59798),b=e.i(46710),P=e.i(75337),A=e.i(61849),O=e.i(92860),E=e.i(61764),I=(e,t,r,i)=>(0,E.selectAxisWithScale)(e,"xAxis",t,i),j=(e,t,r,i)=>(0,E.selectTicksOfGraphicalItem)(e,"xAxis",t,i),S=(e,t,r,i)=>(0,E.selectAxisWithScale)(e,"yAxis",r,i),k=(e,t,r,i)=>(0,E.selectTicksOfGraphicalItem)(e,"yAxis",r,i),w=(0,A.createSelector)([b.selectChartLayout,I,S,j,k],(e,t,r,i,n)=>(0,y.isCategoricalAxis)(e,"xAxis")?(0,y.getBandSizeOfAxis)(t,i,!1):(0,y.getBandSizeOfAxis)(r,n,!1));function C(e){return"line"===e.type}var N=(0,A.createSelector)([E.selectUnfilteredCartesianItems,(e,t,r,i,n)=>n],(e,t)=>e.filter(C).find(e=>e.id===t)),D=(0,A.createSelector)([b.selectChartLayout,I,S,j,k,N,w,O.selectChartDataWithIndexesIfNotInPanorama],(e,t,r,i,n,a,l,o)=>{var s,{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(null!=a&&null!=t&&null!=r&&null!=i&&null!=n&&0!==i.length&&0!==n.length&&null!=l&&("horizontal"===e||"vertical"===e)){var{dataKey:p,data:m}=a;if(null!=(s=null!=m&&m.length>0?m:null==c?void 0:c.slice(u,d+1)))return function(e){var{layout:t,xAxis:r,yAxis:i,xAxisTicks:n,yAxisTicks:a,dataKey:l,bandSize:o,displayedData:s}=e;return s.map((e,s)=>{var c=(0,y.getValueByDataKey)(e,l);if("horizontal"===t)return{x:(0,y.getCateCoordinateOfLine)({axis:r,ticks:n,bandSize:o,entry:e,index:s}),y:(0,f.isNullish)(c)?null:i.scale(c),value:c,payload:e};var u=(0,f.isNullish)(c)?null:r.scale(c),d=(0,y.getCateCoordinateOfLine)({axis:i,ticks:a,bandSize:o,entry:e,index:s});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:n,dataKey:p,bandSize:l,displayedData:s})}}),L=e.i(27241),T=e.i(95146),R=e.i(40657),W=e.i(51883),B=e.i(52734),K=e.i(15549),F=e.i(91187),z=e.i(57999),M=e.i(66576),V=e.i(43404),G=e.i(81583),U=e.i(18519),Z=e.i(29601),X=e.i(18457),Y=e.i(20135),$=["id"],q=["type","layout","connectNulls","needClip","shape"],J=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _(){return(_=Object.assign.bind()).apply(null,arguments)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){var i,n,a;i=e,n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var et=s.memo(e=>{var{dataKey:t,data:r,stroke:i,strokeWidth:n,fill:a,name:l,hide:o,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:i,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:(0,y.getTooltipNameProp)(l,t),hide:o,type:u,color:i,unit:c}};return s.createElement(v.SetTooltipEntrySettings,{tooltipEntrySettings:d})}),er=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function ei(e){var{clipPathId:t,points:r,props:i}=e,{dot:n,dataKey:a,needClip:l}=i,{id:o}=i,c=ee(i,$),u=(0,z.svgPropertiesNoEvents)(c);return s.createElement(p.Dots,{points:r,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:l,clipPathId:t})}function en(e){var{showLabels:t,children:r,points:i}=e,n=(0,s.useMemo)(()=>null==i?void 0:i.map(e=>{var t,r,i={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Q(Q({},i),{},{value:e.value,payload:e.payload,viewBox:i,parentViewBox:void 0,fill:void 0})}),[i]);return s.createElement(d.CartesianLabelListContextProvider,{value:t?n:void 0},r)}function ea(e){var{clipPathId:t,pathRef:r,points:i,strokeDasharray:n,props:a}=e,{type:l,layout:o,connectNulls:c,needClip:u,shape:d}=a,p=ee(a,q),f=Q(Q({},(0,V.svgPropertiesAndEvents)(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:i,type:l,layout:o,connectNulls:c,strokeDasharray:null!=n?n:a.strokeDasharray});return s.createElement(s.Fragment,null,(null==i?void 0:i.length)>1&&s.createElement(U.Shape,_({shapeType:"curve",option:d},f,{pathRef:r})),s.createElement(ei,{points:i,clipPathId:t,props:a}))}function el(e){var{clipPathId:t,props:r,pathRef:i,previousPointsRef:n,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:p,animationEasing:m,animateNewValues:y,width:h,height:v,onAnimationEnd:x,onAnimationStart:g}=r,b=n.current,P=(0,R.useAnimationId)(l,"recharts-line-"),A=(0,s.useRef)(P),[O,E]=(0,s.useState)(!1),I=(0,s.useCallback)(()=>{"function"==typeof x&&x(),E(!1)},[x]),j=(0,s.useCallback)(()=>{"function"==typeof g&&g(),E(!0)},[g]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(i.current),k=(0,s.useRef)(0);A.current!==P&&(k.current=a.current,A.current=P);var w=k.current;return s.createElement(en,{points:l,showLabels:!O},r.children,s.createElement(M.JavascriptAnimate,{animationId:P,begin:u,duration:p,isActive:c,easing:m,onAnimationEnd:I,onAnimationStart:j,key:P},e=>{var u,d=Math.min((0,f.interpolate)(w,S+w,e),S);if(u=c?o?((e,t,r)=>{var i=r.reduce((e,t)=>e+t);if(!i)return er(t,e);for(var n=Math.floor(e/i),a=e%i,l=t-e,o=[],s=0,c=0;s<r.length;c+=r[s],++s)if(c+r[s]>a){o=[...r.slice(0,s),a-c];break}var u=o.length%2==0?[0,l]:[l];return[...function(e,t){for(var r=e.length%2!=0?[...e,0]:e,i=[],n=0;n<t;++n)i=[...i,...r];return i}(r,n),...o,...u].map(e=>"".concat(e,"px")).join(", ")})(d,S,"".concat(o).split(/[,\s]+/gim).map(e=>parseFloat(e))):er(S,d):null==o?void 0:String(o),e>0&&S>0&&(n.current=l,a.current=Math.max(a.current,d)),b){var p=b.length/l.length,m=1===e?l:l.map((t,r)=>{var i=Math.floor(r*p);if(b[i]){var n=b[i];return Q(Q({},t),{},{x:(0,f.interpolate)(n.x,t.x,e),y:(0,f.interpolate)(n.y,t.y,e)})}return y?Q(Q({},t),{},{x:(0,f.interpolate)(2*h,t.x,e),y:(0,f.interpolate)(v/2,t.y,e)}):Q(Q({},t),{},{x:t.x,y:t.y})});return n.current=m,s.createElement(ea,{props:r,points:m,clipPathId:t,pathRef:i,strokeDasharray:u})}return s.createElement(ea,{props:r,points:l,clipPathId:t,pathRef:i,strokeDasharray:u})}),s.createElement(d.LabelListFromLabelProp,{label:r.label}))}function eo(e){var{clipPathId:t,props:r}=e,i=(0,s.useRef)(null),n=(0,s.useRef)(0),a=(0,s.useRef)(null);return s.createElement(el,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:n,pathRef:a})}var es=(e,t)=>{var r,i;return{x:null!=(r=e.x)?r:void 0,y:null!=(i=e.y)?i:void 0,value:e.value,errorVal:(0,y.getValueByDataKey)(e.payload,t)}};class ec extends s.Component{render(){var{hide:e,dot:t,points:r,className:i,xAxisId:n,yAxisId:a,top:l,left:o,width:d,height:p,id:f,needClip:y,zIndex:v}=this.props;if(e)return null;var b=(0,c.clsx)("recharts-line",i),{r:P,strokeWidth:A}=(0,G.getRadiusAndStrokeWidthFromDot)(t),O=(0,m.isClipDot)(t),E=2*P+A,I=y?"url(#clipPath-".concat(O?"":"dots-").concat(f,")"):void 0;return s.createElement(Z.ZIndexLayer,{zIndex:v},s.createElement(u.Layer,{className:b},y&&s.createElement("defs",null,s.createElement(g.GraphicalItemClipPath,{clipPathId:f,xAxisId:n,yAxisId:a}),!O&&s.createElement("clipPath",{id:"clipPath-dots-".concat(f)},s.createElement("rect",{x:o-E/2,y:l-E/2,width:d+E,height:p+E}))),s.createElement(x.SetErrorBarContext,{xAxisId:n,yAxisId:a,data:r,dataPointFormatter:es,errorBarOffset:0},s.createElement(eo,{props:this.props,clipPathId:f}))),s.createElement(h.ActivePoints,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var eu={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:X.DefaultZIndexes.line,type:"linear"};function ed(e){var t=(0,W.resolveDefaultProps)(e,eu),{activeDot:r,animateNewValues:i,animationBegin:n,animationDuration:a,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:p,legendType:f,xAxisId:m,yAxisId:y,id:h}=t,v=ee(t,J),{needClip:x}=(0,g.useNeedsClip)(m,y),A=(0,B.usePlotArea)(),O=(0,b.useChartLayout)(),E=(0,P.useIsPanorama)(),I=(0,L.useAppSelector)(e=>D(e,m,y,E,h));if("horizontal"!==O&&"vertical"!==O||null==I||null==A)return null;var{height:j,width:S,x:k,y:w}=A;return s.createElement(ec,_({},v,{id:h,connectNulls:o,dot:c,activeDot:r,animateNewValues:i,animationBegin:n,animationDuration:a,animationEasing:l,isAnimationActive:d,hide:u,label:p,legendType:f,xAxisId:m,yAxisId:y,points:I,layout:O,height:j,width:S,left:k,top:w,needClip:x}))}var ep=s.memo(function(e){var t=(0,W.resolveDefaultProps)(e,eu),r=(0,P.useIsPanorama)();return s.createElement(K.RegisterGraphicalItemId,{id:t.id,type:"line"},e=>s.createElement(s.Fragment,null,s.createElement(T.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:i,legendType:n,hide:a}=e;return[{inactive:a,dataKey:t,type:n,color:i,value:(0,y.getTooltipNameProp)(r,t),payload:e}]})(t)}),s.createElement(et,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),s.createElement(F.SetCartesianGraphicalItem,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),s.createElement(ed,_({},t,{id:e}))))},Y.propsAreEqual);ep.displayName="Line";var ef=e.i(85183),em=e.i(93230),ey=e.i(34239),eh=e.i(31195),ev=e.i(494),ex=e.i(44171),eg=e.i(31725),eb=e.i(89763),eP=e.i(22075);function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(t){var i,n,a;i=e,n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eE(){return(eE=Object.assign.bind()).apply(null,arguments)}function eI(e){var t=(0,L.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,eg.addLine)(e)),()=>{t((0,eg.removeLine)(e))})),null}function ej(e){var{xAxisId:t,yAxisId:i,shape:n,className:a,ifOverflow:l}=e,o=(0,P.useIsPanorama)(),s=(0,eb.useClipPathId)(),d=(0,L.useAppSelector)(e=>(0,E.selectXAxisSettings)(e,t)),p=(0,L.useAppSelector)(e=>(0,E.selectYAxisSettings)(e,i)),m=(0,L.useAppSelector)(e=>(0,E.selectAxisScale)(e,"xAxis",t,o)),y=(0,L.useAppSelector)(e=>(0,E.selectAxisScale)(e,"yAxis",i,o)),h=(0,b.useViewBox)();if(!s||!h||null==d||null==p||null==m||null==y)return null;var v=((e,t,r,i,n,a)=>{var l,{x:o,y:s,segment:c,ifOverflow:u}=a,d=(0,f.isNumOrStr)(o);return(0,f.isNumOrStr)(s)?((e,t,r,i,n,a)=>{var{x:l,width:o}=a,s=n.y.apply(e,{position:r});if((0,f.isNan)(s)||"discard"===t&&!n.y.isInRange(s))return null;var c=[{x:l+o,y:s},{x:l,y:s}];return"left"===i?c.reverse():c})(s,u,r,n,e,t):d?((e,t,r,i,n,a)=>{var{y:l,height:o}=a,s=n.x.apply(e,{position:r});if((0,f.isNan)(s)||"discard"===t&&!n.x.isInRange(s))return null;var c=[{x:s,y:l+o},{x:s,y:l}];return"top"===i?c.reverse():c})(o,u,r,i,e,t):null!=c&&2===c.length?(l=c.map(t=>e.apply(t,{position:r})),"discard"===u&&l.some(t=>!e.isInRange(t))?null:l):null})((0,ex.createLabeledScales)({x:m,y:y}),h,e.position,d.orientation,p.orientation,e);if(!v)return null;var[{x:x,y:g},{x:A,y:O}]=v,I=eO(eO({clipPath:"hidden"===l?"url(#".concat(s,")"):void 0},(0,V.svgPropertiesAndEvents)(e)),{},{x1:x,y1:g,x2:A,y2:O}),j=(0,ex.rectWithCoords)({x1:x,y1:g,x2:A,y2:O});return r.createElement(Z.ZIndexLayer,{zIndex:e.zIndex},r.createElement(u.Layer,{className:(0,c.clsx)("recharts-reference-line",a)},((e,t)=>{var i;if(r.isValidElement(e))i=r.cloneElement(e,t);else if("function"==typeof e)i=e(t);else{if(!(0,eP.isWellBehavedNumber)(t.x1)||!(0,eP.isWellBehavedNumber)(t.y1)||!(0,eP.isWellBehavedNumber)(t.x2)||!(0,eP.isWellBehavedNumber)(t.y2))return null;i=r.createElement("line",eE({},t,{className:"recharts-reference-line-line"}))}return i})(n,I),r.createElement(ev.CartesianLabelContextProvider,eE({},j,{lowerWidth:j.width,upperWidth:j.width}),r.createElement(ev.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var eS={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:X.DefaultZIndexes.line};function ek(e){var t=(0,W.resolveDefaultProps)(e,eS);return r.createElement(r.Fragment,null,r.createElement(eI,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),r.createElement(ej,t))}function ew({points:e,status:n}){let a=r.useMemo(()=>e.map(e=>({distance:e.distance,terrain:e.elevation,los:e.losElevation,fresnelUpper:e.losElevation+e.fresnelRadius,fresnelLower:e.losElevation-e.fresnelRadius,clearance:e.clearance})),[e]),[l,s]=r.useMemo(()=>{if(0===a.length)return[0,100];let e=1/0,t=-1/0;a.forEach(r=>{e=Math.min(e,r.terrain,r.fresnelLower),t=Math.max(t,r.terrain,r.fresnelUpper,r.los)});let r=(t-e)*.1;return[Math.floor(e-r),Math.ceil(t+r)]},[a]),c={clear:{los:"#22c55e",fresnel:"rgba(34, 197, 94, 0.2)",terrain:"#64748b"},marginal:{los:"#eab308",fresnel:"rgba(234, 179, 8, 0.2)",terrain:"#64748b"},blocked:{los:"#ef4444",fresnel:"rgba(239, 68, 68, 0.2)",terrain:"#64748b"}}[n];return 0===a.length?null:(0,t.jsx)("div",{className:"w-full h-[300px]",children:(0,t.jsx)(eh.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(o,{data:a,margin:{top:10,right:10,left:0,bottom:0},children:[(0,t.jsx)(ef.XAxis,{dataKey:"distance",tickFormatter:e=>`${e.toFixed(1)}`,tick:{fontSize:12},label:{value:"km",position:"insideBottomRight",offset:-5,fontSize:12}}),(0,t.jsx)(em.YAxis,{domain:[l,s],tickFormatter:e=>`${e}`,tick:{fontSize:12},label:{value:"m",angle:-90,position:"insideLeft",fontSize:12}}),(0,t.jsx)(ey.Tooltip,{content:({active:e,payload:r})=>{if(!e||!r||!r.length)return null;let i=r[0].payload;return(0,t.jsxs)("div",{className:"bg-background border rounded-lg shadow-lg p-3 text-sm",children:[(0,t.jsxs)("div",{className:"font-medium mb-1",children:[i.distance.toFixed(2)," km"]}),(0,t.jsxs)("div",{className:"space-y-1 text-muted-foreground",children:[(0,t.jsxs)("div",{children:["Terreno: ",i.terrain.toFixed(0)," m"]}),(0,t.jsxs)("div",{children:["LOS: ",i.los.toFixed(0)," m"]}),(0,t.jsxs)("div",{className:i.clearance>=0?"text-green-600":"text-red-600",children:["Folga: ",i.clearance.toFixed(0)," m"]})]})]})}}),(0,t.jsx)(i.Area,{type:"monotone",dataKey:"fresnelUpper",stroke:"none",fill:c.fresnel,fillOpacity:1}),(0,t.jsx)(i.Area,{type:"monotone",dataKey:"fresnelLower",stroke:"none",fill:"var(--background)",fillOpacity:1}),(0,t.jsx)(i.Area,{type:"monotone",dataKey:"terrain",stroke:c.terrain,strokeWidth:2,fill:"url(#terrainGradient)",fillOpacity:.6}),(0,t.jsx)(ep,{type:"monotone",dataKey:"los",stroke:c.los,strokeWidth:2,strokeDasharray:"5 5",dot:!1}),(0,t.jsx)(ek,{x:a[0]?.distance,stroke:"#3b82f6",strokeWidth:2}),(0,t.jsx)(ek,{x:a[a.length-1]?.distance,stroke:"#3b82f6",strokeWidth:2}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"terrainGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#64748b",stopOpacity:.4}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#64748b",stopOpacity:.1})]})})]})})})}ek.displayName="ReferenceLine",e.s(["default",()=>ew],80481)},84404,e=>{e.n(e.i(80481))}]);