(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},90597,417,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>a],90597);let r=(0,t.default)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);e.s(["ThumbsUp",()=>r],417)},62031,e=>{"use strict";let t=(0,e.i(75254).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>t],62031)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},81418,e=>{"use strict";let t=(0,e.i(75254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],81418)},7486,e=>{"use strict";let t=(0,e.i(75254).default)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],7486)},64930,e=>{"use strict";let t="repeater_favorites";function a(){try{let e=localStorage.getItem(t);if(!e)return new Set;return new Set(JSON.parse(e))}catch{return new Set}}function r(e){return a().has(e)}function s(e){let r=a(),s=r.has(e);return s?r.delete(e):r.add(e),function(e){try{localStorage.setItem(t,JSON.stringify([...e]))}catch{}}(r),!s}e.s(["isFavorite",()=>r,"toggleFavorite",()=>s])},64859,e=>{"use strict";let t="https://api.radioamador.info".replace(/\/$/,"");function a(e){return`repeater-vote:${e}`}function r(e){let t=function(e){try{let t=localStorage.getItem(a(e));return t?JSON.parse(t):null}catch{return null}}(e),r=+(t?.vote==="up"),s=+(t?.vote==="down"),n=r+s,l="unknown";return 0===n?l="unknown":1===r?l="ok":1===s&&(l="prob-bad"),{up:r,down:s,total:n,net:r-s,ratio:n>0?r/n:0,category:l,windowDays:60,lastPositiveVote:t?.vote==="up"&&t?.ts?new Date(t.ts).toISOString():null}}function s(e){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){let t=Number(e);if(Number.isFinite(t))return t}return 0}function n(e){var t;let a=e??{},r=s(a.up??a.votesUp),n=s(a.down??a.votesDown),l=s(a.total),o=l>0?l:r+n,i=s(a.net),d=s(a.ratio),c=s(a.windowDays)||60;return{up:r,down:n,total:o,net:0!==i?i:r-n,ratio:d>0?d:o>0?r/o:0,windowDays:c,category:"ok"===(t=a.category)||"prob-bad"===t||"bad"===t||"unknown"===t?t:"unknown",lastPositiveVote:"string"==typeof a.lastPositiveVote?a.lastPositiveVote:null}}async function l(e){try{let a=await fetch(`${t}/api/repeaters/stats/${encodeURIComponent(e)}`,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!a.ok)throw Error(`HTTP ${a.status}`);let r=await a.json();return n(r)}catch{return r(e)}}async function o(e){try{let a=await fetch(`${t}/api/repeaters/vote`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({repeaterId:e.repeaterId,vote:e.vote,feedback:e.feedback,reporterCallsign:e.reporterCallsign})});if(!a.ok)throw Error(`HTTP ${a.status}`);let r=await a.json();return n(r)}catch{try{let t={vote:e.vote,feedback:e.feedback,ts:Date.now()};localStorage.setItem(a(e.repeaterId),JSON.stringify(t))}catch{}return r(e.repeaterId)}}async function i(e,a){let{limit:r=20,page:s=1}=a??{};try{let a=new URL(`${t}/api/repeaters/feedback/${encodeURIComponent(e)}`);a.searchParams.set("limit",String(r)),a.searchParams.set("page",String(s));let n=await fetch(a.toString(),{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!n.ok)throw Error(`HTTP ${n.status}`);return await n.json()}catch{return{docs:[],totalDocs:0,totalPages:0,page:1,hasNextPage:!1}}}e.s(["getFeedbackList",()=>i,"getVoteStats",()=>l,"postVote",()=>o])},45118,84496,e=>{"use strict";e.i(47167);let t="https://api.radioamador.info".replace(/\/$/,""),a=null,r=0;async function s(){let e=Date.now();if(a&&e-r<3e5)return a;try{let s=await fetch(`${t}/api/auto-status`,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!s.ok)throw Error(`HTTP ${s.status}`);let n=await s.json();return a=n,r=e,n}catch{return a??{}}}function n(e){let t=new Date(e),a=new Date().getTime()-t.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5),n=Math.floor(a/864e5);return r<1?"agora mesmo":r<60?`h\xe1 ${r} minuto${1!==r?"s":""}`:s<24?`h\xe1 ${s} hora${1!==s?"s":""}`:n<30?`h\xe1 ${n} dia${1!==n?"s":""}`:t.toLocaleDateString("pt-PT",{day:"numeric",month:"short"})}e.s(["getAllAutoStatus",()=>s],45118),e.s(["formatRelativeTime",()=>n],84496)},91684,e=>{"use strict";function t(e){return e>=430&&e<=450?"70cm":e>=144&&e<=148?"2m":e>=50&&e<=54?"6m":"Other"}function a(e){return"number"==typeof e&&Number.isFinite(e)?`${e.toFixed(4)} MHz`:"–"}function r(e){return"number"==typeof e&&Number.isFinite(e)?e.toFixed(4):""}function s(e,t){if("number"!=typeof e||"number"!=typeof t)return{sign:"",offsetDisplay:"–",offsetCopy:""};let a=Math.abs(t-e);return{sign:t>e?"+":t<e?"-":"",offsetDisplay:`${a.toFixed(4)} MHz`,offsetCopy:a.toFixed(4)}}e.s(["duplex",()=>s,"fmtMHzCopy",()=>r,"fmtMHzDisplay",()=>a,"getBandFromFrequency",()=>t])},93282,e=>{"use strict";var t=e.i(95468),a=e.i(63209),r=e.i(73884);let s=(0,e.i(75254).default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),n={active:{label:"Operacional",description:"Repetidor a funcionar normalmente",icon:t.CheckCircle2,bgClass:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/40 dark:to-emerald-900/20",borderClass:"border-emerald-200 dark:border-emerald-800/50",iconBgClass:"bg-emerald-100 dark:bg-emerald-900/50",iconClass:"text-emerald-600 dark:text-emerald-400",textClass:"text-emerald-700 dark:text-emerald-300"},maintenance:{label:"Em Manutenção",description:"Temporariamente indisponível para manutenção",icon:a.AlertCircle,bgClass:"bg-gradient-to-br from-amber-50 to-amber-100/50 dark:from-amber-950/40 dark:to-amber-900/20",borderClass:"border-amber-200 dark:border-amber-800/50",iconBgClass:"bg-amber-100 dark:bg-amber-900/50",iconClass:"text-amber-600 dark:text-amber-400",textClass:"text-amber-700 dark:text-amber-300"},offline:{label:"Offline",description:"Repetidor fora de serviço",icon:r.XCircle,bgClass:"bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-950/40 dark:to-red-900/20",borderClass:"border-red-200 dark:border-red-800/50",iconBgClass:"bg-red-100 dark:bg-red-900/50",iconClass:"text-red-600 dark:text-red-400",textClass:"text-red-700 dark:text-red-300"},unknown:{label:"Desconhecido",description:"Estado não verificado",icon:s,bgClass:"bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-900/40 dark:to-slate-800/20",borderClass:"border-slate-200 dark:border-slate-700/50",iconBgClass:"bg-slate-100 dark:bg-slate-800/50",iconClass:"text-slate-500 dark:text-slate-400",textClass:"text-slate-600 dark:text-slate-300"}},l={ok:{labelKey:"status.ok.label",descriptionKey:"status.ok.description",icon:t.CheckCircle2,bgClass:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/40 dark:to-emerald-900/30",borderClass:"border-emerald-200 dark:border-emerald-800/50",iconClass:"text-emerald-600 dark:text-emerald-400",textClass:"text-emerald-700 dark:text-emerald-300"},"prob-bad":{labelKey:"status.probBad.label",descriptionKey:"status.probBad.description",icon:a.AlertCircle,bgClass:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/40 dark:to-amber-900/30",borderClass:"border-amber-200 dark:border-amber-800/50",iconClass:"text-amber-600 dark:text-amber-400",textClass:"text-amber-700 dark:text-amber-300"},bad:{labelKey:"status.bad.label",descriptionKey:"status.bad.description",icon:r.XCircle,bgClass:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/40 dark:to-red-900/30",borderClass:"border-red-200 dark:border-red-800/50",iconClass:"text-red-600 dark:text-red-400",textClass:"text-red-700 dark:text-red-300"},unknown:{labelKey:"status.unknown.label",descriptionKey:"status.unknown.description",icon:s,bgClass:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900/40 dark:to-slate-800/30",borderClass:"border-slate-200 dark:border-slate-700/50",iconClass:"text-slate-500 dark:text-slate-400",textClass:"text-slate-600 dark:text-slate-300"}};e.s(["communityStatusConfig",0,l,"operationalStatusConfig",0,n],93282)},4373,1940,e=>{"use strict";var t=e.i(71645),a=e.i(64859);let r="user-callsign";function s(e){return`repeater-vote:${e}`}function n(e){let[a,n]=t.useState(null),[l,o]=t.useState("");return t.useEffect(()=>{try{let t=localStorage.getItem(s(e));t&&n(JSON.parse(t)),o(localStorage.getItem(r)||"")}catch{}},[e]),{vote:a,savedCallsign:l,saveVote:t.useCallback(t=>{n(t);try{localStorage.setItem(s(e),JSON.stringify(t)),t.reporterCallsign?.trim()&&(localStorage.setItem(r,t.reporterCallsign.trim()),o(t.reporterCallsign.trim()))}catch{}},[e])}}function l(e){let{vote:r,savedCallsign:s,saveVote:l}=n(e),[o,i]=t.useState(null),[d,c]=t.useState(!0),[u,m]=t.useState([]),[h,x]=t.useState(0),[b,p]=t.useState(!0),[g,f]=t.useState(!1),[k,v]=t.useState(!1);t.useEffect(()=>{let t=!0;return c(!0),p(!0),(0,a.getVoteStats)(e).then(e=>{t&&i(e)}).finally(()=>{t&&c(!1)}),(0,a.getFeedbackList)(e,{limit:50}).then(e=>{t&&(m(e.docs),x(e.totalDocs))}).finally(()=>{t&&p(!1)}),()=>{t=!1}},[e]);let y=t.useCallback(async(t,r,s)=>{let n=s.trim()||void 0,o={vote:t,ts:Date.now(),feedback:r.trim()||void 0,reporterCallsign:n};l(o),v(!0);try{let r=await (0,a.postVote)({repeaterId:e,vote:t,feedback:o.feedback,reporterCallsign:n});if(i(r),o.feedback){let e={id:`local-${Date.now()}`,vote:t,feedback:o.feedback,reporterCallsign:n??null,createdAt:new Date().toISOString()};m(t=>[e,...t]),x(e=>e+1)}}finally{v(!1)}},[e,l]),j=g?u:u.slice(0,5),N=u.length-5,w=u.length>5;return{vote:r,savedCallsign:s,stats:o,status:o?.category??"unknown",isStatsLoading:d,isFeedbackLoading:b,submitting:k,feedbackList:u,displayedFeedback:j,totalCount:h,hiddenCount:N,hasMoreFeedback:w,isExpanded:g,setIsExpanded:f,submitVote:y}}e.s(["useLocalVote",()=>n],1940),e.s(["useCommunityVoting",()=>l],4373)},17488,e=>{"use strict";function t(e){if(e.frequencies&&0!==e.frequencies.length)return e.frequencies.find(e=>e.isPrimary)||e.frequencies[0]}e.s(["getPrimaryFrequency",()=>t])},15478,e=>{"use strict";var t=e.i(43476),a=e.i(75157);let r=(0,e.i(75254).default)("navigation-2",[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]]);function s(e,t,a,r){let s=e*Math.PI/180,n=a*Math.PI/180,l=(r-t)*Math.PI/180,o=180*Math.atan2(Math.sin(l)*Math.cos(n),Math.cos(s)*Math.sin(n)-Math.sin(s)*Math.cos(n)*Math.cos(l))/Math.PI;return(o+360)%360}function n(e,t,a,r){let s=(a-e)*Math.PI/180,n=(r-t)*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371}function l(e){return e<1?`${Math.round(1e3*e)}m`:e<10?`${e.toFixed(1)}km`:`${Math.round(e)}km`}function o(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e/22.5)%16]}function i({userLat:e,userLon:i,targetLat:d,targetLon:c,className:u,size:m="md",showDistance:h=!0,deviceHeading:x=null,isCompassActive:b=!1}){let p,g=s(e,i,d,c),f=n(e,i,d,c),k=o(g),v=null!==x?function(e,t){let a=e-t;for(;a>180;)a-=360;for(;a<-180;)a+=360;return a}(g,x):null,y=null!==v?(p=Math.abs(v))<=15?"Em frente":p<=45?v>0?"Vire à direita":"Vire à esquerda":p<=135?v>0?"À direita":"À esquerda":"Para trás":null,j={sm:{container:"w-16 h-16",arrow:"h-6 w-6",text:"text-xs"},md:{container:"w-24 h-24",arrow:"h-8 w-8",text:"text-sm"},lg:{container:"w-32 h-32",arrow:"h-10 w-10",text:"text-base"}}[m],N=null!==x?-x:0,w=null!==x?v:g;return(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center gap-2",u),children:[(0,t.jsxs)("div",{className:(0,a.cn)("relative rounded-full border-2 bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 shadow-inner transition-all duration-300",j.container,b?"border-green-500 ring-2 ring-green-500/30":"border-muted"),children:[b&&(0,t.jsxs)("div",{className:"absolute -top-1 -right-1 w-3 h-3",children:[(0,t.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-green-500"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 transition-transform duration-150",style:{transform:`rotate(${N}deg)`},children:[(0,t.jsx)("span",{className:"absolute top-1 left-1/2 -translate-x-1/2 text-[10px] font-bold text-muted-foreground",children:"N"}),(0,t.jsx)("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 text-[10px] font-medium text-muted-foreground/60",children:"S"}),(0,t.jsx)("span",{className:"absolute left-1 top-1/2 -translate-y-1/2 text-[10px] font-medium text-muted-foreground/60",children:"W"}),(0,t.jsx)("span",{className:"absolute right-1 top-1/2 -translate-y-1/2 text-[10px] font-medium text-muted-foreground/60",children:"E"}),(0,t.jsx)("div",{className:"absolute inset-2 rounded-full border border-muted-foreground/20"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center transition-transform duration-150",style:{transform:`rotate(${w}deg)`},children:(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)(r,{className:(0,a.cn)("fill-ship-cove-500 dark:fill-ship-cove-500",b?"text-green-600 dark:text-green-400":"text-ship-cove-600 dark:text-ship-cove-400",j.arrow)})})}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-muted-foreground/30"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:(0,a.cn)("font-mono font-semibold",j.text),children:[Math.round(g),"° ",k]}),h&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:l(f)}),b&&y&&(0,t.jsx)("div",{className:(0,a.cn)("font-medium mt-1",j.text,15>=Math.abs(v)?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"),children:y})]})]})}function d({userLat:e,userLon:i,targetLat:d,targetLon:c,className:u}){let m=s(e,i,d,c),h=n(e,i,d,c),x=o(m);return(0,t.jsxs)("div",{className:(0,a.cn)("flex items-center gap-2 text-sm",u),children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-ship-cove-100 dark:bg-ship-cove-900/50",style:{transform:`rotate(${m}deg)`},children:(0,t.jsx)(r,{className:"h-4 w-4 text-ship-cove-600 dark:text-ship-cove-400 fill-ship-cove-500"})}),(0,t.jsxs)("span",{className:"font-mono font-medium",children:[Math.round(m),"° ",x]}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"·"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:l(h)})]})}e.s(["BearingIndicator",()=>d,"default",()=>i],15478)},23622,78583,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Ban",()=>a],23622);let r=(0,t.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>r],78583)},65582,86311,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);e.s(["ThumbsDown",()=>a],65582);let r=(0,t.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>r],86311)},3491,99689,70141,64659,30638,22130,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(75157),s=e.i(417),n=e.i(65582),l=e.i(86311),o=e.i(94245),i=e.i(76639),d=e.i(4373),c=e.i(93282),u=e.i(25652),m=e.i(35408);function h({stats:e,t:a}){if(!e||0===e.total)return null;let r=e.up/e.total*100,s=e.down/e.total*100;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5 text-emerald-600 dark:text-emerald-400",children:[(0,t.jsx)(u.TrendingUp,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"font-medium",children:e.up}),(0,t.jsx)("span",{className:"text-muted-foreground",children:a("working")})]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5 text-red-600 dark:text-red-400",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:a("issues")}),(0,t.jsx)("span",{className:"font-medium",children:e.down}),(0,t.jsx)(m.TrendingDown,{className:"h-3 w-3"})]})]}),(0,t.jsxs)("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-emerald-500 to-emerald-400 transition-all duration-500 ease-out",style:{width:`${r}%`}}),(0,t.jsx)("div",{className:"absolute right-0 top-0 h-full bg-gradient-to-l from-red-500 to-red-400 transition-all duration-500 ease-out",style:{width:`${s}%`}})]}),(0,t.jsx)("div",{className:"text-center text-[10px] text-muted-foreground",children:a("reportsInDays",{count:e.total,days:e.windowDays})})]})}e.s(["VoteDistributionBar",()=>h],99689);var x=e.i(19455);function b({open:e,onOpenChange:s,voteType:n,initialCallsign:l,onSubmit:o,submitting:d,t:c}){let[u,m]=a.useState(""),[h,b]=a.useState(l);return a.useEffect(()=>{e&&(b(l),m(""))},[e,l]),(0,t.jsx)(i.Dialog,{open:e,onOpenChange:s,children:(0,t.jsxs)(i.DialogContent,{children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{children:c("up"===n?"feedbackTitleWorking":"feedbackTitleIssues")}),(0,t.jsx)(i.DialogDescription,{children:c("feedbackDescription")})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:c("callsignLabel")}),(0,t.jsx)("input",{type:"text",className:"w-full rounded-lg border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-ring uppercase",placeholder:c("callsignPlaceholder"),maxLength:20,value:h,onChange:e=>b(e.target.value.toUpperCase())})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1.5 block",children:c("feedbackLabel")}),(0,t.jsx)("textarea",{className:"w-full rounded-lg border bg-background p-3 text-sm outline-none focus:ring-2 focus:ring-ring min-h-[120px] resize-none",placeholder:c("up"===n?"feedbackPlaceholderWorking":"feedbackPlaceholder"),maxLength:500,value:u,onChange:e=>m(e.target.value)}),(0,t.jsx)("div",{className:"flex items-center justify-between mt-1",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:c("characters",{count:u.length})})})]})]}),(0,t.jsxs)(i.DialogFooter,{children:[(0,t.jsx)(x.Button,{variant:"outline",onClick:()=>s(!1),children:c("cancel")}),(0,t.jsx)(x.Button,{onClick:()=>{o(u,h),m("")},disabled:d,className:(0,r.cn)("up"===n?"bg-emerald-600 hover:bg-emerald-700":"bg-red-600 hover:bg-red-700"),children:c("up"===n?"submitWorking":"submitIssues")})]})]})})}e.s(["FeedbackDialog",()=>b],70141);var p=e.i(31171);e.s(["ChevronDown",()=>p.default],64659);var p=p,g=e.i(55900),f=e.i(84496);function k({entry:e}){let a=(0,o.useTranslations)("communityStatus");return(0,t.jsx)("div",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:(0,r.cn)("rounded-full p-1.5 shrink-0","up"===e.vote?"bg-emerald-100 text-emerald-600 dark:bg-emerald-950/50 dark:text-emerald-400":"bg-red-100 text-red-600 dark:bg-red-950/50 dark:text-red-400"),children:"up"===e.vote?(0,t.jsx)(s.ThumbsUp,{className:"h-3.5 w-3.5"}):(0,t.jsx)(n.ThumbsDown,{className:"h-3.5 w-3.5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.reporterCallsign||a("feedbackSection.anonymous")}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"·"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:(0,f.formatRelativeTime)(e.createdAt)})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.feedback||(0,t.jsx)("span",{className:"italic",children:a("feedbackSection.noComment")})})]})]})})}function v({loading:e,feedbackList:a,hasMore:r,hiddenCount:s,isExpanded:n,onToggleExpand:l,t:o}){return e?(0,t.jsxs)("div",{className:"space-y-2 animate-pulse",children:[(0,t.jsx)("div",{className:"h-14 rounded-lg bg-muted"}),(0,t.jsx)("div",{className:"h-14 rounded-lg bg-muted"})]}):0===a.length?null:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"divide-y rounded-lg border overflow-hidden",children:a.map(e=>(0,t.jsx)(k,{entry:e},e.id))}),r&&(0,t.jsx)(x.Button,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-foreground",onClick:l,children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.ChevronUp,{className:"h-4 w-4 mr-1"}),o("feedbackSection.showLess")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.default,{className:"h-4 w-4 mr-1"}),o("feedbackSection.showMore",{count:s})]})})]})}function y({repeaterId:e,operationalStatus:u,lastVerified:m}){let x,p,g,f=(0,o.useTranslations)("communityStatus"),k=(0,d.useCommunityVoting)(e),[y,j]=a.useState(!1),[N,w]=a.useState(!1),[C,M]=a.useState("up"),S=e=>{M(e),j(!0)},D=k.feedbackList.length>0,T=k.stats&&k.stats.total>0?Math.round(k.stats.up/k.stats.total*100):null,$="maintenance"===u||"offline"===u,I=u?c.operationalStatusConfig[u]:null;return($&&I?(x=({maintenance:"bg-amber-500",offline:"bg-red-500"})[u]||"bg-slate-400",p=I.label,g=I.textClass):"active"===u&&I?(x="bg-emerald-500",p=I.label,g=I.textClass):(x=({ok:"bg-emerald-500","prob-bad":"bg-amber-500",bad:"bg-red-500",unknown:"bg-slate-400"})[k.status]||"bg-slate-400",p=f(`status.${"prob-bad"===k.status?"probBad":k.status}.label`),g="ok"===k.status?"text-emerald-700 dark:text-emerald-300":"prob-bad"===k.status?"text-amber-700 dark:text-amber-300":"bad"===k.status?"text-red-700 dark:text-red-300":"text-ship-cove-500 dark:text-ship-cove-400"),k.isStatsLoading)?(0,t.jsx)("div",{className:"rounded-xl border border-ship-cove-200 dark:border-ship-cove-800/50 bg-white dark:bg-ship-cove-950 px-4 py-3",children:(0,t.jsx)("div",{className:"h-5 w-40 rounded bg-ship-cove-100 dark:bg-ship-cove-800 animate-pulse"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"rounded-xl border border-ship-cove-200 dark:border-ship-cove-800/50 bg-white dark:bg-ship-cove-950",children:(0,t.jsxs)("div",{className:"flex items-center gap-2.5 px-4 py-3",children:[(0,t.jsx)("span",{className:(0,r.cn)("h-2.5 w-2.5 rounded-full shrink-0",x)}),(0,t.jsxs)("span",{className:(0,r.cn)("text-sm font-medium",g),children:[p,!$&&null!==T&&(0,t.jsxs)("span",{className:"text-ship-cove-400 dark:text-ship-cove-500 font-normal",children:[" ","(",T,"%)"]})]}),m&&(0,t.jsx)("span",{className:"text-xs text-ship-cove-400 dark:text-ship-cove-500",children:new Date(m).toLocaleDateString("pt-PT",{day:"numeric",month:"short"})}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-1.5",children:[(D||k.isFeedbackLoading)&&(0,t.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs text-ship-cove-500 hover:text-ship-cove-700 dark:hover:text-ship-cove-300 hover:bg-ship-cove-100 dark:hover:bg-ship-cove-800 transition-colors",children:[(0,t.jsx)(l.MessageSquare,{className:"h-3 w-3"}),k.totalCount]}),(0,t.jsx)("button",{onClick:()=>S("up"),disabled:k.submitting,className:(0,r.cn)("p-1.5 rounded-md transition-colors",k.vote?.vote==="up"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400":"text-ship-cove-400 hover:text-emerald-600 hover:bg-emerald-50 dark:hover:text-emerald-400 dark:hover:bg-emerald-900/30"),"aria-label":f("reportWorking"),children:(0,t.jsx)(s.ThumbsUp,{className:"h-3.5 w-3.5"})}),(0,t.jsx)("button",{onClick:()=>S("down"),disabled:k.submitting,className:(0,r.cn)("p-1.5 rounded-md transition-colors",k.vote?.vote==="down"?"bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400":"text-ship-cove-400 hover:text-red-600 hover:bg-red-50 dark:hover:text-red-400 dark:hover:bg-red-900/30"),"aria-label":f("reportIssues"),children:(0,t.jsx)(n.ThumbsDown,{className:"h-3.5 w-3.5"})})]})]})}),(0,t.jsx)(b,{open:y,onOpenChange:j,voteType:C,initialCallsign:k.savedCallsign,onSubmit:(e,t)=>{k.submitVote(C,e,t),j(!1)},submitting:k.submitting,t:f}),(0,t.jsx)(i.Dialog,{open:N,onOpenChange:w,children:(0,t.jsxs)(i.DialogContent,{children:[(0,t.jsx)(i.DialogHeader,{children:(0,t.jsx)(i.DialogTitle,{children:f("feedbackSection.title")})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(h,{stats:k.stats,t:f}),(0,t.jsx)(v,{loading:k.isFeedbackLoading,feedbackList:k.displayedFeedback,hasMore:k.hasMoreFeedback,hiddenCount:k.hiddenCount,isExpanded:k.isExpanded,onToggleExpand:()=>k.setIsExpanded(!k.isExpanded),t:f})]})]})})]})}e.s(["FeedbackEntryItem",()=>k],30638),e.s(["FeedbackList",()=>v],22130),e.s(["RepeaterHealthCard",()=>y],3491)}]);