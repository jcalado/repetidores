(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96015,e=>{"use strict";let t;var r,a=e.i(43476),n=e.i(71645),l=e.i(81140),s=e.i(30030),i=e.i(69340),o=e.i(20783),d=e.i(53660),c=e.i(74606),u=e.i(96626),m=e.i(48425),p=e.i(26330),h="HoverCard",[x,g]=(0,s.createContextScope)(h,[d.createPopperScope]),f=(0,d.createPopperScope)(),[v,b]=x(h),j=e=>{let{__scopeHoverCard:t,children:r,open:l,defaultOpen:s,onOpenChange:o,openDelay:c=700,closeDelay:u=300}=e,m=f(t),p=n.useRef(0),x=n.useRef(0),g=n.useRef(!1),b=n.useRef(!1),[j,w]=(0,i.useControllableState)({prop:l,defaultProp:s??!1,onChange:o,caller:h}),y=n.useCallback(()=>{clearTimeout(x.current),p.current=window.setTimeout(()=>w(!0),c)},[c,w]),N=n.useCallback(()=>{clearTimeout(p.current),g.current||b.current||(x.current=window.setTimeout(()=>w(!1),u))},[u,w]),C=n.useCallback(()=>w(!1),[w]);return n.useEffect(()=>()=>{clearTimeout(p.current),clearTimeout(x.current)},[]),(0,a.jsx)(v,{scope:t,open:j,onOpenChange:w,onOpen:y,onClose:N,onDismiss:C,hasSelectionRef:g,isPointerDownOnContentRef:b,children:(0,a.jsx)(d.Root,{...m,children:r})})};j.displayName=h;var w="HoverCardTrigger",y=n.forwardRef((e,t)=>{let{__scopeHoverCard:r,...n}=e,s=b(w,r),i=f(r);return(0,a.jsx)(d.Anchor,{asChild:!0,...i,children:(0,a.jsx)(m.Primitive.a,{"data-state":s.open?"open":"closed",...n,ref:t,onPointerEnter:(0,l.composeEventHandlers)(e.onPointerEnter,D(s.onOpen)),onPointerLeave:(0,l.composeEventHandlers)(e.onPointerLeave,D(s.onClose)),onFocus:(0,l.composeEventHandlers)(e.onFocus,s.onOpen),onBlur:(0,l.composeEventHandlers)(e.onBlur,s.onClose),onTouchStart:(0,l.composeEventHandlers)(e.onTouchStart,e=>e.preventDefault())})})});y.displayName=w;var N="HoverCardPortal",[C,k]=x(N,{forceMount:void 0}),S=e=>{let{__scopeHoverCard:t,forceMount:r,children:n,container:l}=e,s=b(N,t);return(0,a.jsx)(C,{scope:t,forceMount:r,children:(0,a.jsx)(u.Presence,{present:r||s.open,children:(0,a.jsx)(c.Portal,{asChild:!0,container:l,children:n})})})};S.displayName=N;var T="HoverCardContent",R=n.forwardRef((e,t)=>{let r=k(T,e.__scopeHoverCard),{forceMount:n=r.forceMount,...s}=e,i=b(T,e.__scopeHoverCard);return(0,a.jsx)(u.Presence,{present:n||i.open,children:(0,a.jsx)(F,{"data-state":i.open?"open":"closed",...s,onPointerEnter:(0,l.composeEventHandlers)(e.onPointerEnter,D(i.onOpen)),onPointerLeave:(0,l.composeEventHandlers)(e.onPointerLeave,D(i.onClose)),ref:t})})});R.displayName=T;var F=n.forwardRef((e,t)=>{let{__scopeHoverCard:s,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:m,...h}=e,x=b(T,s),g=f(s),v=n.useRef(null),j=(0,o.useComposedRefs)(t,v),[w,y]=n.useState(!1);return n.useEffect(()=>{if(w){let e=document.body;return r=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=r,e.style.webkitUserSelect=r}}},[w]),n.useEffect(()=>{if(v.current){let e=()=>{y(!1),x.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(x.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),x.hasSelectionRef.current=!1,x.isPointerDownOnContentRef.current=!1}}},[x.isPointerDownOnContentRef,x.hasSelectionRef]),n.useEffect(()=>{v.current&&(function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t})(v.current).forEach(e=>e.setAttribute("tabindex","-1"))}),(0,a.jsx)(p.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:m,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:(0,l.composeEventHandlers)(u,e=>{e.preventDefault()}),onDismiss:x.onDismiss,children:(0,a.jsx)(d.Content,{...g,...h,onPointerDown:(0,l.composeEventHandlers)(h.onPointerDown,e=>{e.currentTarget.contains(e.target)&&y(!0),x.hasSelectionRef.current=!1,x.isPointerDownOnContentRef.current=!0}),ref:j,style:{...h.style,userSelect:w?"text":void 0,WebkitUserSelect:w?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})});function D(e){return t=>"touch"===t.pointerType?void 0:e()}n.forwardRef((e,t)=>{let{__scopeHoverCard:r,...n}=e,l=f(r);return(0,a.jsx)(d.Arrow,{...l,...n,ref:t})}).displayName="HoverCardArrow";var A=e.i(75157);let L=n.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},l)=>(0,a.jsx)(S,{children:(0,a.jsx)(R,{ref:l,align:t,sideOffset:r,className:(0,A.cn)("z-50 w-64 rounded-md border bg-popover p-3 text-popover-foreground shadow-md",e),...n})}));L.displayName=R.displayName;var M=e.i(46798),E=e.i(54073),I=e.i(64930),P=e.i(64859),q=e.i(45118),$=e.i(84496),O=e.i(90597),B=e.i(94245),H=e.i(22016);function V(e){return e.frequencies&&0!==e.frequencies.length?e.frequencies.find(e=>e.isPrimary)||e.frequencies[0]:null}let z={"associação de radioamadores marienses":"ARM","associação de radioamadores da beira alta":"ARBA","associação de radioamadores da beira baixa":"ARBB","associação de radioamadores da beira litoral":"ARBL","associação de radioamadores da costa de prata":"ARCP","associação de radioamadores da linha de cascais":"ARLC","associação de radioamadores da região de lisboa":"ARRLX","liga amadores rádio sintra":"LARS","liga de amadores de rádio transmissões":"LART","rede dos emissores portugueses":"REP","tertúlia radioamadorística guglielmo marconi":"TRGM","união de radioamadores dos açores":"URAA","associação de radioamadores entre tâmega e douro":"ARTD","associação de radioamadores dos açores":"ARAA","associação dos radioamadores da praia da vitória":"ARPV","associação amigos da rádio do norte":"AARN","arsul - associação de radioamadores do sul":"ARSUL","associação de radioamadores da vila de moscavide":"ARVM","associação de radioamadores do distrito de leiria":"ARDL","associação de radioamadores do litoral alentejano":"ARLA","associação de radioamadores do oeste":"ARADO"};function U(e){return z[e.trim().toLowerCase()]??e}let W={FM:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",DMR:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",DSTAR:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",C4FM:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",TETRA:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",EchoLink:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",AllStar:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",Digipeater:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"};function X({modes:e}){return e&&0!==e.length?(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map(e=>(0,a.jsx)("span",{className:(0,A.cn)("inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium",W[e]??"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"),children:"DSTAR"===e?"D-STAR":e},e))}):null}let _=new Map,K=new Map,G={};function Y({repeaterId:e}){let t=function(e){let[t,r]=n.useState(()=>_.get(e));return n.useEffect(()=>{let t=!0;if(!e)return;let a=_.get(e);if(a)return void r(a);let n=K.get(e);return n||(n=(0,P.getVoteStats)(e),K.set(e,n)),n.then(a=>{_.set(e,a),t&&r(a)}).finally(()=>{K.delete(e)}),()=>{t=!1}},[e]),t}(e),r=(0,B.useTranslations)("table"),l=t?.category??"unknown",s=G[e],i=function(e){switch(e){case"ok":return{dotClass:"bg-emerald-500"};case"prob-bad":return{dotClass:"bg-amber-500"};case"bad":return{dotClass:"bg-red-500"};default:return{dotClass:"bg-gray-400 dark:bg-gray-500"}}}(s?s.isOnline?"ok":"bad":l),o=r(s?s.isOnline?"status.verified-online":"status.verified-offline":`status.${l}`);return(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("span",{className:"relative inline-flex items-center",children:(0,a.jsx)("span",{"aria-label":o,title:o,className:(0,A.cn)("inline-block h-2.5 w-2.5 rounded-full",i.dotClass,s?.isOnline&&"ring-2 ring-emerald-300 dark:ring-emerald-700")})})}),(0,a.jsxs)(M.TooltipContent,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:(0,A.cn)("inline-block h-2.5 w-2.5 rounded-full",i.dotClass)}),(0,a.jsx)("span",{children:o})]}),s&&(0,a.jsxs)("div",{className:"mt-1 text-xs opacity-80",children:[s.sources.map(e=>e.source).join(", "),s.lastSeen&&` \xb7 ${(0,$.formatRelativeTime)(s.lastSeen)}`]}),!s&&t&&(0,a.jsxs)("div",{className:"mt-1 text-xs opacity-80",children:["Up ",t.up," · Down ",t.down]})]})]})}function Q({status:e}){let t=(0,B.useTranslations)("table");if(!e||"unknown"===e||!({active:{dotClass:"bg-emerald-500",icon:"●"},maintenance:{dotClass:"bg-amber-500",icon:"◐"},offline:{dotClass:"bg-red-500",icon:"○"}})[e])return null;let r=t(`opStatus.${e}`);return(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("span",{"aria-label":r,className:(0,A.cn)("inline-flex items-center justify-center h-5 w-5 rounded text-[10px] font-bold","active"===e&&"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400","maintenance"===e&&"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400","offline"===e&&"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"active"===e?"✓":"maintenance"===e?"!":"✕"})}),(0,a.jsx)(M.TooltipContent,{children:r})]})}function J({callsign:e,onToggle:t}){let[r,l]=n.useState(()=>(0,I.isFavorite)(e)),s=(0,B.useTranslations)("favorites");return(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("button",{type:"button",onClick:r=>{r.stopPropagation(),l((0,I.toggleFavorite)(e)),t?.()},className:"rounded p-0.5 hover:bg-accent","aria-label":s(r?"remove":"add"),children:(0,a.jsx)(O.Heart,{className:(0,A.cn)("h-4 w-4 transition-colors",r?"fill-red-500 text-red-500":"text-muted-foreground hover:text-red-400")})})}),(0,a.jsx)(M.TooltipContent,{children:s(r?"remove":"add")})]})}let Z=(0,e.i(70703).default)(()=>e.A(51716),{loadableGenerated:{modules:[48271]},ssr:!1}),ee=({repeaters:e,onRepeaterClick:t,userLocation:r,radiusKm:n})=>(0,a.jsx)(Z,{repeaters:e,onRepeaterClick:t,userLocation:r,radiusKm:n});var et=e.i(91684);e.i(93282),e.i(1940),e.i(4373);var er=e.i(56989),ea=e.i(46897),en=e.i(98361),el=e.i(63639),es=e.i(19455),ei=e.i(43531),eo=e.i(62031);function ed({callsign:e,variant:t="default"}){let[r,l]=n.useState(!1),s=(0,B.useTranslations)("repeater"),i=async()=>{let t=`${window.location.origin}/repeater/${encodeURIComponent(e)}/`;if(navigator.share)try{await navigator.share({title:`Repeater ${e}`,url:t});return}catch{}try{await navigator.clipboard.writeText(t),l(!0),setTimeout(()=>l(!1),2e3)}catch{}};return"header"===t?(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("button",{onClick:i,className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors","aria-label":s("share"),children:r?(0,a.jsx)(ei.Check,{className:"h-4 w-4 text-emerald-300"}):(0,a.jsx)(eo.Share2,{className:"h-4 w-4"})})}),(0,a.jsx)(M.TooltipContent,{children:s("share")})]}):(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(es.Button,{variant:"outline",size:"icon",onClick:i,"aria-label":s("share"),children:r?(0,a.jsx)(ei.Check,{className:"h-4 w-4 text-emerald-600"}):(0,a.jsx)(eo.Share2,{className:"h-4 w-4"})})}),(0,a.jsx)(M.TooltipContent,{children:s("share")})]})}var ec=e.i(17488);function eu({repeater:e}){let t=(0,B.useTranslations)("repeater"),r=(0,ec.getPrimaryFrequency)(e),n=r?(0,et.getBandFromFrequency)(r.outputFrequency):"unknown",l=`https://www.google.com/maps?q=${encodeURIComponent(e.latitude+","+e.longitude)}`;return(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-ship-cove-600 via-ship-cove-700 to-ship-cove-800 dark:from-ship-cove-800 dark:via-ship-cove-900 dark:to-ship-cove-950 p-4 shadow-lg shadow-ship-cove-500/20",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,a.jsxs)("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:"grid-sidebar",width:"24",height:"24",patternUnits:"userSpaceOnUse",children:(0,a.jsx)("path",{d:"M 24 0 L 0 0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),(0,a.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid-sidebar)",className:"text-white"})]})}),(0,a.jsx)("div",{className:"absolute -right-4 -top-4 w-16 h-16 rounded-full bg-ship-cove-500/20 blur-xl"}),(0,a.jsxs)("div",{className:"relative flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/10 backdrop-blur-sm",children:(0,a.jsx)(el.Radio,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight font-mono truncate",children:e.callsign})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-md bg-white/10 text-white text-xs font-medium backdrop-blur-sm",children:n}),e.modes?.map(e=>(0,a.jsx)("span",{className:(0,A.cn)("px-2 py-0.5 rounded-md text-xs font-medium","DMR"===e&&"bg-purple-500/30 text-purple-100","DSTAR"===e&&"bg-blue-500/30 text-blue-100","C4FM"===e&&"bg-orange-500/30 text-orange-100","TETRA"===e&&"bg-cyan-500/30 text-cyan-100","FM"===e&&"bg-ship-cove-500/30 text-ship-cove-100","Digipeater"===e&&"bg-green-500/30 text-green-100"),children:"DSTAR"===e?"D-STAR":e},e)),e.qthLocator&&(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-md bg-white/10 text-white text-xs font-mono backdrop-blur-sm",children:e.qthLocator})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(H.default,{href:`/repeater/${encodeURIComponent(e.callsign)}/`,className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors",children:(0,a.jsx)(en.Maximize2,{className:"h-4 w-4"})})}),(0,a.jsx)(M.TooltipContent,{children:"Ver página completa"})]}),(0,a.jsx)(ed,{callsign:e.callsign,variant:"header"}),(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors",children:(0,a.jsx)(ea.MapPin,{className:"h-4 w-4"})})}),(0,a.jsx)(M.TooltipContent,{children:t("maps")})]})]})]}),(0,a.jsx)("div",{className:"absolute top-3 right-3 h-2 w-2 rounded-full bg-emerald-400 shadow-sm shadow-emerald-400/50 animate-pulse"})]})}var em=e.i(53234);function ep({icon:e,title:t,titleExtra:r,children:n}){return(0,a.jsxs)("div",{className:"rounded-xl border border-ship-cove-200 dark:border-ship-cove-800/50 bg-white dark:bg-ship-cove-950",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 px-3 sm:px-4 pt-3 pb-2",children:[(0,a.jsx)("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg bg-ship-cove-100 dark:bg-ship-cove-800",children:(0,a.jsx)(e,{className:"h-3.5 w-3.5 text-ship-cove-600 dark:text-ship-cove-400"})}),(0,a.jsx)("span",{className:"text-sm font-semibold text-ship-cove-900 dark:text-ship-cove-100",children:t}),r&&(0,a.jsx)("span",{className:"ml-auto",children:r})]}),(0,a.jsx)("div",{className:"px-3 sm:px-4 pb-3",children:n})]})}var eh=e.i(74886);function ex({label:e,value:t,className:r,copyValue:l,right:s}){let[i,o]=n.useState(!1),d="string"==typeof l&&l.length>0;async function c(e){if(e.stopPropagation(),d&&"undefined"!=typeof navigator&&navigator.clipboard)try{await navigator.clipboard.writeText(l),o(!0),window.setTimeout(()=>o(!1),1200)}catch{}}return(0,a.jsxs)("div",{onClick:d?c:void 0,className:(0,A.cn)("group rounded-lg p-2.5 sm:p-3 transition-all","bg-ship-cove-50 dark:bg-ship-cove-900/50",d&&"cursor-pointer hover:bg-ship-cove-100 dark:hover:bg-ship-cove-800/50 active:scale-[0.98]",r),children:[(0,a.jsx)("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-ship-cove-500 mb-1",children:e}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-1.5 sm:gap-2",children:[(0,a.jsx)("span",{className:"font-mono text-sm sm:text-base font-medium text-ship-cove-900 dark:text-ship-cove-100 tabular-nums",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-0.5 sm:gap-1 flex-shrink-0",children:[s,d&&(i?(0,a.jsx)(ei.Check,{className:"h-4 w-4 text-emerald-500"}):(0,a.jsx)(eh.Copy,{className:"h-4 w-4 text-ship-cove-400 opacity-0 group-hover:opacity-100 transition-opacity"}))]})]})]})}function eg({repeater:e}){let t=(0,B.useTranslations)("repeater"),r=(0,ec.getPrimaryFrequency)(e),{sign:n,offsetDisplay:l,offsetCopy:s}=r?(0,et.duplex)(r.outputFrequency,r.inputFrequency):{sign:"",offsetDisplay:"—",offsetCopy:""};return(0,a.jsx)(ep,{icon:em.Antenna,title:"Frequências",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1.5 sm:gap-2",children:[(0,a.jsx)(ex,{label:t("output"),value:r?(0,et.fmtMHzDisplay)(r.outputFrequency):"—",copyValue:r?(0,et.fmtMHzCopy)(r.outputFrequency):void 0}),(0,a.jsx)(ex,{label:t("input"),value:r?(0,et.fmtMHzDisplay)(r.inputFrequency):"—",copyValue:r?(0,et.fmtMHzCopy)(r.inputFrequency):void 0}),(0,a.jsx)(ex,{label:t("offset"),value:`${n}${n?" ":""}${l}`,copyValue:`${n}${s}`}),(0,a.jsx)(ex,{label:t("tone"),value:r?.tone?`${Number(r.tone.toFixed(1))} Hz`:"None",copyValue:r?.tone?`${Number(r.tone.toFixed(1))} Hz`:void 0})]})})}var ef=e.i(15478),ev=e.i(34858),eb=e.i(63059),ej=e.i(7486),ew=e.i(48256),ey=e.i(78917);function eN({repeater:e,userLocation:t,websiteUrl:r}){let n=(0,B.useTranslations)("repeater"),l="number"==typeof e.latitude&&"number"==typeof e.longitude?`https://www.openstreetmap.org/?mlat=${e.latitude}&mlon=${e.longitude}&zoom=14`:void 0,s=t&&e.latitude&&e.longitude;return(0,a.jsx)(ep,{icon:ev.Navigation,title:"Localização",children:(0,a.jsxs)("div",{className:"space-y-2",children:[e.association?(0,a.jsxs)(H.default,{href:`/association/${e.association.slug}/`,className:"group flex items-center gap-3 rounded-lg p-2.5 sm:p-3 bg-ship-cove-50 dark:bg-ship-cove-900/50 hover:bg-ship-cove-100 dark:hover:bg-ship-cove-800/50 transition-colors",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-ship-cove-100 dark:bg-ship-cove-800",children:(0,a.jsx)(ej.Building2,{className:"h-4 w-4 text-ship-cove-600 dark:text-ship-cove-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-ship-cove-500 mb-0.5",children:n("owner")}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-ship-cove-900 dark:text-ship-cove-100",children:e.association.abbreviation}),(0,a.jsx)("span",{className:"text-ship-cove-400",children:"-"}),(0,a.jsx)("span",{className:"truncate text-ship-cove-600 dark:text-ship-cove-400",children:e.association.name})]})]}),(0,a.jsx)(eb.ChevronRight,{className:"h-4 w-4 text-ship-cove-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}):(0,a.jsx)(ex,{label:n("owner"),value:e.owner||"–"}),(0,a.jsx)(ex,{label:n("coordinates"),value:`${e.latitude?.toFixed(5)}, ${e.longitude?.toFixed(5)}`,right:l?(0,a.jsxs)(M.Tooltip,{children:[(0,a.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"flex h-7 w-7 items-center justify-center rounded-md bg-ship-cove-100 dark:bg-ship-cove-800 text-ship-cove-600 dark:text-ship-cove-400 hover:bg-ship-cove-200 dark:hover:bg-ship-cove-700 transition-colors",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(ea.MapPin,{className:"h-3.5 w-3.5"})})}),(0,a.jsx)(M.TooltipContent,{children:"Abrir no OpenStreetMap"})]}):null}),s&&(0,a.jsx)("div",{className:"rounded-lg bg-gradient-to-r from-ship-cove-100 to-ship-cove-50 dark:from-ship-cove-800/50 dark:to-ship-cove-900/30 p-2.5 sm:p-3 border border-ship-cove-200/50 dark:border-ship-cove-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-ship-cove-600 dark:text-ship-cove-400",children:"Direção:"}),(0,a.jsx)(ef.BearingIndicator,{userLat:t.latitude,userLon:t.longitude,targetLat:e.latitude,targetLon:e.longitude})]})}),r&&(0,a.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-3 rounded-lg p-2.5 sm:p-3 bg-ship-cove-50 dark:bg-ship-cove-900/50 hover:bg-ship-cove-100 dark:hover:bg-ship-cove-800/50 transition-colors",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-ship-cove-100 dark:bg-ship-cove-800",children:(0,a.jsx)(ew.Globe,{className:"h-4 w-4 text-ship-cove-600 dark:text-ship-cove-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-ship-cove-500 mb-0.5",children:"Website"}),(0,a.jsx)("div",{className:"text-sm font-medium text-ship-cove-900 dark:text-ship-cove-100 truncate",children:r.replace(/^https?:\/\//,"").replace(/\/$/,"")})]}),(0,a.jsx)(ey.ExternalLink,{className:"h-4 w-4 text-ship-cove-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})})}var eC=e.i(75254);let ek=(0,eC.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);function eS({repeater:e}){return e.power||e.antennaHeight||e.coverage||e.operatingHours?(0,a.jsx)(ep,{icon:ek,title:"Especificações Técnicas",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[e.power&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted/50 p-2.5",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Potência"}),(0,a.jsxs)("div",{className:"text-sm font-medium mt-0.5",children:[e.power,"W"]})]}),e.antennaHeight&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted/50 p-2.5",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Antena"}),(0,a.jsxs)("div",{className:"text-sm font-medium mt-0.5",children:[e.antennaHeight,"m AGL"]})]}),e.coverage&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted/50 p-2.5",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Cobertura"}),(0,a.jsx)("div",{className:"text-sm font-medium mt-0.5 capitalize",children:e.coverage})]}),e.operatingHours&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted/50 p-2.5",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:"Horário"}),(0,a.jsx)("div",{className:"text-sm font-medium mt-0.5",children:e.operatingHours})]})]})}):null}var eT=e.i(87486),eR=e.i(23622),eF=e.i(3116),eD=e.i(81418),eA=e.i(53475);function eL(e){let t=[e.name||`TG ${e.tgId}`];if("timed"===e.type){let r=[];e.days&&r.push(e.days.replace(/Mon/g,"Seg").replace(/Tue/g,"Ter").replace(/Wed/g,"Qua").replace(/Thu/g,"Qui").replace(/Fri/g,"Sex").replace(/Sat/g,"Sáb").replace(/Sun/g,"Dom")),e.startTime&&r.push(`${e.startTime}${e.endTime?`-${e.endTime}`:""}`),r.length&&t.push(`(${r.join(" ")})`)}return t.join(" ")}function eM({repeater:e,autoStatus:t}){let r,n,l,s,i,o=(0,B.useTranslations)("repeater"),d=e.modes?.includes("DMR")&&(e.dmr?.colorCode||e.dmr?.ts1Talkgroups?.length||e.dmr?.ts2Talkgroups?.length),c=e.modes?.includes("DSTAR")&&(e.dstar?.reflector||e.dstar?.module),u=e.modes?.includes("C4FM")&&(e.c4fm?.room||e.c4fm?.node||e.c4fm?.network),m=e.modes?.includes("TETRA")&&e.tetra?.talkgroups?.length,p=e.echolink?.enabled||e.allstarNode;return d||c||u||m||p?(0,a.jsx)(ep,{icon:el.Radio,title:"Modos Digitais & Linking",titleExtra:t&&(0,a.jsxs)("span",{className:(0,A.cn)("inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium",t.isOnline?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300"),children:[(0,a.jsx)("span",{className:(0,A.cn)("h-1.5 w-1.5 rounded-full",t.isOnline?"bg-emerald-500 animate-pulse":"bg-red-500")}),o(t.isOnline?"autoStatus.online":"autoStatus.offline"),(0,a.jsx)(eD.ShieldCheck,{className:"h-3 w-3 opacity-60"})]}),children:(0,a.jsxs)("div",{className:"space-y-2",children:[d&&(0,a.jsxs)("div",{className:"rounded-lg bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(eT.Badge,{className:"bg-purple-600 hover:bg-purple-700 text-white",children:"DMR"}),e.dmr?.colorCode&&(0,a.jsxs)(eT.Badge,{variant:"outline",className:"text-xs border-purple-300 dark:border-purple-700",children:["CC ",e.dmr.colorCode]}),e.dmr?.network&&(0,a.jsx)(eT.Badge,{variant:"outline",className:"text-xs border-purple-300 dark:border-purple-700",children:e.dmr.network}),(r=t?.sources.find(e=>"brandmeister"===e.source))?(0,a.jsxs)("span",{className:"ml-auto inline-flex items-center gap-1.5 text-xs text-purple-600 dark:text-purple-400",children:[(0,a.jsx)("span",{className:(0,A.cn)("h-2 w-2 rounded-full",r.isOnline?"bg-emerald-500":"bg-red-500")}),r.lastSeen&&(0,$.formatRelativeTime)(r.lastSeen)]}):null]}),(n=e.dmr?.blockedTalkgroups?.filter(e=>"1"===e.slot||"both"===e.slot),e.dmr?.ts1Talkgroups&&e.dmr.ts1Talkgroups.length>0||n&&n.length>0?(0,a.jsxs)("div",{className:"mt-2.5",children:[(0,a.jsx)("div",{className:"text-[10px] font-semibold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1",children:"TS1"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.dmr?.ts1Talkgroups?.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-800/50 text-purple-700 dark:text-purple-300 text-xs",title:eL(e),children:["timed"===e.type&&(0,a.jsx)(eF.Clock,{className:"h-3 w-3 shrink-0 text-purple-400"}),(0,a.jsx)("span",{className:"font-mono font-medium",children:e.tgId}),e.name&&(0,a.jsx)("span",{className:"text-purple-500 dark:text-purple-400 max-w-[60px] truncate",children:e.name})]},t)),n?.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 text-xs",title:`TG ${e.tgId} (bloqueado)`,children:[(0,a.jsx)(eR.Ban,{className:"h-3 w-3 shrink-0"}),(0,a.jsx)("span",{className:"font-mono font-medium",children:e.tgId})]},`blocked-${t}`))]})]}):null),(l=e.dmr?.blockedTalkgroups?.filter(e=>"2"===e.slot||"both"===e.slot),e.dmr?.ts2Talkgroups&&e.dmr.ts2Talkgroups.length>0||l&&l.length>0?(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"text-[10px] font-semibold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1",children:"TS2"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.dmr?.ts2Talkgroups?.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-purple-100 dark:bg-purple-800/50 text-purple-700 dark:text-purple-300 text-xs",title:eL(e),children:["timed"===e.type&&(0,a.jsx)(eF.Clock,{className:"h-3 w-3 shrink-0 text-purple-400"}),(0,a.jsx)("span",{className:"font-mono font-medium",children:e.tgId}),e.name&&(0,a.jsx)("span",{className:"text-purple-500 dark:text-purple-400 max-w-[60px] truncate",children:e.name})]},t)),l?.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 text-xs",title:`TG ${e.tgId} (bloqueado)`,children:[(0,a.jsx)(eR.Ban,{className:"h-3 w-3 shrink-0"}),(0,a.jsx)("span",{className:"font-mono font-medium",children:e.tgId})]},`blocked-${t}`))]})]}):null)]}),c&&(0,a.jsxs)("div",{className:"rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eT.Badge,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"D-STAR"}),e.dstar?.module&&(0,a.jsxs)(eT.Badge,{variant:"outline",className:"text-xs border-blue-300 dark:border-blue-700",children:["Module ",e.dstar.module]})]}),e.dstar?.reflector&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Reflector:"})," ",e.dstar.reflector]}),e.dstar?.gateway&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{className:"font-medium",children:"Gateway:"})," ",e.dstar.gateway]})]}),u&&(0,a.jsxs)("div",{className:"rounded-lg bg-orange-50 dark:bg-orange-950/30 border border-orange-200 dark:border-orange-800/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eT.Badge,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:"C4FM"}),e.c4fm?.network&&(0,a.jsx)(eT.Badge,{variant:"outline",className:"text-xs border-orange-300 dark:border-orange-700 uppercase",children:e.c4fm.network})]}),e.c4fm?.room&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Sala:"})," ",e.c4fm.room]}),e.c4fm?.node&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{className:"font-medium",children:"Node:"})," ",e.c4fm.node]})]}),m&&(0,a.jsxs)("div",{className:"rounded-lg bg-cyan-50 dark:bg-cyan-950/30 border border-cyan-200 dark:border-cyan-800/50 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eT.Badge,{className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:"TETRA"}),e.tetra?.network&&(0,a.jsx)(eT.Badge,{variant:"outline",className:"text-xs border-cyan-300 dark:border-cyan-700",children:e.tetra.network})]}),e.tetra?.talkgroups&&e.tetra.talkgroups.length>0&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Talkgroups:"})," ",e.tetra.talkgroups.join(", ")]})]}),p&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.echolink?.enabled&&e.echolink.nodeNumber&&(s=t?.sources.find(e=>"echolink"===e.source),(0,a.jsxs)("a",{href:`echolink://${e.echolink.nodeNumber}`,className:"inline-flex items-center gap-1.5 rounded-lg bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-800/50 px-3 py-2 text-sm font-medium text-emerald-700 dark:text-emerald-300 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors",children:[s?(0,a.jsx)("span",{className:(0,A.cn)("h-2 w-2 rounded-full shrink-0",s.isOnline?"bg-emerald-500":"bg-red-500")}):(0,a.jsx)(eA.Wifi,{className:"h-3.5 w-3.5"}),"EchoLink #",e.echolink.nodeNumber,e.echolink.conference&&` (${e.echolink.conference})`,s?.lastSeen&&(0,a.jsxs)("span",{className:"text-xs opacity-70",children:["· ",(0,$.formatRelativeTime)(s.lastSeen)]})]})),e.allstarNode&&(i=t?.sources.find(e=>"allstar"===e.source),(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 rounded-lg bg-orange-50 dark:bg-orange-950/30 border border-orange-200 dark:border-orange-800/50 px-3 py-2 text-sm font-medium text-orange-700 dark:text-orange-300",children:[i?(0,a.jsx)("span",{className:(0,A.cn)("h-2 w-2 rounded-full shrink-0",i.isOnline?"bg-emerald-500":"bg-red-500")}):(0,a.jsx)(el.Radio,{className:"h-3.5 w-3.5"}),"AllStar #",e.allstarNode,i?.lastSeen&&(0,a.jsxs)("span",{className:"text-xs opacity-70",children:["· ",(0,$.formatRelativeTime)(i.lastSeen)]})]}))]})]})}):null}var eE=e.i(78583);function eI({notes:e}){return e?(0,a.jsx)(ep,{icon:eE.FileText,title:"Notas",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed",children:e})}):null}var eP=e.i(3491);function eq({r:e}){let{userLocation:t}=(0,er.useUserLocation)(),[r,l]=n.useState(null);return n.useEffect(()=>{(0,q.getAllAutoStatus)().then(t=>{let r=t[e.callsign];r&&l(r)})},[e.callsign]),(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsx)(eu,{repeater:e}),(0,a.jsx)(eP.RepeaterHealthCard,{repeaterId:e.callsign,operationalStatus:e.status,lastVerified:e.lastVerified}),(0,a.jsx)(eg,{repeater:e}),(0,a.jsx)(eN,{repeater:e,userLocation:t,websiteUrl:e.website}),(0,a.jsx)(eS,{repeater:e}),(0,a.jsx)(eM,{repeater:e,autoStatus:r}),(0,a.jsx)(eI,{notes:e.notes})]})}e.i(417),e.i(65582),e.i(86311);var e$=e.i(76639);e.i(99689),e.i(70141),e.i(22130),e.i(30638);var eO=e.i(55436),eB=e.i(37727);function eH({repeaters:e,value:t,onChange:r,onSelect:l,placeholder:s,className:i}){let[o,d]=n.useState(!1),[c,u]=n.useState(-1),m=n.useRef(null),p=n.useRef(null),h=(0,B.useTranslations)(),x=n.useMemo(()=>{if(!t.trim())return[];let r=t.toLowerCase();return e.filter(e=>e.callsign.toLowerCase().includes(r)||e.owner?.toLowerCase().includes(r)||e.qthLocator?.toLowerCase().includes(r)).slice(0,8)},[e,t]),g=o&&t.trim().length>0&&x.length>0,f=e=>{r(e.callsign),d(!1),u(-1),l?.(e)};return n.useEffect(()=>{if(c>=0&&p.current){let e=p.current.children[c];e?.scrollIntoView({block:"nearest"})}},[c]),n.useEffect(()=>{u(-1)},[x.length]),(0,a.jsxs)("div",{className:(0,A.cn)("relative",i),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eO.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{ref:m,type:"text",value:t,onChange:e=>r(e.target.value),onFocus:()=>d(!0),onBlur:()=>{setTimeout(()=>d(!1),200)},onKeyDown:e=>{if(g)switch(e.key){case"ArrowDown":e.preventDefault(),u(e=>e<x.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),u(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),c>=0&&c<x.length&&f(x[c]);break;case"Escape":e.preventDefault(),d(!1),m.current?.blur()}},placeholder:s||h("filters.callsign"),className:(0,A.cn)("flex h-9 w-full rounded-md border border-input bg-transparent pl-9 pr-9 py-1 text-base shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50","md:text-sm")}),t&&(0,a.jsx)("button",{type:"button",onClick:()=>{r(""),m.current?.focus()},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-md hover:bg-accent transition-colors","aria-label":"Clear",children:(0,a.jsx)(eB.X,{className:"h-4 w-4 text-muted-foreground"})})]}),g&&(0,a.jsxs)("div",{className:"absolute z-50 mt-1 w-full rounded-lg border bg-popover shadow-lg",children:[(0,a.jsx)("ul",{ref:p,className:"max-h-[300px] overflow-auto p-1",children:x.map((e,t)=>{var r;let n,l;return(0,a.jsx)("li",{children:(0,a.jsxs)("button",{type:"button",onClick:()=>f(e),className:(0,A.cn)("flex w-full items-center gap-3 rounded-md px-3 py-2 text-left transition-colors",c===t?"bg-accent":"hover:bg-accent/50"),children:[(0,a.jsx)("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-md bg-muted",children:(0,a.jsx)(el.Radio,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(n=(0,ec.getPrimaryFrequency)(e),l=e.modes?.map(e=>"DSTAR"===e?"D-STAR":e).join("/")||"FM",(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.callsign}),n&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(r=n.outputFrequency)>=430&&r<=450?"70cm":r>=144&&r<=148?"2m":r>=50&&r<=54?"6m":"Other"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:l})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[n?`${n.outputFrequency.toFixed(3)} MHz`:"",e.owner&&` \xb7 ${e.owner}`]})]}))})]})},e.callsign)})}),(0,a.jsx)("div",{className:"border-t p-2",children:(0,a.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:[x.length," resultado",1!==x.length?"s":""," · ",(0,a.jsx)("span",{className:"text-muted-foreground/70",children:"↑↓ navegar · Enter selecionar"})]})})]})]})}var eV=e.i(15288),ez=e.i(52990),eU=e.i(82830),eW=e.i(64659),eX=e.i(26999),e_=e.i(91918),eK="AlertDialog",[eG,eY]=(0,s.createContextScope)(eK,[eX.createDialogScope]),eQ=(0,eX.createDialogScope)(),eJ=e=>{let{__scopeAlertDialog:t,...r}=e,n=eQ(t);return(0,a.jsx)(eX.Root,{...n,...r,modal:!0})};eJ.displayName=eK,n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,l=eQ(r);return(0,a.jsx)(eX.Trigger,{...l,...n,ref:t})}).displayName="AlertDialogTrigger";var eZ=e=>{let{__scopeAlertDialog:t,...r}=e,n=eQ(t);return(0,a.jsx)(eX.Portal,{...n,...r})};eZ.displayName="AlertDialogPortal";var e0=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,l=eQ(r);return(0,a.jsx)(eX.Overlay,{...l,...n,ref:t})});e0.displayName="AlertDialogOverlay";var e1="AlertDialogContent",[e5,e3]=eG(e1),e4=(0,e_.createSlottable)("AlertDialogContent"),e2=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:s,...i}=e,d=eQ(r),c=n.useRef(null),u=(0,o.useComposedRefs)(t,c),m=n.useRef(null);return(0,a.jsx)(eX.WarningProvider,{contentName:e1,titleName:e7,docsSlug:"alert-dialog",children:(0,a.jsx)(e5,{scope:r,cancelRef:m,children:(0,a.jsxs)(eX.Content,{role:"alertdialog",...d,...i,ref:u,onOpenAutoFocus:(0,l.composeEventHandlers)(i.onOpenAutoFocus,e=>{e.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(e4,{children:s}),(0,a.jsx)(ta,{contentRef:c})]})})})});e2.displayName=e1;var e7="AlertDialogTitle",e9=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,l=eQ(r);return(0,a.jsx)(eX.Title,{...l,...n,ref:t})});e9.displayName=e7;var e8="AlertDialogDescription",e6=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,l=eQ(r);return(0,a.jsx)(eX.Description,{...l,...n,ref:t})});e6.displayName=e8;var te=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,l=eQ(r);return(0,a.jsx)(eX.Close,{...l,...n,ref:t})});te.displayName="AlertDialogAction";var tt="AlertDialogCancel",tr=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,{cancelRef:l}=e3(tt,r),s=eQ(r),i=(0,o.useComposedRefs)(t,l);return(0,a.jsx)(eX.Close,{...s,...n,ref:i})});tr.displayName=tt;var ta=({contentRef:e})=>{let t=`\`${e1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${e1}\` by passing a \`${e8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${e1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};function tn({...e}){return(0,a.jsx)(eJ,{"data-slot":"alert-dialog",...e})}function tl({...e}){return(0,a.jsx)(eZ,{"data-slot":"alert-dialog-portal",...e})}function ts({className:e,...t}){return(0,a.jsx)(e0,{"data-slot":"alert-dialog-overlay",className:(0,A.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ti({className:e,...t}){return(0,a.jsxs)(tl,{children:[(0,a.jsx)(ts,{}),(0,a.jsx)(e2,{"data-slot":"alert-dialog-content",className:(0,A.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function to({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,A.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function td({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,A.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function tc({className:e,...t}){return(0,a.jsx)(e9,{"data-slot":"alert-dialog-title",className:(0,A.cn)("text-lg font-semibold",e),...t})}function tu({className:e,...t}){return(0,a.jsx)(e6,{"data-slot":"alert-dialog-description",className:(0,A.cn)("text-muted-foreground text-sm",e),...t})}function tm({className:e,...t}){return(0,a.jsx)(te,{className:(0,A.cn)((0,es.buttonVariants)(),e),...t})}function tp({className:e,...t}){return(0,a.jsx)(tr,{className:(0,A.cn)((0,es.buttonVariants)({variant:"outline"}),e),...t})}var th=e.i(55146);function tx({value:e,onChange:t,options:r,placeholder:n="Select option",className:l,ariaLabel:s}){let i=r.find(t=>String(t.value)===String(e));return(0,a.jsxs)(th.DropdownMenu,{children:[(0,a.jsx)(th.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)("button",{type:"button","aria-label":s,className:(0,A.cn)("inline-flex h-9 items-center justify-between gap-2 rounded-md border bg-background px-3 text-sm",l),children:[(0,a.jsx)("span",{children:i?i.label:n}),(0,a.jsx)("span",{"aria-hidden":!0,children:"▾"})]})}),(0,a.jsx)(th.DropdownMenuContent,{align:"end",children:r.map(r=>(0,a.jsxs)(th.DropdownMenuItem,{onSelect:e=>{e.preventDefault(),t(r.value)},className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"inline-block w-4 text-center",children:String(r.value)===String(e)?"✓":""}),(0,a.jsx)("span",{children:r.label})]},String(r.value)))})]})}var tg=e.i(93479);let tf=({className:e,...t})=>(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,A.cn)("w-full",e),...t}),tv=({className:e,...t})=>(0,a.jsx)("ul",{className:(0,A.cn)("flex items-center gap-1",e),...t}),tb=({className:e,...t})=>(0,a.jsx)("li",{className:(0,A.cn)("",e),...t}),tj=n.forwardRef(({className:e,isActive:t,disabled:r,...n},l)=>(0,a.jsx)("a",{ref:l,"aria-current":t?"page":void 0,"aria-disabled":!!r||void 0,className:(0,A.cn)("inline-flex h-9 min-w-9 items-center justify-center rounded-md border bg-background px-3 text-sm transition-colors hover:bg-accent aria-disabled:opacity-50 aria-disabled:pointer-events-none",t&&"border-primary bg-accent",e),...n}));tj.displayName="PaginationLink";let tw=({className:e,...t})=>(0,a.jsxs)(tj,{className:(0,A.cn)(e),...t,children:[(0,a.jsx)("span",{className:"sr-only",children:"Previous"}),(0,a.jsx)("span",{"aria-hidden":!0,children:"‹"})]}),ty=({className:e,...t})=>(0,a.jsxs)(tj,{className:(0,A.cn)(e),...t,children:[(0,a.jsx)("span",{className:"sr-only",children:"Next"}),(0,a.jsx)("span",{"aria-hidden":!0,children:"›"})]}),tN=({className:e,...t})=>(0,a.jsxs)("span",{className:(0,A.cn)("px-2 text-sm",e),...t,children:["…",(0,a.jsx)("span",{className:"sr-only",children:"More pages"})]});var tC=e.i(67489),tk=e.i(84774);function tS({columns:e,data:t,onFilteredDataChange:r,columnFilters:l,onColumnFiltersChange:s,onRowClick:i,isLoading:o=!1,initialSorting:d,leftActions:c}){let[u,m]=n.useState(d??[{id:"outputFrequency",desc:!1}]),[p,h]=n.useState(!1);n.useEffect(()=>{d&&!p&&m(d)},[d,p]);let[x,g]=n.useState([]),f=l??x,[v,b]=n.useState({latitude:!1,longitude:!1}),[j,w]=n.useState({pageIndex:0,pageSize:10}),[y,N]=n.useState(!1),[C,k]=n.useState("chirp"),S=(0,B.useTranslations)(),T=(0,ez.useReactTable)({data:t,columns:e,getCoreRowModel:(0,eU.getCoreRowModel)(),onSortingChange:e=>{h(!0),m(e)},getSortedRowModel:(0,eU.getSortedRowModel)(),onColumnFiltersChange:s??g,getFilteredRowModel:(0,eU.getFilteredRowModel)(),getPaginationRowModel:(0,eU.getPaginationRowModel)(),onColumnVisibilityChange:b,onPaginationChange:w,state:{sorting:u,columnFilters:f,columnVisibility:v,pagination:j}}),R=n.useMemo(()=>{let e=new Set;return t.forEach(t=>{let r=t?.modes;r&&Array.isArray(r)&&r.forEach(t=>e.add("DSTAR"===t?"D-STAR":t))}),Array.from(e).sort()},[t]);return n.useEffect(()=>{r&&r(T.getFilteredRowModel().rows.map(e=>e.original))},[r,f,t]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:c}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(es.Button,{variant:"outline",size:"sm",onClick:()=>{N(!0)},children:S("filters.export")}),(0,a.jsxs)(th.DropdownMenu,{children:[(0,a.jsx)(th.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(es.Button,{variant:"outline",size:"sm",children:S("table.visibleColumns")})}),(0,a.jsxs)(th.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,a.jsx)(th.DropdownMenuLabel,{children:S("table.visibleColumns")}),(0,a.jsx)(th.DropdownMenuSeparator,{}),T.getAllLeafColumns().map(e=>{if(!e.getCanHide())return null;let t="string"==typeof e.columnDef.header?e.columnDef.header:e.id;return(0,a.jsx)(th.DropdownMenuCheckboxItem,{checked:e.getIsVisible(),onCheckedChange:t=>e.toggleVisibility(!!t),children:t},e.id)})]})]}),(0,a.jsx)(es.Button,{variant:"outline",size:"sm",onClick:()=>{T.resetColumnFilters(),T.setPageIndex(0)},children:S("filters.clear")})]})]}),(0,a.jsx)("div",{className:"rounded-md border","aria-busy":o,children:(0,a.jsxs)(tk.Table,{children:[(0,a.jsx)(tk.TableHeader,{children:T.getHeaderGroups().map(e=>(0,a.jsx)(tk.TableRow,{children:e.headers.map(e=>{let t,r,n;return(0,a.jsx)(tk.TableHead,{className:"py-2 px-2",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:`font-medium text-sm ${e.column.getCanSort()?"cursor-pointer select-none":""}`,onClick:()=>{e.column.getCanSort()&&e.column.toggleSorting()},children:[e.isPlaceholder?null:(0,ez.flexRender)(e.column.columnDef.header,e.getContext()),"asc"===e.column.getIsSorted()&&" ↑","desc"===e.column.getIsSorted()&&" ↓"]}),(0,a.jsxs)("div",{className:"min-w-0",children:["callsign"===e.column.id&&(0,a.jsx)(tg.Input,{placeholder:"",value:T.getColumn("callsign")?.getFilterValue()??"",onChange:e=>T.getColumn("callsign")?.setFilterValue(e.target.value),className:"h-7 text-xs w-full"}),"status"===e.column.id&&(0,a.jsxs)(tC.Select,{value:T.getColumn("status")?.getFilterValue()??"all",onValueChange:e=>T.getColumn("status")?.setFilterValue("all"===e?void 0:e),children:[(0,a.jsx)(tC.SelectTrigger,{className:"h-7 text-xs w-full",children:(0,a.jsx)(tC.SelectValue,{})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"all",children:S("filters.all")}),(0,a.jsx)(tC.SelectItem,{value:"ok",children:S("table.status.ok")}),(0,a.jsx)(tC.SelectItem,{value:"prob-bad",children:S("table.status.prob-bad")}),(0,a.jsx)(tC.SelectItem,{value:"bad",children:S("table.status.bad")}),(0,a.jsx)(tC.SelectItem,{value:"unknown",children:S("table.status.unknown")})]})]}),"owner"===e.column.id&&(0,a.jsx)(tg.Input,{placeholder:"",value:T.getColumn("owner")?.getFilterValue()??"",onChange:e=>T.getColumn("owner")?.setFilterValue(e.target.value),className:"h-7 text-xs w-full"}),"qth_locator"===e.column.id&&(0,a.jsx)(tg.Input,{placeholder:"",value:T.getColumn("qth_locator")?.getFilterValue()??"",onChange:e=>T.getColumn("qth_locator")?.setFilterValue(e.target.value),className:"h-7 text-xs w-full"}),"band"===e.column.id&&(0,a.jsxs)(tC.Select,{value:T.getColumn("band")?.getFilterValue()??"all",onValueChange:e=>T.getColumn("band")?.setFilterValue("all"===e?void 0:e),children:[(0,a.jsx)(tC.SelectTrigger,{className:"h-7 text-xs w-full",children:(0,a.jsx)(tC.SelectValue,{})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"all",children:S("filters.all")}),(0,a.jsx)(tC.SelectItem,{value:"2m",children:S("filters.2m")}),(0,a.jsx)(tC.SelectItem,{value:"70cm",children:S("filters.70cm")})]})]}),"outputFrequency"===e.column.id&&(0,a.jsx)(tg.Input,{placeholder:"",value:T.getColumn("outputFrequency")?.getFilterValue()??"",onChange:e=>T.getColumn("outputFrequency")?.setFilterValue(e.target.value),className:"h-7 text-xs w-full"}),"inputFrequency"===e.column.id&&(0,a.jsx)(tg.Input,{placeholder:"",value:T.getColumn("inputFrequency")?.getFilterValue()??"",onChange:e=>T.getColumn("inputFrequency")?.setFilterValue(e.target.value),className:"h-7 text-xs w-full"}),"tone"===e.column.id&&(0,a.jsx)(tg.Input,{placeholder:"",value:T.getColumn("tone")?.getFilterValue()??"",onChange:e=>T.getColumn("tone")?.setFilterValue(e.target.value),className:"h-7 text-xs w-full"}),"modes"===e.column.id&&(0,a.jsxs)(th.DropdownMenu,{children:[(0,a.jsx)(th.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(es.Button,{variant:"outline",className:"h-7 w-full justify-between px-2 text-xs font-normal",children:[(0,a.jsx)("span",{className:"truncate",children:(t=T.getColumn("modes")?.getFilterValue())&&0!==t.length?t.join(", "):S("filters.all")}),(0,a.jsx)(eW.ChevronDown,{className:"ml-1 h-3 w-3 opacity-50"})]})}),(0,a.jsxs)(th.DropdownMenuContent,{className:"w-[140px]",align:"start",children:[(0,a.jsx)(th.DropdownMenuLabel,{className:"text-xs",children:S("filters.modulation")}),(0,a.jsx)(th.DropdownMenuSeparator,{}),R.map(e=>{let t=T.getColumn("modes")?.getFilterValue()||[];return(0,a.jsx)(th.DropdownMenuCheckboxItem,{checked:t.includes(e),onCheckedChange:t=>{let r=T.getColumn("modes"),a=r?.getFilterValue()||[],n=t?[...a,e]:a.filter(t=>t!==e);r?.setFilterValue(n.length>0?n:void 0)},className:"text-xs",children:e},e)})]})]}),"dmr"===e.column.id&&(0,a.jsxs)(tC.Select,{value:null==(r=T.getColumn("dmr")?.getFilterValue())?"all":r?"yes":"no",onValueChange:e=>T.getColumn("dmr")?.setFilterValue("all"===e?void 0:"yes"===e),children:[(0,a.jsx)(tC.SelectTrigger,{className:"h-7 text-xs w-full",children:(0,a.jsx)(tC.SelectValue,{})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"all",children:S("filters.all")}),(0,a.jsx)(tC.SelectItem,{value:"yes",children:S("filters.yes")}),(0,a.jsx)(tC.SelectItem,{value:"no",children:S("filters.no")})]})]}),"dstar"===e.column.id&&(0,a.jsxs)(tC.Select,{value:null==(n=T.getColumn("dstar")?.getFilterValue())?"all":n?"yes":"no",onValueChange:e=>T.getColumn("dstar")?.setFilterValue("all"===e?void 0:"yes"===e),children:[(0,a.jsx)(tC.SelectTrigger,{className:"h-7 text-xs w-full",children:(0,a.jsx)(tC.SelectValue,{})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"all",children:S("filters.all")}),(0,a.jsx)(tC.SelectItem,{value:"yes",children:S("filters.yes")}),(0,a.jsx)(tC.SelectItem,{value:"no",children:S("filters.no")})]})]})]})]})},e.id)})},e.id))}),(0,a.jsx)(tk.TableBody,{children:o?Array.from({length:10}).map((t,r)=>(0,a.jsx)(tk.TableRow,{className:"animate-pulse",children:e.slice(0,8).map((e,t)=>(0,a.jsx)(tk.TableCell,{children:(0,a.jsx)("div",{className:"h-4 rounded bg-muted",style:{width:0===t||1===t?"20px":`${40+40*Math.random()}%`}})},`skeleton-${r}-${t}`))},`skeleton-${r}`)):T.getRowModel().rows?.length?T.getRowModel().rows.map(e=>(0,a.jsx)(tk.TableRow,{"data-state":e.getIsSelected()&&"selected",className:i?"cursor-pointer hover:bg-accent/40":void 0,onClick:()=>i?.(e.original),children:e.getVisibleCells().map(e=>(0,a.jsx)(tk.TableCell,{children:(0,ez.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(tk.TableRow,{children:(0,a.jsx)(tk.TableCell,{colSpan:e.length,className:"h-24 text-center",children:S("table.noResults")})})})]})}),(0,a.jsxs)("div",{className:`mt-4 flex flex-wrap items-center justify-between gap-3${o?" pointer-events-none opacity-50":""}`,"aria-hidden":o,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:S("table.rowsPerPage")}),(0,a.jsx)(tx,{ariaLabel:"Rows per page",value:T.getState().pagination.pageSize,onChange:e=>{let t=Number(e);Number.isNaN(t)||T.setPageSize(t)},options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:S("table.pageOf",{current:T.getState().pagination.pageIndex+1,total:T.getPageCount()})}),(0,a.jsx)(tf,{children:(0,a.jsxs)(tv,{children:[(0,a.jsx)(tb,{children:(0,a.jsx)(tw,{href:"#","aria-disabled":!T.getCanPreviousPage(),onClick:e=>{e.preventDefault(),T.previousPage()}})}),(()=>{let e=T.getPageCount(),t=T.getState().pagination.pageIndex,r=[];if(e<=7)for(let t=0;t<e;t++)r.push(t);else{let a=e-1,n=Math.max(1,t-1),l=Math.min(a-1,t+1);r.push(0),n>1&&r.push("ellipses-left");for(let e=n;e<=l;e++)r.push(e);l<a-1&&r.push("ellipses-right"),r.push(a)}return r.map((e,r)=>(0,a.jsx)(tb,{children:"number"==typeof e?(0,a.jsx)(tj,{href:"#",isActive:e===t,onClick:t=>{t.preventDefault(),T.setPageIndex(e)},children:e+1}):(0,a.jsx)(tN,{})},r))})(),(0,a.jsx)(tb,{children:(0,a.jsx)(ty,{href:"#","aria-disabled":!T.getCanNextPage(),onClick:e=>{e.preventDefault(),T.nextPage()}})})]})})]}),(0,a.jsx)(tn,{open:y,onOpenChange:N,children:(0,a.jsxs)(ti,{children:[(0,a.jsxs)(to,{children:[(0,a.jsx)(tc,{children:S("export.modalTitle")}),(0,a.jsx)(tu,{children:S("export.modalDescription",{count:T.getFilteredRowModel().rows.length})})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:S("export.formatLabel")}),(0,a.jsxs)(tC.Select,{value:C,onValueChange:e=>k(e),children:[(0,a.jsx)(tC.SelectTrigger,{className:"w-full",children:(0,a.jsx)(tC.SelectValue,{})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"chirp",children:S("export.formatChirp")}),(0,a.jsx)(tC.SelectItem,{value:"anytone",children:S("export.formatAnytone")})]})]})]}),(0,a.jsxs)(td,{children:[(0,a.jsx)(tp,{children:S("export.cancelButton")}),(0,a.jsx)(tm,{onClick:()=>{if("anytone"===C){let e,t,r,a,n,l,s;e=T.getFilteredRowModel().rows.map(e=>e.original),t=e=>'"'+String(e).replace(/"/g,'""')+'"',r=e=>"number"==typeof e&&Number.isFinite(e)?e.toFixed(5):"0.00000",a=[["No.","Channel Name","Receive Frequency","Transmit Frequency","Channel Type","Transmit Power","Band Width","CTCSS/DCS Decode","CTCSS/DCS Encode","Contact","Contact Call Type","Radio ID","Busy Lock/TX Permit","Squelch Mode","Optional Signal","DTMF ID","2Tone ID","5Tone ID","PTT ID","RX Color Code","Slot","Scan List","Receive Group List","PTT Prohibit","Reverse","Idle TX","Slot Suit","AES Digital Encryption","Digital Encryption","Call Confirmation","Talk Around(Simplex)","Work Alone","Custom CTCSS","2TONE Decode","Ranging","Through Mode","APRS RX","Analog APRS PTT Mode","Digital APRS PTT Mode","APRS Report Type","Digital APRS Report Channel","Correct Frequency[Hz]","SMS Confirmation","Exclude channel from roaming","DMR MODE","DataACK Disable","R5ToneBot","R5ToneEot","Auto Scan","Ana Aprs Mute","Send Talker Aias","AnaAprsTxPath","ARC4","ex_emg_kind","idle_tx","Compand","DisturEn","DisturFreq","Rpga_Mdc","dmr_crc_ignore","TxCc"].map(t).join(",")],e.forEach((e,n)=>{let l=e?.frequencies,s=l?.find(e=>e.isPrimary)||l?.[0],i=s?.outputFrequency,o=s?.inputFrequency,d=s?.tone,c=e?.callsign??"",u=e?.modes,m=u?.some(e=>"DMR"===e.toUpperCase())??!1,p=[String(n+1),c,r(i),r(o),m?"D-Digital":"A-Analog","High","25K","Off",m?"Off":"number"==typeof d&&d>0?d.toFixed(1):"Off","WW","Group Call","My Radio",m?"Always":"Off","Carrier","Off","1","1","1","Off","1","1",m?"Scan List 1":"None",m?"Group List 1":"None","Off","Off","Off","Off","Normal Encryption","Off","Off","Off","Off","251.1",m?"1":"0","Off","Off","Off","Off","Off","Off","1","0","Off","0","1","0","0","0","0","0","0","0","0","0","0","0","0",m?"13":"0","0","0","1"].map(t);a.push(p.join(","))}),n=new Blob([a.join("\r\n")],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(n),(s=document.createElement("a")).href=l,s.download="repetidores-anytone.csv",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l),N(!1)}else{let e,t,r,a,n,l;e=T.getFilteredRowModel().rows.map(e=>e.original),t=e=>{if(null==e)return"";let t=String(e);return t.includes(",")||t.includes('"')||t.includes("\n")?'"'+t.replace(/"/g,'""')+'"':t},r=["Location,Name,Frequency,Duplex,Offset,Tone,rToneFreq,cToneFreq,DtcsCode,DtcsPolarity,Mode,TStep,Skip,Comment,URCALL,RPT1CALL,RPT2CALL"],e.forEach((e,a)=>{let n=e?.frequencies,l=n?.find(e=>e.isPrimary)||n?.[0],s=l?.outputFrequency,i=l?.inputFrequency,o=l?.tone,d=e?.callsign??"",c=e?.modes,u=e?.qthLocator||e?.owner||"",m=[String(a+1),d,"number"==typeof s&&Number.isFinite(s)?s.toFixed(6):"","number"!=typeof s||"number"!=typeof i?"":i>s?"+":i<s?"-":"","number"!=typeof s||"number"!=typeof i?"":Math.abs(i-s).toFixed(6),o&&o>0?"Tone":"","","number"==typeof o&&o>0?Number(o.toFixed(1)).toString():"","023","NN",(e=>{if(!e)return"FM";let t=e.toUpperCase();return["FM","NFM","AM"].includes(t)?t:"FM"})(c?.[0]),"","",u,"","",""].map(t);r.push(m.join(","))}),a=new Blob([r.join("\r\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),(l=document.createElement("a")).href=n,l.download="repetidores.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n),N(!1)}},children:S("export.confirmButton")})]})]})})]})}let tT=n.default.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),tR=()=>{let e=n.default.useContext(tT);if(!e)throw Error("useDrawerContext must be used within a Drawer.Root");return e};function tF(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function tD(){return tA(/^iPhone/)||tA(/^iPad/)||tA(/^Mac/)&&navigator.maxTouchPoints>1}function tA(e){return"undefined"!=typeof window&&null!=window.navigator?e.test(window.navigator.platform):void 0}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");let tL="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function tM(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}let tE="undefined"!=typeof document&&window.visualViewport;function tI(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function tP(e){for(tI(e)&&(e=e.parentElement);e&&!tI(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}let tq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),t$=0;function tO(e,t,r,a){return e.addEventListener(t,r,a),()=>{e.removeEventListener(t,r,a)}}function tB(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=tP(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=a-r)}e=t.parentElement}}function tH(e){return e instanceof HTMLInputElement&&!tq.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function tV(...e){return n.useCallback(function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(...e),e)}let tz=new WeakMap;function tU(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(t).forEach(([t,r])=>{t.startsWith("--")?e.style.setProperty(t,r):(a[t]=e.style[t],e.style[t]=r)}),r||tz.set(e,a)}let tW=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function tX(e,t){if(!e)return null;let r=window.getComputedStyle(e),a=r.transform||r.webkitTransform||r.mozTransform,n=a.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[tW(t)?13:12]):(n=a.match(/^matrix\((.+)\)$/))?parseFloat(n[1].split(", ")[tW(t)?5:4]):null}function t_(e,t){if(!e)return()=>{};let r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}let tK=[.32,.72,0,1],tG="vaul-dragging";function tY(e){let t=n.default.useRef(e);return n.default.useEffect(()=>{t.current=e}),n.default.useMemo(()=>(...e)=>null==t.current?void 0:t.current.call(t,...e),[])}function tQ({prop:e,defaultProp:t,onChange:r=()=>{}}){let[a,l]=function({defaultProp:e,onChange:t}){let r=n.default.useState(e),[a]=r,l=n.default.useRef(a),s=tY(t);return n.default.useEffect(()=>{l.current!==a&&(s(a),l.current=a)},[a,l,s]),r}({defaultProp:t,onChange:r}),s=void 0!==e,i=s?e:a,o=tY(r);return[i,n.default.useCallback(t=>{if(s){let r="function"==typeof t?t(e):t;r!==e&&o(r)}else l(t)},[s,e,l,o])]}let tJ=()=>()=>{},tZ=null;function t0({open:e,onOpenChange:r,children:a,onDrag:l,onRelease:s,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:d=!0,closeThreshold:c=.25,scrollLockTimeout:u=100,dismissible:m=!0,handleOnly:p=!1,fadeFromIndex:h=i&&i.length-1,activeSnapPoint:x,setActiveSnapPoint:g,fixed:f,modal:v=!0,onClose:b,nested:j,noBodyStyles:w=!1,direction:y="bottom",defaultOpen:N=!1,disablePreventScroll:C=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:S=!1,repositionInputs:T=!0,onAnimationEnd:R,container:F,autoFocus:D=!1}){var A,L;let[M=!1,E]=tQ({defaultProp:N,prop:e,onChange:e=>{null==r||r(e),e||j||eu(),setTimeout(()=>{null==R||R(e)},500),e&&!v&&"undefined"!=typeof window&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),e||(document.body.style.pointerEvents="auto")}}),[I,P]=n.default.useState(!1),[q,$]=n.default.useState(!1),[O,B]=n.default.useState(!1),H=n.default.useRef(null),V=n.default.useRef(null),z=n.default.useRef(null),U=n.default.useRef(null),W=n.default.useRef(null),X=n.default.useRef(!1),_=n.default.useRef(null),K=n.default.useRef(0),G=n.default.useRef(!1),Y=n.default.useRef(!N),Q=n.default.useRef(0),J=n.default.useRef(null),Z=n.default.useRef((null==(A=J.current)?void 0:A.getBoundingClientRect().height)||0),ee=n.default.useRef((null==(L=J.current)?void 0:L.getBoundingClientRect().width)||0),et=n.default.useRef(0),er=n.default.useCallback(e=>{i&&e===ei.length-1&&(V.current=new Date)},[]),{activeSnapPoint:ea,activeSnapPointIndex:en,setActiveSnapPoint:el,onRelease:es,snapPointsOffset:ei,onDrag:eo,shouldFade:ed,getPercentageDragged:ec}=function({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:a,overlayRef:l,fadeFromIndex:s,onSnapPointChange:i,direction:o="bottom",container:d,snapToSequentialPoint:c}){let[u,m]=tQ({prop:e,defaultProp:null==r?void 0:r[0],onChange:t}),[p,h]=n.default.useState("undefined"!=typeof window?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);n.default.useEffect(()=>{function e(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let x=n.default.useMemo(()=>u===(null==r?void 0:r[r.length-1])||null,[r,u]),g=n.default.useMemo(()=>{var e;return null!=(e=null==r?void 0:r.findIndex(e=>e===u))?e:null},[r,u]),f=r&&r.length>0&&(s||0===s)&&!Number.isNaN(s)&&r[s]===u||!r,v=n.default.useMemo(()=>{var e;let t=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:"undefined"!=typeof window?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};return null!=(e=null==r?void 0:r.map(e=>{let r="string"==typeof e,a=0;if(r&&(a=parseInt(e,10)),tW(o)){let n=r?a:p?e*t.height:0;return p?"bottom"===o?t.height-n:-t.height+n:n}let n=r?a:p?e*t.width:0;return p?"right"===o?t.width-n:-t.width+n:n}))?e:[]},[r,p,d]),b=n.default.useMemo(()=>null!==g?null==v?void 0:v[g]:null,[v,g]),j=n.default.useCallback(e=>{var t;let n=null!=(t=null==v?void 0:v.findIndex(t=>t===e))?t:null;i(n),tU(a.current,{transition:`transform 0.5s cubic-bezier(${tK.join(",")})`,transform:tW(o)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),v&&n!==v.length-1&&void 0!==s&&n!==s&&n<s?tU(l.current,{transition:`opacity 0.5s cubic-bezier(${tK.join(",")})`,opacity:"0"}):tU(l.current,{transition:`opacity 0.5s cubic-bezier(${tK.join(",")})`,opacity:"1"}),m(null==r?void 0:r[Math.max(n,0)])},[a.current,r,v,s,l,m]);return n.default.useEffect(()=>{if(u||e){var t;let a=null!=(t=null==r?void 0:r.findIndex(t=>t===e||t===u))?t:-1;v&&-1!==a&&"number"==typeof v[a]&&j(v[a])}},[u,e,r,v,j]),{isLastSnapPoint:x,activeSnapPoint:u,shouldFade:f,getPercentageDragged:function(e,t){if(!r||"number"!=typeof g||!v||void 0===s)return null;let a=g===s-1;if(g>=s&&t)return 0;if(a&&!t)return 1;if(!f&&!a)return null;let n=a?g+1:g-1,l=e/Math.abs(a?v[n]-v[n-1]:v[n+1]-v[n]);return a?1-l:l},setActiveSnapPoint:m,activeSnapPointIndex:g,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:a,dismissible:n}){if(void 0===s)return;let i="bottom"===o||"right"===o?(null!=b?b:0)-e:(null!=b?b:0)+e,d=g===s-1,u=0===g,m=e>0;if(d&&tU(l.current,{transition:`opacity 0.5s cubic-bezier(${tK.join(",")})`}),!c&&a>2&&!m)return void(n?t():j(v[0]));if(!c&&a>2&&m&&v&&r)return void j(v[r.length-1]);let p=null==v?void 0:v.reduce((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-i)<Math.abs(e-i)?t:e),h=tW(o)?window.innerHeight:window.innerWidth;if(a>.4&&Math.abs(e)<.4*h){let e=m?1:-1;return e>0&&x&&r?void j(v[r.length-1]):void(u&&e<0&&n&&t(),null===g||j(v[g+e]))}j(p)},onDrag:function({draggedDistance:e}){if(null===b)return;let t="bottom"===o||"right"===o?b-e:b+e;("bottom"===o||"right"===o)&&t<v[v.length-1]||("top"===o||"left"===o)&&t>v[v.length-1]||tU(a.current,{transform:tW(o)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:v}}({snapPoints:i,activeSnapPointProp:x,setActiveSnapPointProp:g,drawerRef:J,fadeFromIndex:h,overlayRef:H,onSnapPointChange:er,direction:y,container:F,snapToSequentialPoint:k});!function(e={}){let{isDisabled:r}=e;tL(()=>{if(!r){var e,a,n;let r,l,s,i,o,d,c;return 1==++t$&&tD()&&(s=0,i=window.pageXOffset,o=window.pageYOffset,d=tM((e=document.documentElement,a="paddingRight",n=`${window.innerWidth-document.documentElement.clientWidth}px`,r=e.style[a],e.style[a]=n,()=>{e.style[a]=r})),window.scrollTo(0,0),c=tM(tO(document,"touchstart",e=>{((l=tP(e.target))!==document.documentElement||l!==document.body)&&(s=e.changedTouches[0].pageY)},{passive:!1,capture:!0}),tO(document,"touchmove",e=>{if(!l||l===document.documentElement||l===document.body)return void e.preventDefault();let t=e.changedTouches[0].pageY,r=l.scrollTop,a=l.scrollHeight-l.clientHeight;0!==a&&((r<=0&&t>s||r>=a&&t<s)&&e.preventDefault(),s=t)},{passive:!1,capture:!0}),tO(document,"touchend",e=>{let t=e.target;tH(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),tO(document,"focus",e=>{let t=e.target;tH(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",tE&&(tE.height<window.innerHeight?requestAnimationFrame(()=>{tB(t)}):tE.addEventListener("resize",()=>tB(t),{once:!0}))}))},!0),tO(window,"scroll",()=>{window.scrollTo(0,0)})),t=()=>{d(),c(),window.scrollTo(i,o)}),()=>{0==--t$&&(null==t||t())}}},[r])}({isDisabled:!M||q||!v||O||!I||!T||!C});let{restorePositionSetting:eu}=function({isOpen:e,modal:t,nested:r,hasBeenOpened:a,preventScrollRestoration:l,noBodyStyles:s}){let[i,o]=n.default.useState(()=>"undefined"!=typeof window?window.location.href:""),d=n.default.useRef(0),c=n.default.useCallback(()=>{if(tF()&&null===tZ&&e&&!s){tZ={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};let{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-e}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{let e=t-window.innerHeight;e&&d.current>=t&&(document.body.style.top=`${-(d.current+e)}px`)}),300)}},[e]),u=n.default.useCallback(()=>{if(tF()&&null!==tZ&&!s){let e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,tZ),window.requestAnimationFrame(()=>{l&&i!==window.location.href?o(window.location.href):window.scrollTo(t,e)}),tZ=null}},[i]);return n.default.useEffect(()=>{function e(){d.current=window.scrollY}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),n.default.useEffect(()=>{if(t)return()=>{"undefined"==typeof document||document.querySelector("[data-vaul-drawer]")||u()}},[t,u]),n.default.useEffect(()=>{!r&&a&&(e?(window.matchMedia("(display-mode: standalone)").matches||c(),t||window.setTimeout(()=>{u()},500)):u())},[e,a,i,t,r,c,u]),{restorePositionSetting:u}}({isOpen:M,modal:v,nested:null!=j&&j,hasBeenOpened:I,preventScrollRestoration:S,noBodyStyles:w});function em(){return(window.innerWidth-26)/window.innerWidth}function ep(e,t){var r;let a=e,n=null==(r=window.getSelection())?void 0:r.toString(),l=J.current?tX(J.current,y):null,s=new Date;if("SELECT"===a.tagName||a.hasAttribute("data-vaul-no-drag")||a.closest("[data-vaul-no-drag]"))return!1;if("right"===y||"left"===y)return!0;if(V.current&&s.getTime()-V.current.getTime()<500)return!1;if(null!==l&&("bottom"===y?l>0:l<0))return!0;if(n&&n.length>0)return!1;if(W.current&&s.getTime()-W.current.getTime()<u&&0===l||t)return W.current=s,!1;for(;a;){if(a.scrollHeight>a.clientHeight){if(0!==a.scrollTop)return W.current=new Date,!1;if("dialog"===a.getAttribute("role"))break}a=a.parentNode}return!0}function eh(e){q&&J.current&&(J.current.classList.remove(tG),X.current=!1,$(!1),U.current=new Date),null==b||b(),e||E(!1),setTimeout(()=>{i&&el(i[0])},500)}function ex(){if(!J.current)return;let e=document.querySelector("[data-vaul-drawer-wrapper]"),t=tX(J.current,y);tU(J.current,{transform:"translate3d(0, 0, 0)",transition:`transform 0.5s cubic-bezier(${tK.join(",")})`}),tU(H.current,{transition:`opacity 0.5s cubic-bezier(${tK.join(",")})`,opacity:"1"}),o&&t&&t>0&&M&&tU(e,{borderRadius:"8px",overflow:"hidden",...tW(y)?{transform:`scale(${em()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${em()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${tK.join(",")})`},!0)}return n.default.useEffect(()=>{window.requestAnimationFrame(()=>{Y.current=!0})},[]),n.default.useEffect(()=>{var e;function t(){if(J.current&&T&&(tH(document.activeElement)||G.current)){var e;let t=(null==(e=window.visualViewport)?void 0:e.height)||0,r=window.innerHeight,a=r-t,n=J.current.getBoundingClientRect().height||0;et.current||(et.current=n);let l=J.current.getBoundingClientRect().top;if(Math.abs(Q.current-a)>60&&(G.current=!G.current),i&&i.length>0&&ei&&en&&(a+=ei[en]||0),Q.current=a,n>t||G.current){let e=J.current.getBoundingClientRect().height,s=e;e>t&&(s=t-(n>.8*r?l:26)),f?J.current.style.height=`${e-Math.max(a,0)}px`:J.current.style.height=`${Math.max(s,t-l)}px`}else{let e;e=navigator.userAgent,"undefined"!=typeof window&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))||(J.current.style.height=`${et.current}px`)}i&&i.length>0&&!G.current?J.current.style.bottom="0px":J.current.style.bottom=`${Math.max(a,0)}px`}}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}},[en,i,ei]),n.default.useEffect(()=>(M&&(tU(document.documentElement,{scrollBehavior:"auto"}),V.current=new Date),()=>{!function(e,t){if(!e||!(e instanceof HTMLElement))return;let r=tz.get(e);r&&(e.style[t]=r[t])}(document.documentElement,"scrollBehavior")}),[M]),n.default.useEffect(()=>{v||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[v]),n.default.createElement(eX.Root,{defaultOpen:N,onOpenChange:e=>{(m||e)&&(e?P(!0):eh(!0),E(e))},open:M},n.default.createElement(tT.Provider,{value:{activeSnapPoint:ea,snapPoints:i,setActiveSnapPoint:el,drawerRef:J,overlayRef:H,onOpenChange:r,onPress:function(e){var t,r;!m&&!i||(!J.current||J.current.contains(e.target))&&(Z.current=(null==(t=J.current)?void 0:t.getBoundingClientRect().height)||0,ee.current=(null==(r=J.current)?void 0:r.getBoundingClientRect().width)||0,$(!0),z.current=new Date,tD()&&window.addEventListener("touchend",()=>X.current=!1,{once:!0}),e.target.setPointerCapture(e.pointerId),K.current=tW(y)?e.pageY:e.pageX)},onRelease:function(e){var t,r;if(!q||!J.current)return;J.current.classList.remove(tG),X.current=!1,$(!1),U.current=new Date;let a=tX(J.current,y);if(!e||!ep(e.target,!1)||!a||Number.isNaN(a)||null===z.current)return;let n=U.current.getTime()-z.current.getTime(),l=K.current-(tW(y)?e.pageY:e.pageX),o=Math.abs(l)/n;if(o>.05&&(B(!0),setTimeout(()=>{B(!1)},200)),i){es({draggedDistance:l*("bottom"===y||"right"===y?1:-1),closeDrawer:eh,velocity:o,dismissible:m}),null==s||s(e,!0);return}if("bottom"===y||"right"===y?l>0:l<0){ex(),null==s||s(e,!0);return}if(o>.4){eh(),null==s||s(e,!1);return}let d=Math.min(null!=(t=J.current.getBoundingClientRect().height)?t:0,window.innerHeight),u=Math.min(null!=(r=J.current.getBoundingClientRect().width)?r:0,window.innerWidth);if(Math.abs(a)>=("left"===y||"right"===y?u:d)*c){eh(),null==s||s(e,!1);return}null==s||s(e,!0),ex()},onDrag:function(e){if(J.current&&q){let t="bottom"===y||"right"===y?1:-1,r=(K.current-(tW(y)?e.pageY:e.pageX))*t,a=r>0,n=i&&!m&&!a;if(n&&0===en)return;let s=Math.abs(r),d=document.querySelector("[data-vaul-drawer-wrapper]"),c=s/("bottom"===y||"top"===y?Z.current:ee.current),u=ec(s,a);if(null!==u&&(c=u),n&&c>=1||!X.current&&!ep(e.target,a))return;if(J.current.classList.add(tG),X.current=!0,tU(J.current,{transition:"none"}),tU(H.current,{transition:"none"}),i&&eo({draggedDistance:r}),a&&!i){let e=Math.min(-(8*(Math.log(r+1)-2)*1),0)*t;tU(J.current,{transform:tW(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`});return}let p=1-c;if((ed||h&&en===h-1)&&(null==l||l(e,c),tU(H.current,{opacity:`${p}`,transition:"none"},!0)),d&&H.current&&o){let e=Math.min(em()+c*(1-em()),1),t=8-8*c,r=Math.max(0,14-14*c);tU(d,{borderRadius:`${t}px`,transform:tW(y)?`scale(${e}) translate3d(0, ${r}px, 0)`:`scale(${e}) translate3d(${r}px, 0, 0)`,transition:"none"},!0)}if(!i){let e=s*t;tU(J.current,{transform:tW(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:m,shouldAnimate:Y,handleOnly:p,isOpen:M,isDragging:q,shouldFade:ed,closeDrawer:eh,onNestedDrag:function(e,t){if(t<0)return;let r=(window.innerWidth-16)/window.innerWidth,a=r+t*(1-r),n=-16+16*t;tU(J.current,{transform:tW(y)?`scale(${a}) translate3d(0, ${n}px, 0)`:`scale(${a}) translate3d(${n}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){let t=e?(window.innerWidth-16)/window.innerWidth:1,r=e?-16:0;_.current&&window.clearTimeout(_.current),tU(J.current,{transition:`transform 0.5s cubic-bezier(${tK.join(",")})`,transform:tW(y)?`scale(${t}) translate3d(0, ${r}px, 0)`:`scale(${t}) translate3d(${r}px, 0, 0)`}),!e&&J.current&&(_.current=setTimeout(()=>{let e=tX(J.current,y);tU(J.current,{transition:"none",transform:tW(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})},500))},onNestedRelease:function(e,t){let r=tW(y)?window.innerHeight:window.innerWidth,a=t?(r-16)/r:1,n=t?-16:0;t&&tU(J.current,{transition:`transform 0.5s cubic-bezier(${tK.join(",")})`,transform:tW(y)?`scale(${a}) translate3d(0, ${n}px, 0)`:`scale(${a}) translate3d(${n}px, 0, 0)`})},keyboardIsOpen:G,modal:v,snapPointsOffset:ei,activeSnapPointIndex:en,direction:y,shouldScaleBackground:o,setBackgroundColorOnScale:d,noBodyStyles:w,container:F,autoFocus:D}},a))}let t1=n.default.forwardRef(function({...e},t){let{overlayRef:r,snapPoints:a,onRelease:l,shouldFade:s,isOpen:i,modal:o,shouldAnimate:d}=tR(),c=tV(t,r),u=a&&a.length>0;if(!o)return null;let m=n.default.useCallback(e=>l(e),[l]);return n.default.createElement(eX.Overlay,{onMouseUp:m,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&s?"true":"false","data-vaul-animate":(null==d?void 0:d.current)?"true":"false",...e})});t1.displayName="Drawer.Overlay";let t5=n.default.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...a},l){let{drawerRef:s,onPress:i,onRelease:o,onDrag:d,keyboardIsOpen:c,snapPointsOffset:u,activeSnapPointIndex:m,modal:p,isOpen:h,direction:x,snapPoints:g,container:f,handleOnly:v,shouldAnimate:b,autoFocus:j}=tR(),[w,y]=n.default.useState(!1),N=tV(l,s),C=n.default.useRef(null),k=n.default.useRef(null),S=n.default.useRef(!1),T=g&&g.length>0;function R(e){C.current=null,S.current=!1,o(e)}return!function(){let{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:a,noBodyStyles:l}=tR(),s=n.default.useRef(null),i=(0,n.useMemo)(()=>document.body.style.backgroundColor,[]);function o(){return(window.innerWidth-26)/window.innerWidth}n.default.useEffect(()=>{if(t&&r){s.current&&clearTimeout(s.current);let t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;!function(...e){}(a&&!l?t_(document.body,{background:"black"}):tJ,t_(t,{transformOrigin:tW(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${tK.join(",")})`}));let r=t_(t,{borderRadius:"8px",overflow:"hidden",...tW(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{r(),s.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},500)}}},[t,r,i])}(),n.default.useEffect(()=>{T&&window.requestAnimationFrame(()=>{y(!0)})},[]),n.default.createElement(eX.Content,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":h&&T?"true":"false","data-vaul-custom-container":f?"true":"false","data-vaul-animate":(null==b?void 0:b.current)?"true":"false",...a,ref:N,style:u&&u.length>0?{"--snap-point-height":`${u[null!=m?m:0]}px`,...t}:t,onPointerDown:e=>{v||(null==a.onPointerDown||a.onPointerDown.call(a,e),C.current={x:e.pageX,y:e.pageY},i(e))},onOpenAutoFocus:e=>{null==r||r(e),j||e.preventDefault()},onPointerDownOutside:t=>{(null==e||e(t),!p||t.defaultPrevented)?t.preventDefault():c.current&&(c.current=!1)},onFocusOutside:e=>{if(!p)return void e.preventDefault()},onPointerMove:e=>{if(k.current=e,v||(null==a.onPointerMove||a.onPointerMove.call(a,e),!C.current))return;let t=e.pageY-C.current.y,r=e.pageX-C.current.x,n="touch"===e.pointerType?10:2;((e,t,r=0)=>{if(S.current)return!0;let a=Math.abs(e.y),n=Math.abs(e.x),l=n>a,s=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*s<0)&&n>=0&&n<=r)return l}else if(!(e.y*s<0)&&a>=0&&a<=r)return!l;return S.current=!0,!0})({x:r,y:t},x,n)?d(e):(Math.abs(r)>n||Math.abs(t)>n)&&(C.current=null)},onPointerUp:e=>{null==a.onPointerUp||a.onPointerUp.call(a,e),C.current=null,S.current=!1,o(e)},onPointerOut:e=>{null==a.onPointerOut||a.onPointerOut.call(a,e),R(k.current)},onContextMenu:e=>{null==a.onContextMenu||a.onContextMenu.call(a,e),k.current&&R(k.current)}})});t5.displayName="Drawer.Content";let t3=n.default.forwardRef(function({preventCycle:e=!1,children:t,...r},a){let{closeDrawer:l,isDragging:s,snapPoints:i,activeSnapPoint:o,setActiveSnapPoint:d,dismissible:c,handleOnly:u,isOpen:m,onPress:p,onDrag:h}=tR(),x=n.default.useRef(null),g=n.default.useRef(!1);function f(){x.current&&window.clearTimeout(x.current),g.current=!1}return n.default.createElement("div",{onClick:function(){g.current?f():window.setTimeout(()=>{!function(){if(s||e||g.current)return f();if(f(),!i||0===i.length){c||l();return}if(o===i[i.length-1]&&c)return l();let t=i.findIndex(e=>e===o);-1===t||d(i[t+1])}()},120)},onPointerCancel:f,onPointerDown:e=>{u&&p(e),x.current=window.setTimeout(()=>{g.current=!0},250)},onPointerMove:e=>{u&&h(e)},ref:a,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},n.default.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});t3.displayName="Drawer.Handle";let t4={Root:t0,NestedRoot:function({onDrag:e,onOpenChange:t,open:r,...a}){let{onNestedDrag:l,onNestedOpenChange:s,onNestedRelease:i}=tR();if(!l)throw Error("Drawer.NestedRoot must be placed in another drawer");return n.default.createElement(t0,{nested:!0,open:r,onClose:()=>{s(!1)},onDrag:(t,r)=>{l(t,r),null==e||e(t,r)},onOpenChange:e=>{e&&s(e),null==t||t(e)},onRelease:i,...a})},Content:t5,Overlay:t1,Trigger:eX.Trigger,Portal:function(e){let t=tR(),{container:r=t.container,...a}=e;return n.default.createElement(eX.Portal,{container:r,...a})},Handle:t3,Close:eX.Close,Title:eX.Title,Description:eX.Description};function t2({...e}){return(0,a.jsx)(t4.Root,{"data-slot":"drawer",...e})}function t7({...e}){return(0,a.jsx)(t4.Portal,{"data-slot":"drawer-portal",...e})}function t9({className:e,...t}){return(0,a.jsx)(t4.Overlay,{"data-slot":"drawer-overlay",className:(0,A.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function t8({className:e,children:t,...r}){return(0,a.jsxs)(t7,{"data-slot":"drawer-portal",children:[(0,a.jsx)(t9,{}),(0,a.jsxs)(t4.Content,{"data-slot":"drawer-content",className:(0,A.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...r,children:[(0,a.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function t6({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"drawer-footer",className:(0,A.cn)("mt-auto flex flex-col gap-2 p-4",e),...t})}function re({className:e,...t}){return(0,a.jsx)(t4.Title,{"data-slot":"drawer-title",className:(0,A.cn)("text-foreground font-semibold",e),...t})}var rt=e.i(7308),rr=e.i(67692);function ra({children:e,...t}){return(0,a.jsx)("span",{style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},...t,children:e})}var rn=e.i(55900),rl=e.i(87130);let rs=(0,eC.default)("hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);var ri=e.i(73264),ro=e.i(58524),rd=e.i(44757),rd=rd,rc=e.i(16715);let ru=(0,eC.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var rm=e.i(43302),rp=e.i(70273),rh=e.i(24274),rh=rh,rx=e.i(53224);let rg=(0,eC.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),rf=function(){let e=(0,B.useTranslations)("home.important");return(0,a.jsx)("div",{className:"mt-6 rounded-xl border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 dark:border-amber-800/50 dark:from-amber-950/40 dark:to-orange-950/30",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/50",children:(0,a.jsx)(rg,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-amber-900 dark:text-amber-200",children:e("title")}),(0,a.jsx)("p",{className:"mt-1 text-sm text-amber-800/80 dark:text-amber-300/80 leading-relaxed",children:e("description")})]})]})})},rv="location-tip-dismissed";function rb(){let e=(0,B.useTranslations)("locationTip"),{userLocation:t}=(0,er.useUserLocation)(),[r,l]=n.useState(!0);return(n.useEffect(()=>{l("true"===localStorage.getItem(rv))},[]),t||r)?null:(0,a.jsxs)("div",{className:"mb-4 relative overflow-hidden rounded-xl border border-ship-cove-200 bg-gradient-to-r from-ship-cove-50 to-blue-50 dark:border-ship-cove-800/50 dark:from-ship-cove-950/40 dark:to-blue-950/30",children:[(0,a.jsx)("div",{className:"p-4 pr-12",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-ship-cove-100 dark:bg-ship-cove-900/50",children:(0,a.jsx)(ea.MapPin,{className:"h-5 w-5 text-ship-cove-600 dark:text-ship-cove-400"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-ship-cove-900 dark:text-ship-cove-200",children:e("title")}),(0,a.jsx)("p",{className:"mt-1 text-sm text-ship-cove-700/80 dark:text-ship-cove-300/80 leading-relaxed",children:e("description")})]})]})}),(0,a.jsx)("button",{onClick:()=>{localStorage.setItem(rv,"true"),l(!0)},className:"absolute top-3 right-3 p-1.5 rounded-md text-ship-cove-400 hover:text-ship-cove-600 hover:bg-ship-cove-100 dark:text-ship-cove-500 dark:hover:text-ship-cove-300 dark:hover:bg-ship-cove-900/50 transition-colors",title:e("dismiss"),children:(0,a.jsx)(eB.X,{className:"h-4 w-4"})})]})}e.i(47167);var rj=e.i(57428),rw=e.i(10204),ry=e.i(77572);function rN({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,A.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var rC=e.i(63209),rk=e.i(95468),rS=e.i(31278);let rT=(0,eC.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),rR="https://api.radioamador.info".replace(/\/$/,""),rF={type:"new",existingCallsign:"",callsign:"",modes:[],outputFrequency:"",inputFrequency:"",tone:"",fmBandwidth:"",latitude:"",longitude:"",address:"",dmrColorCode:"",dmrId:"",dmrNetwork:"",dstarModule:"",dstarReflector:"",c4fmNetwork:"",c4fmNode:"",c4fmRoom:"",echolinkEnabled:!1,echolinkNodeNumber:"",echolinkConference:"",allstarEnabled:!1,allstarNodeNumber:"",power:"",antennaHeight:"",coverage:"",operatingHours:"",notes:"",website:"",owner:"",submitterEmail:"",submitterCallsign:"",honeypot:""},rD=[{value:"FM",label:"FM"},{value:"DMR",label:"DMR"},{value:"DSTAR",label:"D-STAR"},{value:"C4FM",label:"C4FM / Fusion"},{value:"TETRA",label:"TETRA"},{value:"Digipeater",label:"Digipeater"}];function rA({repeaters:e=[]}){let t=(0,B.useTranslations)("repeaterSubmit"),[r,l]=n.useState(!1),[s,i]=n.useState("basic"),[o,d]=n.useState(!1),[c,u]=n.useState("idle"),[m,p]=n.useState(""),[h,x]=n.useState({}),[g,f]=n.useState(!1),[v,b]=n.useState(null),[j,w]=n.useState(rF),y=()=>{w(rF),x({}),u("idle"),p(""),b(null),i("basic")},N=n.useCallback(e=>{let t=(0,ec.getPrimaryFrequency)(e);w(r=>({...r,callsign:e.callsign,modes:e.modes||[],outputFrequency:t?.outputFrequency?.toString()||"",inputFrequency:t?.inputFrequency?.toString()||"",tone:t?.tone?t.tone.toString():"",latitude:e.latitude?.toString()||"",longitude:e.longitude?.toString()||"",address:e.address||"",owner:e.owner||"",dmrColorCode:e.dmr?.colorCode?.toString()||"",dmrId:e.dmr?.dmrId?.toString()||"",dmrNetwork:e.dmr?.network||"",dstarModule:e.dstar?.module||"",dstarReflector:e.dstar?.reflector||"",c4fmNetwork:e.c4fm?.network||"",c4fmNode:e.c4fm?.node||"",c4fmRoom:e.c4fm?.room||"",echolinkEnabled:e.echolink?.enabled||!1,echolinkNodeNumber:e.echolink?.nodeNumber?.toString()||"",echolinkConference:e.echolink?.conference||"",allstarEnabled:!!e.allstarNode,allstarNodeNumber:e.allstarNode?.toString()||"",power:e.power?.toString()||"",antennaHeight:e.antennaHeight?.toString()||"",coverage:e.coverage||"",operatingHours:e.operatingHours||"",notes:e.notes||"",website:e.website||""})),b(e)},[]);n.useEffect(()=>{if("new"===j.type||!j.existingCallsign.trim())return void b(null);let t=j.existingCallsign.trim().toUpperCase(),r=e.find(e=>e.callsign.toUpperCase()===t);r?N(r):b(null)},[j.existingCallsign,j.type,e,N]);let C=async e=>{if(e.preventDefault(),(()=>{let e={};(!j.callsign.trim()||j.callsign.trim().length<3)&&(e.callsign=t("errors.callsignRequired")),0===j.modes.length&&(e.modes=t("errors.modesRequired"));let r=parseFloat(j.outputFrequency);(isNaN(r)||r<=0)&&(e.outputFrequency=t("errors.outputFrequencyRequired"));let a=parseFloat(j.inputFrequency);(isNaN(a)||a<=0)&&(e.inputFrequency=t("errors.inputFrequencyRequired"));let n=parseFloat(j.latitude);(isNaN(n)||n<-90||n>90)&&(e.latitude=t("errors.latitudeRequired"));let l=parseFloat(j.longitude);if((isNaN(l)||l<-180||l>180)&&(e.longitude=t("errors.longitudeRequired")),j.tone){let r=parseFloat(j.tone);(isNaN(r)||r<=0)&&(e.tone=t("errors.invalidTone"))}if("correction"!==j.type||j.existingCallsign.trim()||(e.existingCallsign=t("errors.existingCallsignRequired")),j.submitterEmail&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.submitterEmail)||(e.submitterEmail=t("errors.invalidEmail"))),j.website)try{new URL(j.website)}catch{e.website=t("errors.invalidUrl")}if(j.modes.includes("DMR")&&j.dmrColorCode){let r=parseInt(j.dmrColorCode);(isNaN(r)||r<1||r>15)&&(e.dmrColorCode=t("errors.invalidColorCode"))}return x(e),0===Object.keys(e).length})()){d(!0),u("idle");try{let e={type:j.type,existingCallsign:"new"!==j.type?j.existingCallsign.trim():void 0,callsign:j.callsign.trim(),modes:j.modes,outputFrequency:parseFloat(j.outputFrequency),inputFrequency:parseFloat(j.inputFrequency),tone:j.tone?parseFloat(j.tone):void 0,fmBandwidth:j.fmBandwidth||void 0,latitude:parseFloat(j.latitude),longitude:parseFloat(j.longitude),address:j.address.trim()||void 0,owner:j.owner.trim()||void 0,notes:j.notes.trim()||void 0,website:j.website.trim()||void 0,power:j.power?parseFloat(j.power):void 0,antennaHeight:j.antennaHeight?parseFloat(j.antennaHeight):void 0,coverage:j.coverage||void 0,operatingHours:j.operatingHours.trim()||void 0,submitterEmail:j.submitterEmail.trim()||void 0,submitterCallsign:j.submitterCallsign.trim()||void 0,honeypot:j.honeypot};j.modes.includes("DMR")&&(j.dmrColorCode||j.dmrId||j.dmrNetwork)&&(e.dmrConfig={colorCode:j.dmrColorCode?parseInt(j.dmrColorCode):void 0,dmrId:j.dmrId?parseInt(j.dmrId):void 0,network:j.dmrNetwork||void 0}),j.modes.includes("DSTAR")&&(j.dstarModule||j.dstarReflector)&&(e.dstarConfig={module:j.dstarModule||void 0,reflector:j.dstarReflector||void 0}),j.modes.includes("C4FM")&&(j.c4fmNetwork||j.c4fmNode||j.c4fmRoom)&&(e.c4fmConfig={network:j.c4fmNetwork||void 0,node:j.c4fmNode||void 0,room:j.c4fmRoom||void 0}),j.echolinkEnabled&&(e.echolinkConfig={enabled:!0,nodeNumber:j.echolinkNodeNumber?parseInt(j.echolinkNodeNumber):void 0,conference:j.echolinkConference||void 0}),j.allstarEnabled&&j.allstarNodeNumber&&(e.allstarConfig={enabled:!0,nodeNumber:parseInt(j.allstarNodeNumber)});let r=await fetch(`${rR}/api/repeaters/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok){if(429===r.status)throw Error(t("errors.rateLimit"));throw Error(a.error||t("errors.unknown"))}u("success"),setTimeout(()=>{l(!1)},2e3)}catch(e){u("error"),p(e instanceof Error?e.message:t("errors.unknown"))}finally{d(!1)}}},k=(e,t)=>{w(r=>({...r,[e]:t})),h[e]&&x(t=>({...t,[e]:void 0}))},S=j.modes.includes("DMR"),T=j.modes.includes("DSTAR"),R=j.modes.includes("C4FM"),F=j.modes.includes("FM");return(0,a.jsxs)(e$.Dialog,{open:r,onOpenChange:e=>{l(e),e||setTimeout(y,200)},children:[(0,a.jsx)(e$.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(es.Button,{variant:"outline",size:"sm",className:"gap-2",children:[(0,a.jsx)(rT,{className:"h-4 w-4"}),t("button")]})}),(0,a.jsxs)(e$.DialogContent,{className:"sm:max-w-[650px] h-[80vh] max-h-[700px] flex flex-col overflow-hidden",children:[(0,a.jsxs)(e$.DialogHeader,{className:"flex-shrink-0",children:[(0,a.jsx)(e$.DialogTitle,{children:t("title")}),(0,a.jsx)(e$.DialogDescription,{children:t("description")})]}),"success"===c?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 gap-4 flex-1",children:[(0,a.jsx)(rk.CheckCircle2,{className:"h-12 w-12 text-green-500"}),(0,a.jsx)("p",{className:"text-center font-medium",children:t("successMessage")})]}):(0,a.jsxs)("form",{onSubmit:C,className:"flex flex-col flex-1 min-h-0",children:[(0,a.jsx)("input",{type:"text",name:"website",value:j.honeypot,onChange:e=>k("honeypot",e.target.value),tabIndex:-1,autoComplete:"off",style:{position:"absolute",left:"-9999px"},"aria-hidden":"true"}),(0,a.jsxs)(ry.Tabs,{value:s,onValueChange:i,className:"flex flex-col flex-1 min-h-0",children:[(0,a.jsxs)(ry.TabsList,{className:"grid w-full grid-cols-6 mb-4 flex-shrink-0",children:[(0,a.jsx)(ry.TabsTrigger,{value:"basic",className:"text-xs px-1",children:t("tabs.basic")}),(0,a.jsx)(ry.TabsTrigger,{value:"frequency",className:"text-xs px-1",children:t("tabs.frequency")}),(0,a.jsx)(ry.TabsTrigger,{value:"location",className:"text-xs px-1",children:t("tabs.location")}),(0,a.jsx)(ry.TabsTrigger,{value:"digital",className:"text-xs px-1",children:t("tabs.digital")}),(0,a.jsx)(ry.TabsTrigger,{value:"technical",className:"text-xs px-1",children:t("tabs.technical")}),(0,a.jsx)(ry.TabsTrigger,{value:"contact",className:"text-xs px-1",children:t("tabs.contact")})]}),(0,a.jsxs)(ry.TabsContent,{value:"basic",className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"type",children:t("fields.type")}),(0,a.jsxs)(tC.Select,{value:j.type,onValueChange:e=>k("type",e),children:[(0,a.jsx)(tC.SelectTrigger,{id:"type",children:(0,a.jsx)(tC.SelectValue,{})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"new",children:t("types.new")}),(0,a.jsx)(tC.SelectItem,{value:"correction",children:t("types.correction")})]})]})]}),"correction"===j.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(rw.Label,{htmlFor:"existingCallsign",children:[t("fields.existingCallsign")," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(tg.Input,{id:"existingCallsign",value:j.existingCallsign,onChange:e=>k("existingCallsign",e.target.value.toUpperCase()),placeholder:t("placeholders.existingCallsign"),"aria-invalid":!!h.existingCallsign,className:v?"pr-8 border-green-500 focus-visible:ring-green-500":""}),v&&(0,a.jsx)(rk.CheckCircle2,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500"})]}),v&&(0,a.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[(0,a.jsx)(rk.CheckCircle2,{className:"h-3 w-3"})," ",t("repeaterFound")]}),h.existingCallsign&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.existingCallsign]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(rw.Label,{htmlFor:"callsign",children:[t("fields.callsign")," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(tg.Input,{id:"callsign",value:j.callsign,onChange:e=>k("callsign",e.target.value.toUpperCase()),placeholder:t("placeholders.callsign"),"aria-invalid":!!h.callsign}),h.callsign&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.callsign]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(rw.Label,{children:[t("fields.modes")," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:rD.map(({value:e,label:t})=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(rj.Checkbox,{id:`mode-${e}`,checked:j.modes.includes(e),onCheckedChange:()=>{w(t=>({...t,modes:t.modes.includes(e)?t.modes.filter(t=>t!==e):[...t.modes,e]})),h.modes&&x(e=>({...e,modes:void 0}))}}),(0,a.jsx)(rw.Label,{htmlFor:`mode-${e}`,className:"text-sm font-normal cursor-pointer",children:t})]},e))}),h.modes&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.modes]})]})]}),(0,a.jsxs)(ry.TabsContent,{value:"frequency",className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(rw.Label,{htmlFor:"outputFrequency",children:[t("fields.outputFrequency")," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(tg.Input,{id:"outputFrequency",type:"number",step:"0.0001",value:j.outputFrequency,onChange:e=>k("outputFrequency",e.target.value),placeholder:t("placeholders.outputFrequency"),"aria-invalid":!!h.outputFrequency}),h.outputFrequency&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.outputFrequency]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(rw.Label,{htmlFor:"inputFrequency",children:[t("fields.inputFrequency")," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(tg.Input,{id:"inputFrequency",type:"number",step:"0.0001",value:j.inputFrequency,onChange:e=>k("inputFrequency",e.target.value),placeholder:t("placeholders.inputFrequency"),"aria-invalid":!!h.inputFrequency}),h.inputFrequency&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.inputFrequency]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"tone",children:t("fields.tone")}),(0,a.jsx)(tg.Input,{id:"tone",type:"number",step:"0.1",value:j.tone,onChange:e=>k("tone",e.target.value),placeholder:t("placeholders.tone"),"aria-invalid":!!h.tone}),h.tone&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.tone]})]}),F&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"fmBandwidth",children:t("fields.fmBandwidth")}),(0,a.jsxs)(tC.Select,{value:j.fmBandwidth,onValueChange:e=>k("fmBandwidth",e),children:[(0,a.jsx)(tC.SelectTrigger,{id:"fmBandwidth",children:(0,a.jsx)(tC.SelectValue,{placeholder:t("placeholders.select")})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"narrow",children:t("options.narrow")}),(0,a.jsx)(tC.SelectItem,{value:"wide",children:t("options.wide")})]})]})]})]})]}),(0,a.jsxs)(ry.TabsContent,{value:"location",className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(rw.Label,{children:[t("fields.coordinates")," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(es.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{navigator.geolocation&&(f(!0),navigator.geolocation.getCurrentPosition(e=>{w(t=>({...t,latitude:e.coords.latitude.toFixed(6),longitude:e.coords.longitude.toFixed(6)})),f(!1)},()=>{f(!1)},{enableHighAccuracy:!0,timeout:1e4}))},disabled:g,className:"h-7 text-xs",children:[g?(0,a.jsx)(rS.Loader2,{className:"h-3 w-3 mr-1 animate-spin"}):(0,a.jsx)(ea.MapPin,{className:"h-3 w-3 mr-1"}),t("useLocation")]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(tg.Input,{id:"latitude",type:"number",step:"0.000001",value:j.latitude,onChange:e=>k("latitude",e.target.value),placeholder:"38.7223","aria-invalid":!!h.latitude}),h.latitude&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1 mt-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.latitude]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(tg.Input,{id:"longitude",type:"number",step:"0.000001",value:j.longitude,onChange:e=>k("longitude",e.target.value),placeholder:"-9.1393","aria-invalid":!!h.longitude}),h.longitude&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1 mt-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.longitude]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"address",children:t("fields.address")}),(0,a.jsx)(rN,{id:"address",value:j.address,onChange:e=>k("address",e.target.value),placeholder:t("placeholders.address"),rows:2})]})]}),(0,a.jsxs)(ry.TabsContent,{value:"digital",className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[S&&(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"DMR"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"dmrColorCode",className:"text-xs",children:t("fields.dmrColorCode")}),(0,a.jsx)(tg.Input,{id:"dmrColorCode",type:"number",min:"1",max:"15",value:j.dmrColorCode,onChange:e=>k("dmrColorCode",e.target.value),placeholder:"1-15","aria-invalid":!!h.dmrColorCode})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"dmrId",className:"text-xs",children:t("fields.dmrId")}),(0,a.jsx)(tg.Input,{id:"dmrId",type:"number",value:j.dmrId,onChange:e=>k("dmrId",e.target.value),placeholder:"DMR ID"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"dmrNetwork",className:"text-xs",children:t("fields.dmrNetwork")}),(0,a.jsx)(tg.Input,{id:"dmrNetwork",value:j.dmrNetwork,onChange:e=>k("dmrNetwork",e.target.value),placeholder:"Brandmeister..."})]})]}),h.dmrColorCode&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.dmrColorCode]})]}),T&&(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"D-STAR"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"dstarModule",className:"text-xs",children:t("fields.dstarModule")}),(0,a.jsxs)(tC.Select,{value:j.dstarModule,onValueChange:e=>k("dstarModule",e),children:[(0,a.jsx)(tC.SelectTrigger,{id:"dstarModule",children:(0,a.jsx)(tC.SelectValue,{placeholder:t("placeholders.select")})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"A",children:"A (23cm)"}),(0,a.jsx)(tC.SelectItem,{value:"B",children:"B (70cm)"}),(0,a.jsx)(tC.SelectItem,{value:"C",children:"C (2m)"}),(0,a.jsx)(tC.SelectItem,{value:"D",children:"D (Data)"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"dstarReflector",className:"text-xs",children:t("fields.dstarReflector")}),(0,a.jsx)(tg.Input,{id:"dstarReflector",value:j.dstarReflector,onChange:e=>k("dstarReflector",e.target.value),placeholder:"REF001, XLX268..."})]})]})]}),R&&(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"C4FM / Fusion"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"c4fmNetwork",className:"text-xs",children:t("fields.c4fmNetwork")}),(0,a.jsxs)(tC.Select,{value:j.c4fmNetwork,onValueChange:e=>k("c4fmNetwork",e),children:[(0,a.jsx)(tC.SelectTrigger,{id:"c4fmNetwork",children:(0,a.jsx)(tC.SelectValue,{placeholder:t("placeholders.select")})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"wires-x",children:"Wires-X"}),(0,a.jsx)(tC.SelectItem,{value:"ysf",children:"YSF"}),(0,a.jsx)(tC.SelectItem,{value:"other",children:t("options.other")})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"c4fmNode",className:"text-xs",children:t("fields.c4fmNode")}),(0,a.jsx)(tg.Input,{id:"c4fmNode",value:j.c4fmNode,onChange:e=>k("c4fmNode",e.target.value),placeholder:"Node"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"c4fmRoom",className:"text-xs",children:t("fields.c4fmRoom")}),(0,a.jsx)(tg.Input,{id:"c4fmRoom",value:j.c4fmRoom,onChange:e=>k("c4fmRoom",e.target.value),placeholder:"Room"})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(rj.Checkbox,{id:"echolinkEnabled",checked:j.echolinkEnabled,onCheckedChange:e=>k("echolinkEnabled",!0===e)}),(0,a.jsx)(rw.Label,{htmlFor:"echolinkEnabled",className:"font-medium text-sm cursor-pointer",children:"EchoLink"})]}),j.echolinkEnabled&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"echolinkNodeNumber",className:"text-xs",children:t("fields.echolinkNode")}),(0,a.jsx)(tg.Input,{id:"echolinkNodeNumber",type:"number",value:j.echolinkNodeNumber,onChange:e=>k("echolinkNodeNumber",e.target.value),placeholder:"Node number"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"echolinkConference",className:"text-xs",children:t("fields.echolinkConference")}),(0,a.jsx)(tg.Input,{id:"echolinkConference",value:j.echolinkConference,onChange:e=>k("echolinkConference",e.target.value),placeholder:"*PORTUGAL*..."})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(rj.Checkbox,{id:"allstarEnabled",checked:j.allstarEnabled,onCheckedChange:e=>k("allstarEnabled",!0===e)}),(0,a.jsx)(rw.Label,{htmlFor:"allstarEnabled",className:"font-medium text-sm cursor-pointer",children:"AllStar"})]}),j.allstarEnabled&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(rw.Label,{htmlFor:"allstarNodeNumber",className:"text-xs",children:t("fields.allstarNode")}),(0,a.jsx)(tg.Input,{id:"allstarNodeNumber",type:"number",value:j.allstarNodeNumber,onChange:e=>k("allstarNodeNumber",e.target.value),placeholder:"Node number"})]})]}),!S&&!T&&!R&&!j.echolinkEnabled&&!j.allstarEnabled&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:t("noDigitalModes")})]}),(0,a.jsxs)(ry.TabsContent,{value:"technical",className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"power",children:t("fields.power")}),(0,a.jsx)(tg.Input,{id:"power",type:"number",value:j.power,onChange:e=>k("power",e.target.value),placeholder:"W"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"antennaHeight",children:t("fields.antennaHeight")}),(0,a.jsx)(tg.Input,{id:"antennaHeight",type:"number",value:j.antennaHeight,onChange:e=>k("antennaHeight",e.target.value),placeholder:"m AGL"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"coverage",children:t("fields.coverage")}),(0,a.jsxs)(tC.Select,{value:j.coverage,onValueChange:e=>k("coverage",e),children:[(0,a.jsx)(tC.SelectTrigger,{id:"coverage",children:(0,a.jsx)(tC.SelectValue,{placeholder:t("placeholders.select")})}),(0,a.jsxs)(tC.SelectContent,{children:[(0,a.jsx)(tC.SelectItem,{value:"local",children:t("options.local")}),(0,a.jsx)(tC.SelectItem,{value:"regional",children:t("options.regional")}),(0,a.jsx)(tC.SelectItem,{value:"wide",children:t("options.wide")})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"operatingHours",children:t("fields.operatingHours")}),(0,a.jsx)(tg.Input,{id:"operatingHours",value:j.operatingHours,onChange:e=>k("operatingHours",e.target.value),placeholder:t("placeholders.operatingHours")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"website",children:t("fields.website")}),(0,a.jsx)(tg.Input,{id:"website",type:"url",value:j.website,onChange:e=>k("website",e.target.value),placeholder:"https://...","aria-invalid":!!h.website}),h.website&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.website]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"notes",children:t("fields.notes")}),(0,a.jsx)(rN,{id:"notes",value:j.notes,onChange:e=>k("notes",e.target.value),placeholder:t("placeholders.notes"),rows:3})]})]}),(0,a.jsxs)(ry.TabsContent,{value:"contact",className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"owner",children:t("fields.owner")}),(0,a.jsx)(tg.Input,{id:"owner",value:j.owner,onChange:e=>k("owner",e.target.value),placeholder:t("placeholders.owner")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"submitterEmail",children:t("fields.email")}),(0,a.jsx)(tg.Input,{id:"submitterEmail",type:"email",value:j.submitterEmail,onChange:e=>k("submitterEmail",e.target.value),placeholder:t("placeholders.email"),"aria-invalid":!!h.submitterEmail}),h.submitterEmail&&(0,a.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-3 w-3"})," ",h.submitterEmail]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(rw.Label,{htmlFor:"submitterCallsign",children:t("fields.submitterCallsign")}),(0,a.jsx)(tg.Input,{id:"submitterCallsign",value:j.submitterCallsign,onChange:e=>k("submitterCallsign",e.target.value.toUpperCase()),placeholder:t("placeholders.submitterCallsign")})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t("emailNote")})]})]}),"error"===c&&(0,a.jsxs)("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive flex items-center gap-2 mt-4 flex-shrink-0",children:[(0,a.jsx)(rC.AlertCircle,{className:"h-4 w-4 shrink-0"}),m]}),(0,a.jsxs)(e$.DialogFooter,{className:"pt-4 mt-4 border-t flex-shrink-0",children:[(0,a.jsx)(es.Button,{type:"button",variant:"outline",onClick:()=>l(!1),children:t("cancel")}),(0,a.jsx)(es.Button,{type:"submit",disabled:o,children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rS.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),t("submitting")]}):t("submit")})]})]})]})]})}function rL({isActive:e,onClick:t,label:r,activeClass:n="bg-primary text-primary-foreground shadow-sm border-primary"}){return(0,a.jsx)("button",{onClick:t,className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium transition-all border whitespace-nowrap ${e?n:"bg-background hover:bg-muted text-muted-foreground border-border hover:border-muted-foreground/30"}`,children:r})}function rM({view:e}){let t,r,l=(0,B.useTranslations)(),{repeaters:s,isRefreshing:i,fetchError:o,refreshRepeaters:d}=(0,rx.useRepeaters)(),{userLocation:c}=(0,er.useUserLocation)(),u=function(e={}){let{userLocation:t,onFavoriteToggle:r}=e,n=(0,B.useTranslations)("table.columns");return[{id:"favorite",header:(0,B.useTranslations)("favorites")("column"),cell:({row:e})=>{let t=e.original;return(0,a.jsx)(J,{callsign:t.callsign,onToggle:r})},enableSorting:!1,enableColumnFilter:!0,filterFn:(e,t,r)=>{if(!r)return!0;let a=e.original;return(0,I.isFavorite)(a.callsign)},size:36,minSize:32,maxSize:48},{id:"status",header:n("status"),cell:({row:e})=>{let t=e.original;return(0,a.jsx)(Y,{repeaterId:t.callsign})},enableSorting:!1,enableColumnFilter:!0,filterFn:(e,t,r)=>{if(!r)return!0;let a=e.original,n=_.get(a.callsign),l=n?.category??"unknown";return"bad"===r&&"offline"===a.status||l===r},size:36,minSize:32,maxSize:48},{id:"opStatus",header:n("opStatus.header"),accessorKey:"status",cell:({row:e})=>{let t=e.original;return(0,a.jsx)(Q,{status:t.status})},enableSorting:!1,enableColumnFilter:!0,filterFn:(e,t,r)=>{if(!r)return!0;let a=e.original;return Array.isArray(r)?r.includes(a.status??"unknown"):a.status===r},size:36,minSize:32,maxSize:48},...t?[{id:"distance",header:n("distance"),accessorFn:e=>t?(0,E.calculateDistance)(t.latitude,t.longitude,e.latitude,e.longitude):1/0,cell:({getValue:e})=>{let t=e();return t===1/0?"—":(0,E.formatDistance)(t)},sortingFn:"basic",enableColumnFilter:!1}]:[],{accessorKey:"callsign",header:n("callsign")},{id:"band",header:n("band"),accessorFn:e=>{var t;let r=V(e);return r?(t=r.outputFrequency)>=430&&t<=450?"70cm":t>=144&&t<=148?"2m":t>=50&&t<=54?"6m":t>=1240&&t<=1300?"23cm":t>=2300&&t<=2450?"13cm":"Other":"Other"},filterFn:(e,t,r)=>!r||e.getValue(t)===r,enableSorting:!1},{id:"outputFrequency",header:n("outputFrequency"),accessorFn:e=>{let t=V(e);return t?.outputFrequency??0},cell:({getValue:e})=>{let t=e();return t?t.toFixed(3):""},filterFn:(e,t,r)=>{if(!r)return!0;let a=e.getValue(t);if(null==a)return!1;let n=a.toFixed(3),l=a.toString();return n.includes(r)||l.includes(r)}},{id:"inputFrequency",header:n("inputFrequency"),accessorFn:e=>{let t=V(e);return t?.inputFrequency??0},cell:({getValue:e})=>{let t=e();return t?t.toFixed(3):""},filterFn:(e,t,r)=>{if(!r)return!0;let a=e.getValue(t);if(null==a)return!1;let n=a.toFixed(3),l=a.toString();return n.includes(r)||l.includes(r)}},{id:"tone",header:n("tone"),accessorFn:e=>{let t=V(e);return t?.tone??0},cell:({getValue:e})=>{let t=e();return t?t.toFixed(1):""},filterFn:(e,t,r)=>{if(!r)return!0;let a=e.getValue(t);if(null==a||0===a)return!1;let n=a.toFixed(1),l=a.toString();return n.includes(r)||l.includes(r)}},{id:"modes",header:n("modulation"),accessorFn:e=>e.modes.join(", "),cell:({row:e})=>{let t=e.original;return(0,a.jsx)(X,{modes:t.modes})},filterFn:(e,t,r)=>{if(!r)return!0;let a=e.original,n=a.modes||[];if(Array.isArray(r))return r.some(e=>{let t=String(e).toUpperCase();return"D-STAR"===t?n.includes("DSTAR"):"ECHOLINK"===t?a.echolink?.enabled===!0:"ALLSTAR"===t?null!=a.allstarNode:n.includes(t)});let l=String(r).toUpperCase();return"D-STAR"===l?n.includes("DSTAR"):"ECHOLINK"===l?a.echolink?.enabled===!0:"ALLSTAR"===l?null!=a.allstarNode:n.includes(l)}},{accessorKey:"latitude",header:n("latitude")},{accessorKey:"longitude",header:n("longitude")},{id:"qthLocator",accessorKey:"qthLocator",header:n("qthLocator"),filterFn:(e,t,r)=>{if(!r)return!0;let a=String(r).toLowerCase();return String(e.getValue(t)??"").toLowerCase().includes(a)}},{accessorKey:"owner",header:n("owner"),cell:({row:e})=>{let t=e.original;if(t.association)return(0,a.jsx)(H.default,{href:`/association/${t.association.slug}/`,className:"text-primary hover:underline",onClick:e=>e.stopPropagation(),children:t.association.abbreviation});let r=String(t.owner??""),n=U(r);return r?n===r?(0,a.jsx)("span",{children:r}):(0,a.jsxs)(j,{children:[(0,a.jsx)(y,{asChild:!0,children:(0,a.jsx)("span",{className:"cursor-help underline decoration-dotted",children:n})}),(0,a.jsx)(L,{children:(0,a.jsx)("div",{className:"text-sm",children:r})})]}):null},filterFn:(e,t,r)=>{if(!r)return!0;let a=String(r).toLowerCase(),n=e.original;if(n.association&&(n.association.abbreviation.toLowerCase().includes(a)||n.association.name.toLowerCase().includes(a)))return!0;let l=String(e.getValue(t)??""),s=U(l);return l.toLowerCase().includes(a)||s.toLowerCase().includes(a)}}]}({userLocation:c}),[m,p]=n.useState([]),[h,x]=n.useState(!1),[g,f]=n.useState(null),[v,b]=n.useState(null),[w,N]=n.useState(!1),C=n.useMemo(()=>{let e=0;return m.find(e=>"callsign"===e.id)?.value&&e++,m.find(e=>"band"===e.id)?.value&&e++,m.find(e=>"owner"===e.id)?.value&&e++,m.find(e=>"modes"===e.id)?.value?.length&&e++,m.find(e=>"qthLocator"===e.id)?.value&&e++,m.find(e=>"opStatus"===e.id)?.value&&e++,null!==v&&e++,e},[m,v]),k=n.useMemo(()=>{let e=new Set;return s.forEach(t=>t.modes?.forEach(t=>e.add("DSTAR"===t?"D-STAR":t))),Array.from(e).sort()},[s]),S=n.useMemo(()=>{let e=s,t=m.find(e=>"callsign"===e.id)?.value,r=m.find(e=>"band"===e.id)?.value,a=m.find(e=>"owner"===e.id)?.value,n=m.find(e=>"modes"===e.id)?.value,l=m.find(e=>"qthLocator"===e.id)?.value,i=m.find(e=>"opStatus"===e.id)?.value;if(t&&t.trim()){let r=t.trim().toLowerCase();e=e.filter(e=>e.callsign.toLowerCase().includes(r))}if(r&&(e=e.filter(e=>{var t;let a=e.frequencies&&0!==e.frequencies.length?e.frequencies.find(e=>e.isPrimary)||e.frequencies[0]:null;return!!a&&((t=a.outputFrequency)>=430&&t<=450?"70cm":t>=144&&t<=148?"2m":t>=50&&t<=54?"6m":t>=1240&&t<=1300?"23cm":t>=2300&&t<=2450?"13cm":"Other")===r})),a&&a.trim()){let t=a.trim().toLowerCase();e=e.filter(e=>{let r=e.owner??"";return r.toLowerCase().includes(t)||U(r).toLowerCase().includes(t)})}if(n&&n.length>0&&(e=e.filter(e=>n.some(t=>"EchoLink"===t?e.echolink?.enabled===!0:"AllStar"===t?null!=e.allstarNode:e.modes?.includes("D-STAR"===t?"DSTAR":t)))),l&&l.trim()){let t=l.trim().toLowerCase();e=e.filter(e=>e.qthLocator?.toLowerCase().includes(t))}return i&&(e=e.filter(e=>e.status===i)),c&&null!==v&&(e=e.filter(e=>(0,E.calculateDistance)(c.latitude,c.longitude,e.latitude,e.longitude)<=v)),e},[s,m,c,v]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rb,{}),(0,a.jsx)(eV.Card,{className:"w-full max-w-7xl",children:(0,a.jsxs)(eV.CardContent,{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-4",children:(0,a.jsxs)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[(0,a.jsxs)(H.default,{href:"/repetidores",className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${"table"===e?"bg-background text-foreground shadow-sm":"hover:bg-background/50"}`,children:[(0,a.jsx)(rh.default,{className:"h-4 w-4 mr-2"}),l("nav.table")]}),(0,a.jsxs)(H.default,{href:"/repetidores/mapa",className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${"map"===e?"bg-background text-foreground shadow-sm":"hover:bg-background/50"}`,children:[(0,a.jsx)(rd.default,{className:"h-4 w-4 mr-2"}),l("nav.map")]})]})}),"table"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 rounded-xl border bg-gradient-to-br from-muted/30 via-background to-muted/20 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-foreground tracking-tight",children:l("filters.quickFilters")}),m.find(e=>"modes"===e.id)?.value?.length?(0,a.jsxs)("button",{type:"button",onClick:()=>{p(e=>e.filter(e=>"modes"!==e.id))},className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-md transition-all",children:[(0,a.jsx)(eB.X,{className:"h-3 w-3"}),l("filters.clearModes")]}):null]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-8 gap-2",children:(r=(t=m.find(e=>"modes"===e.id)?.value||[]).length>0,[{mode:"ALL",label:"Todos",Icon:ri.LayoutGrid,desc:"Sem filtro",bg:"bg-slate-50 dark:bg-slate-950/40",hoverBg:"hover:bg-slate-100 dark:hover:bg-slate-900/50",border:"border-slate-200 dark:border-slate-800",activeBorder:"border-slate-500",text:"text-slate-700 dark:text-slate-300",iconColor:"text-slate-500",activeRing:"ring-slate-500/30",dot:"bg-slate-500"},{mode:"FM",label:"FM",Icon:el.Radio,desc:"Analógico",bg:"bg-blue-50 dark:bg-blue-950/40",hoverBg:"hover:bg-blue-100 dark:hover:bg-blue-900/50",border:"border-blue-200 dark:border-blue-800",activeBorder:"border-blue-500",text:"text-blue-700 dark:text-blue-300",iconColor:"text-blue-500",activeRing:"ring-blue-500/30",dot:"bg-blue-500"},{mode:"DMR",label:"DMR",Icon:rm.Signal,desc:"Digital",bg:"bg-purple-50 dark:bg-purple-950/40",hoverBg:"hover:bg-purple-100 dark:hover:bg-purple-900/50",border:"border-purple-200 dark:border-purple-800",activeBorder:"border-purple-500",text:"text-purple-700 dark:text-purple-300",iconColor:"text-purple-500",activeRing:"ring-purple-500/30",dot:"bg-purple-500"},{mode:"DSTAR",label:"D-STAR",Icon:rp.Star,desc:"Digital",bg:"bg-cyan-50 dark:bg-cyan-950/40",hoverBg:"hover:bg-cyan-100 dark:hover:bg-cyan-900/50",border:"border-cyan-200 dark:border-cyan-800",activeBorder:"border-cyan-500",text:"text-cyan-700 dark:text-cyan-300",iconColor:"text-cyan-500",activeRing:"ring-cyan-500/30",dot:"bg-cyan-500"},{mode:"C4FM",label:"C4FM",Icon:rs,desc:"Fusion",bg:"bg-rose-50 dark:bg-rose-950/40",hoverBg:"hover:bg-rose-100 dark:hover:bg-rose-900/50",border:"border-rose-200 dark:border-rose-800",activeBorder:"border-rose-500",text:"text-rose-700 dark:text-rose-300",iconColor:"text-rose-500",activeRing:"ring-rose-500/30",dot:"bg-rose-500"},{mode:"TETRA",label:"TETRA",Icon:ru,desc:"Digital",bg:"bg-amber-50 dark:bg-amber-950/40",hoverBg:"hover:bg-amber-100 dark:hover:bg-amber-900/50",border:"border-amber-200 dark:border-amber-800",activeBorder:"border-amber-500",text:"text-amber-700 dark:text-amber-300",iconColor:"text-amber-500",activeRing:"ring-amber-500/30",dot:"bg-amber-500"},{mode:"EchoLink",label:"EchoLink",Icon:ew.Globe,desc:"VoIP",bg:"bg-emerald-50 dark:bg-emerald-950/40",hoverBg:"hover:bg-emerald-100 dark:hover:bg-emerald-900/50",border:"border-emerald-200 dark:border-emerald-800",activeBorder:"border-emerald-500",text:"text-emerald-700 dark:text-emerald-300",iconColor:"text-emerald-500",activeRing:"ring-emerald-500/30",dot:"bg-emerald-500"},{mode:"AllStar",label:"AllStar",Icon:ro.Link2,desc:"Link",bg:"bg-orange-50 dark:bg-orange-950/40",hoverBg:"hover:bg-orange-100 dark:hover:bg-orange-900/50",border:"border-orange-200 dark:border-orange-800",activeBorder:"border-orange-500",text:"text-orange-700 dark:text-orange-300",iconColor:"text-orange-500",activeRing:"ring-orange-500/30",dot:"bg-orange-500"}].map(({mode:e,label:n,Icon:l,desc:s,bg:i,hoverBg:o,border:d,activeBorder:c,text:u,iconColor:m,activeRing:h,dot:x})=>{let g="DSTAR"===e?"D-STAR":e,f="ALL"===e?!r:t.includes(g),v="ALL"!==e&&r&&!f;return(0,a.jsxs)("button",{type:"button",onClick:()=>{"ALL"===e?p(e=>e.filter(e=>"modes"!==e.id)):p(e=>{let r=e.filter(e=>"modes"!==e.id);if(f){let e=t.filter(e=>e!==g);e.length>0&&r.push({id:"modes",value:e})}else r.push({id:"modes",value:[g]});return r})},className:`
                            group relative flex flex-col items-center justify-center p-3 rounded-lg border-2
                            transition-all duration-200 ease-out
                            ${i} ${o}
                            ${f?`${c} shadow-md ring-2 ${h} scale-[1.02]`:`${d} hover:scale-[1.01]`}
                            ${v?"opacity-50 saturate-50 hover:opacity-75 hover:saturate-75":""}
                          `,children:[f&&(0,a.jsx)("span",{className:`absolute top-1.5 right-1.5 w-2 h-2 rounded-full ${x} animate-pulse shadow-sm`}),(0,a.jsx)(l,{className:`h-6 w-6 mb-1 transition-transform duration-200 ${m} ${f?"scale-110":"group-hover:scale-105"}`}),(0,a.jsx)("span",{className:`text-sm font-semibold tracking-tight ${u}`,children:n}),(0,a.jsx)("span",{className:`text-[10px] uppercase tracking-wider ${u} opacity-60`,children:s})]},e)}))})]}),(0,a.jsx)(tS,{columns:u,data:s,columnFilters:m,onColumnFiltersChange:p,onRowClick:e=>{f(e),x(!0)},isLoading:!1,leftActions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(es.Button,{variant:m.find(e=>"favorite"===e.id)?.value?"default":"outline",size:"sm",onClick:()=>{p(e=>e.find(e=>"favorite"===e.id)?e.filter(e=>"favorite"!==e.id):[...e,{id:"favorite",value:!0}])},children:[(0,a.jsx)(O.Heart,{className:"mr-2 h-4 w-4"}),l(m.find(e=>"favorite"===e.id)?.value?"favorites.showAll":"favorites.showOnly")]}),(0,a.jsx)(rA,{repeaters:s}),(0,a.jsx)(es.Button,{variant:"outline",size:"sm",onClick:d,disabled:i,title:"Refresh repeaters",children:(0,a.jsx)(rc.RefreshCw,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})})]}),"map"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(rt.Collapsible,{open:w,onOpenChange:N,className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)(eH,{repeaters:s,value:m.find(e=>"callsign"===e.id)?.value??"",onChange:e=>{p(t=>{let r=t.filter(e=>"callsign"!==e.id);return e&&r.push({id:"callsign",value:e}),r})},onSelect:e=>{f(e),x(!0)},className:"w-full",placeholder:l("filters.callsign")})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(rt.CollapsibleTrigger,{asChild:!0,children:(0,a.jsxs)(es.Button,{variant:C>0?"default":"outline",className:"h-10 gap-2",children:[(0,a.jsx)(rl.Filter,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:l("filters.filter")}),C>0&&(0,a.jsx)(eT.Badge,{variant:"secondary",className:"h-5 min-w-5 px-1.5 text-xs bg-background/20",children:C}),w?(0,a.jsx)(rn.ChevronUp,{className:"h-4 w-4"}):(0,a.jsx)(eW.ChevronDown,{className:"h-4 w-4"})]})}),(0,a.jsx)(es.Button,{variant:"outline",size:"icon",onClick:d,disabled:i,className:"h-10 w-10",children:(0,a.jsx)(rc.RefreshCw,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})]}),(0,a.jsx)(rt.CollapsibleContent,{children:(0,a.jsxs)("div",{className:"pt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2.5",children:[(0,a.jsx)(el.Radio,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:l("filters.band")})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[(0,a.jsx)(rL,{isActive:!m.find(e=>"band"===e.id)?.value,onClick:()=>{p(e=>e.filter(e=>"band"!==e.id))},label:l("filters.all")}),(0,a.jsx)(rL,{isActive:m.find(e=>"band"===e.id)?.value==="2m",onClick:()=>{p(e=>{let t=e.filter(e=>"band"!==e.id);return t.push({id:"band",value:"2m"}),t})},label:l("filters.2m"),activeClass:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300 border-emerald-300 dark:border-emerald-700"}),(0,a.jsx)(rL,{isActive:m.find(e=>"band"===e.id)?.value==="70cm",onClick:()=>{p(e=>{let t=e.filter(e=>"band"!==e.id);return t.push({id:"band",value:"70cm"}),t})},label:l("filters.70cm"),activeClass:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300 border-violet-300 dark:border-violet-700"})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2.5",children:[(0,a.jsx)(rm.Signal,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:l("filters.modulation")})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:k.map(e=>{let t=(m.find(e=>"modes"===e.id)?.value||[]).includes(e),r=function(e){switch(e.toUpperCase()){case"FM":return"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 border-blue-300 dark:border-blue-700";case"DMR":return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300 border-purple-300 dark:border-purple-700";case"DSTAR":case"D-STAR":return"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-300 border-cyan-300 dark:border-cyan-700";case"C4FM":return"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300 border-rose-300 dark:border-rose-700";case"TETRA":return"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300 border-amber-300 dark:border-amber-700";case"ECHOLINK":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300 border-emerald-300 dark:border-emerald-700";case"ALLSTAR":return"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 border-orange-300 dark:border-orange-700";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/40 dark:text-gray-300 border-gray-300 dark:border-gray-700"}}(e);return(0,a.jsx)(rL,{isActive:t,onClick:()=>{p(r=>{let a=r.filter(e=>"modes"!==e.id),n=r.find(e=>"modes"===e.id)?.value||[],l=t?n.filter(t=>t!==e):[...n,e];return l.length>0&&a.push({id:"modes",value:l}),a})},label:e,activeClass:r},e)})})]}),(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2.5",children:[(0,a.jsx)(rm.Signal,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:l("filters.opStatus")})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[(0,a.jsx)(rL,{isActive:!m.find(e=>"opStatus"===e.id)?.value,onClick:()=>{p(e=>e.filter(e=>"opStatus"!==e.id))},label:l("filters.all")}),(0,a.jsx)(rL,{isActive:m.find(e=>"opStatus"===e.id)?.value==="active",onClick:()=>{p(e=>{let t=e.filter(e=>"opStatus"!==e.id);return t.push({id:"opStatus",value:"active"}),t})},label:l("filters.opStatusActive"),activeClass:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300 border-green-300 dark:border-green-700"}),(0,a.jsx)(rL,{isActive:m.find(e=>"opStatus"===e.id)?.value==="maintenance",onClick:()=>{p(e=>{let t=e.filter(e=>"opStatus"!==e.id);return t.push({id:"opStatus",value:"maintenance"}),t})},label:l("filters.opStatusMaintenance"),activeClass:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300 border-amber-300 dark:border-amber-700"}),(0,a.jsx)(rL,{isActive:m.find(e=>"opStatus"===e.id)?.value==="offline",onClick:()=>{p(e=>{let t=e.filter(e=>"opStatus"!==e.id);return t.push({id:"opStatus",value:"offline"}),t})},label:l("filters.opStatusOffline"),activeClass:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300 border-red-300 dark:border-red-700"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2.5",children:[(0,a.jsx)(rl.Filter,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:l("filters.owner")})]}),(0,a.jsx)(tg.Input,{placeholder:l("filters.owner"),value:m.find(e=>"owner"===e.id)?.value??"",onChange:e=>{let t=e.target.value;p(e=>{let r=e.filter(e=>"owner"!==e.id);return t&&r.push({id:"owner",value:t}),r})},className:"h-9 bg-background"})]}),(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2.5",children:[(0,a.jsx)(ea.MapPin,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:l("filters.qth")})]}),(0,a.jsx)(tg.Input,{placeholder:l("filters.qth"),value:m.find(e=>"qthLocator"===e.id)?.value??"",onChange:e=>{let t=e.target.value;p(e=>{let r=e.filter(e=>"qthLocator"!==e.id);return t&&r.push({id:"qthLocator",value:t}),r})},className:"h-9 bg-background"})]}),(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2.5",children:[(0,a.jsx)(ea.MapPin,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("span",{className:"font-medium",children:[l("filters.distance"),": ",v?`${v} km`:l("filters.distanceAll")]})]}),c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rr.Slider,{value:[v??0],min:0,max:100,step:5,onValueChange:([e])=>{b(0===e?null:e)}}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{children:l("filters.distanceAll")}),(0,a.jsx)("span",{children:"100 km"})]})]}):(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:l("locationTip.title")})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pt-2 border-t border-border/50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:1===S.length?l("filters.resultsCountSingular"):l("filters.resultsCount",{count:S.length})}),C>0&&(0,a.jsxs)("button",{onClick:()=>{p([]),b(null)},className:"inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-destructive transition-colors",children:[(0,a.jsx)(eB.X,{className:"h-3 w-3"}),l("filters.clear")]})]})})]})})]}),(0,a.jsx)("div",{className:"h-[500px]",children:(0,a.jsx)(ee,{repeaters:S,onRepeaterClick:e=>{f(e),x(!0)},userLocation:c,radiusKm:v})})]})]})}),o&&(0,a.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 text-center",children:o}),(0,a.jsx)(rf,{}),(0,a.jsx)(t2,{open:h,onOpenChange:x,direction:"right",children:h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t9,{onClick:()=>x(!1)}),(0,a.jsxs)(t8,{children:[(0,a.jsx)(ra,{children:(0,a.jsx)(re,{children:g?`${l("repeater.details")} - ${g.callsign}`:l("repeater.details")})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4",children:g&&(0,a.jsx)(eq,{r:g})}),(0,a.jsx)(t6,{children:(0,a.jsx)("button",{type:"button",className:"inline-flex h-9 items-center justify-center rounded-md border bg-background px-3 text-sm shadow-sm transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>x(!1),children:l("repeater.close")})})]})]})})]})}e.s(["default",()=>rM],96015)}]);