(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27164,e=>{"use strict";var t=e.i(43476),a=e.i(77572);function r(){return"https://api.radioamador.info"}async function n(e={}){let t=r(),a=new URLSearchParams;e.page&&a.set("page",String(e.page)),e.limit&&a.set("limit",String(e.limit)),e.distrito&&a.set("distrito",e.distrito),e.categoria&&a.set("categoria",e.categoria),e.estado&&a.set("estado",e.estado),e.concelho&&a.set("concelho",e.concelho),e.search&&a.set("search",e.search);let i=a.toString(),s=`${t}/api/indicativos/list${i?`?${i}`:""}`,l=await fetch(s,{next:{revalidate:3600}});if(!l.ok)throw Error(`Failed to fetch callsigns: ${l.status}`);return l.json()}async function i(){let e=r(),t=await fetch(`${e}/api/indicativos/stats`);if(!t.ok)throw Error(`Failed to fetch callsign stats: ${t.status}`);return t.json()}async function s(e={}){let t=r(),a=new URLSearchParams;e.page&&a.set("page",String(e.page)),e.limit&&a.set("limit",String(e.limit)),e.changeType&&a.set("changeType",e.changeType),e.indicativo&&a.set("indicativo",e.indicativo);let n=a.toString(),i=`${t}/api/indicativos/changes${n?`?${n}`:""}`,l=await fetch(i,{next:{revalidate:3600}});if(!l.ok)throw Error(`Failed to fetch callsign changes: ${l.status}`);return l.json()}async function l(e){let t=r(),a=new URLSearchParams;e?.startDate&&a.set("startDate",e.startDate),e?.endDate&&a.set("endDate",e.endDate),e?.distrito&&a.set("distrito",e.distrito),e?.categoria&&a.set("categoria",e.categoria),e?.estado&&a.set("estado",e.estado),e?.search&&a.set("search",e.search);let n=a.toString(),i=`${t}/api/indicativos/trends${n?`?${n}`:""}`,s=await fetch(i,{next:{revalidate:3600}});if(!s.ok)throw Error(`Failed to fetch callsign trends: ${s.status}`);return s.json()}async function o(e){let t=r(),a=await fetch(`${t}/api/indicativos/category-flows?month=${encodeURIComponent(e)}`);if(!a.ok)throw Error(`Failed to fetch category flows: ${a.status}`);return a.json()}e.i(47167);var c=e.i(71645),d=e.i(15288),u=e.i(61911),p=e.i(75254);let m=(0,p.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=e.i(25652),x=e.i(21218);function f({icon:e,value:a,label:r,trend:n,trendColor:i,iconBgClass:s,iconTextClass:l}){return(0,t.jsx)(d.Card,{className:"py-0",children:(0,t.jsx)(d.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg ${s}`,children:(0,t.jsx)("span",{className:l,children:e})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:a.toLocaleString("pt-PT")}),(0,t.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:r}),n&&(0,t.jsx)("p",{className:`text-xs font-medium ${i||"text-slate-400"}`,children:n})]})]})})})}function g({stats:e,loading:a}){let r=Object.entries(e.byEstado).filter(([e])=>"ativo"===e.toLowerCase()||"activo"===e.toLowerCase()).reduce((e,[,t])=>e+t,0);return a?(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,a)=>(0,t.jsx)(d.Card,{className:"py-0",children:(0,t.jsx)(d.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 animate-pulse",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-slate-200 dark:bg-slate-700"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-6 w-16 rounded bg-slate-200 dark:bg-slate-700"}),(0,t.jsx)("div",{className:"h-4 w-24 rounded bg-slate-100 dark:bg-slate-800"})]})]})})},a))}):(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(f,{icon:(0,t.jsx)(u.Users,{className:"h-5 w-5"}),value:e.total,label:"Total Indicativos",iconBgClass:"bg-ship-cove-100 dark:bg-ship-cove-900/50",iconTextClass:"text-ship-cove-600 dark:text-ship-cove-400"}),(0,t.jsx)(f,{icon:(0,t.jsx)(m,{className:"h-5 w-5"}),value:r,label:"Activos",iconBgClass:"bg-emerald-100 dark:bg-emerald-900/50",iconTextClass:"text-emerald-600 dark:text-emerald-400"}),(0,t.jsx)(f,{icon:(0,t.jsx)(h.TrendingUp,{className:"h-5 w-5"}),value:e.newThisMonth,label:"Novos Este Mês",trendColor:"text-emerald-500",iconBgClass:"bg-blue-100 dark:bg-blue-900/50",iconTextClass:"text-blue-600 dark:text-blue-400"}),(0,t.jsx)(f,{icon:(0,t.jsx)(x.Activity,{className:"h-5 w-5"}),value:e.changesThisMonth,label:"Alterações Este Mês",iconBgClass:"bg-amber-100 dark:bg-amber-900/50",iconTextClass:"text-amber-600 dark:text-amber-400"})]})}var v=e.i(93479),y=e.i(55436),b=e.i(37727),j=e.i(46897);let k=(0,p.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var N=e.i(81418),w=e.i(81140),A=e.i(20783),S=e.i(30030),P=e.i(26330),O=e.i(3536),C=e.i(65491),E=e.i(10772),I=e.i(53660),T=e.i(74606),D=e.i(96626),R=e.i(48425),B=e.i(91918),M=e.i(69340),z=e.i(86312),L=e.i(85369),K="Popover",[F,V]=(0,S.createContextScope)(K,[I.createPopperScope]),$=(0,I.createPopperScope)(),[G,W]=F(K),U=e=>{let{__scopePopover:a,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:l=!1}=e,o=$(a),d=c.useRef(null),[u,p]=c.useState(!1),[m,h]=(0,M.useControllableState)({prop:n,defaultProp:i??!1,onChange:s,caller:K});return(0,t.jsx)(I.Root,{...o,children:(0,t.jsx)(G,{scope:a,contentId:(0,E.useId)(),triggerRef:d,open:m,onOpenChange:h,onOpenToggle:c.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:u,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:l,children:r})})};U.displayName=K;var _="PopoverAnchor";c.forwardRef((e,a)=>{let{__scopePopover:r,...n}=e,i=W(_,r),s=$(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=i;return c.useEffect(()=>(l(),()=>o()),[l,o]),(0,t.jsx)(I.Anchor,{...s,...n,ref:a})}).displayName=_;var Z="PopoverTrigger",H=c.forwardRef((e,a)=>{let{__scopePopover:r,...n}=e,i=W(Z,r),s=$(r),l=(0,A.useComposedRefs)(a,i.triggerRef),o=(0,t.jsx)(R.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":es(i.open),...n,ref:l,onClick:(0,w.composeEventHandlers)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:(0,t.jsx)(I.Anchor,{asChild:!0,...s,children:o})});H.displayName=Z;var q="PopoverPortal",[X,Y]=F(q,{forceMount:void 0}),J=e=>{let{__scopePopover:a,forceMount:r,children:n,container:i}=e,s=W(q,a);return(0,t.jsx)(X,{scope:a,forceMount:r,children:(0,t.jsx)(D.Presence,{present:r||s.open,children:(0,t.jsx)(T.Portal,{asChild:!0,container:i,children:n})})})};J.displayName=q;var Q="PopoverContent",ee=c.forwardRef((e,a)=>{let r=Y(Q,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=W(Q,e.__scopePopover);return(0,t.jsx)(D.Presence,{present:n||s.open,children:s.modal?(0,t.jsx)(ea,{...i,ref:a}):(0,t.jsx)(er,{...i,ref:a})})});ee.displayName=Q;var et=(0,B.createSlot)("PopoverContent.RemoveScroll"),ea=c.forwardRef((e,a)=>{let r=W(Q,e.__scopePopover),n=c.useRef(null),i=(0,A.useComposedRefs)(a,n),s=c.useRef(!1);return c.useEffect(()=>{let e=n.current;if(e)return(0,z.hideOthers)(e)},[]),(0,t.jsx)(L.RemoveScroll,{as:et,allowPinchZoom:!0,children:(0,t.jsx)(en,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,w.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,w.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;s.current=2===t.button||a},{checkForDefaultPrevented:!1}),onFocusOutside:(0,w.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),er=c.forwardRef((e,a)=>{let r=W(Q,e.__scopePopover),n=c.useRef(!1),i=c.useRef(!1);return(0,t.jsx)(en,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),en=c.forwardRef((e,a)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...p}=e,m=W(Q,r),h=$(r);return(0,O.useFocusGuards)(),(0,t.jsx)(C.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,t.jsx)(P.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:(0,t.jsx)(I.Content,{"data-state":es(m.open),role:"dialog",id:m.contentId,...h,...p,ref:a,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ei="PopoverClose";function es(e){return e?"open":"closed"}c.forwardRef((e,a)=>{let{__scopePopover:r,...n}=e,i=W(ei,r);return(0,t.jsx)(R.Primitive.button,{type:"button",...n,ref:a,onClick:(0,w.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=ei,c.forwardRef((e,a)=>{let{__scopePopover:r,...n}=e,i=$(r);return(0,t.jsx)(I.Arrow,{...i,...n,ref:a})}).displayName="PopoverArrow";var el=e.i(57428),eo=e.i(87486);function ec({icon:e,title:a,options:r,selected:n,onChange:i}){let[s,l]=(0,c.useState)(!1),[o,d]=(0,c.useState)(""),u=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(s){let e=setTimeout(()=>u.current?.focus(),50);return()=>clearTimeout(e)}d("")},[s]);let p=o?r.filter(e=>e.label.toLowerCase().includes(o.toLowerCase())||e.value.toLowerCase().includes(o.toLowerCase())):r,m=n.length>0;return(0,t.jsxs)(U,{open:s,onOpenChange:l,children:[(0,t.jsx)(H,{asChild:!0,children:(0,t.jsxs)("button",{className:`
            group inline-flex items-center gap-1.5 h-8 rounded-md text-xs font-medium
            border shadow-xs transition-all duration-150
            ${m?"bg-ship-cove-50 dark:bg-ship-cove-950/50 border-ship-cove-200 dark:border-ship-cove-800 text-ship-cove-800 dark:text-ship-cove-200":"bg-transparent dark:bg-input/30 border-input text-muted-foreground hover:text-foreground"}
            ${m?"pl-2.5 pr-1.5":"px-2.5"}
          `,children:[e&&(0,t.jsx)("span",{className:"opacity-60 [&>svg]:h-3.5 [&>svg]:w-3.5",children:e}),(0,t.jsx)("span",{children:a}),m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"h-3.5 w-px bg-ship-cove-300 dark:bg-ship-cove-700 mx-0.5"}),(0,t.jsx)(eo.Badge,{variant:"secondary",className:"h-5 min-w-5 px-1 rounded text-[10px] font-semibold bg-ship-cove-500 dark:bg-ship-cove-600 text-white border-0",children:n.length})]})]})}),(0,t.jsx)(J,{children:(0,t.jsxs)(ee,{align:"start",sideOffset:6,className:`
            z-50 w-56 rounded-lg border border-slate-200 dark:border-slate-700
            bg-white dark:bg-slate-900
            shadow-lg shadow-slate-200/50 dark:shadow-black/30
            animate-in fade-in-0 zoom-in-95
            data-[side=bottom]:slide-in-from-top-2
            data-[side=top]:slide-in-from-bottom-2
          `,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 border-b border-slate-100 dark:border-slate-800",children:[(0,t.jsx)(y.Search,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),(0,t.jsx)("input",{ref:u,value:o,onChange:e=>d(e.target.value),placeholder:`Filtrar ${a.toLowerCase()}...`,className:"flex-1 bg-transparent text-sm placeholder:text-slate-400 dark:placeholder:text-slate-500 outline-none text-foreground"}),o&&(0,t.jsx)("button",{onClick:()=>d(""),className:"text-slate-400 hover:text-slate-600",children:(0,t.jsx)(b.X,{className:"h-3 w-3"})})]}),(0,t.jsx)("div",{className:"max-h-52 overflow-y-auto py-1 scrollbar-thin",children:0===p.length?(0,t.jsx)("p",{className:"py-4 text-center text-xs text-slate-400",children:"Sem resultados"}):p.map(e=>{let a=n.includes(e.value);return(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.value,void(n.includes(t)?i(n.filter(e=>e!==t)):i([...n,t]))},className:`
                      w-full flex items-center gap-2.5 px-3 py-1.5 text-sm text-left
                      transition-colors duration-75
                      ${a?"text-foreground":"text-slate-600 dark:text-slate-400"}
                      hover:bg-slate-50 dark:hover:bg-slate-800/50
                    `,children:[(0,t.jsx)(el.Checkbox,{checked:a,className:"h-3.5 w-3.5 rounded-[3px] border-slate-300 dark:border-slate-600 data-[state=checked]:bg-ship-cove-500 data-[state=checked]:border-ship-cove-500",tabIndex:-1}),(0,t.jsx)("span",{className:"flex-1 truncate",children:e.label}),null!=e.count&&(0,t.jsx)("span",{className:"text-[10px] font-mono tabular-nums text-slate-400 dark:text-slate-500",children:e.count.toLocaleString("pt-PT")})]},e.value)})}),n.length>0&&(0,t.jsx)("div",{className:"border-t border-slate-100 dark:border-slate-800 px-3 py-1.5",children:(0,t.jsx)("button",{onClick:()=>i([]),className:"text-xs text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 transition-colors",children:"Limpar seleção"})})]})})]})}let ed={search:"",distrito:[],categoria:[],estado:[]};function eu({stats:e,filters:a,onFiltersChange:r,children:n,onClear:i,hasExtraFilters:s}){let[l,o]=(0,c.useState)(a.search),d=(0,c.useRef)(void 0),u=Object.keys(e.byDistrito).sort(),p=Object.keys(e.byCategoria).sort(),m=Object.keys(e.byEstado).sort(),h=(0,c.useCallback)(e=>{o(e),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{r({...a,search:e})},300)},[a,r]);(0,c.useEffect)(()=>()=>{d.current&&clearTimeout(d.current)},[]);let x=a.search||a.distrito.length>0||a.categoria.length>0||a.estado.length>0||s,f=[];for(let e of a.distrito)f.push({key:`d-${e}`,label:e,onRemove:()=>r({...a,distrito:a.distrito.filter(t=>t!==e)})});for(let e of a.categoria)f.push({key:`c-${e}`,label:`Cat. ${e}`,onRemove:()=>r({...a,categoria:a.categoria.filter(t=>t!==e)})});for(let e of a.estado)f.push({key:`e-${e}`,label:e,onRemove:()=>r({...a,estado:a.estado.filter(t=>t!==e)})});return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center flex-wrap",children:[(0,t.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,t.jsx)(y.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-slate-400"}),(0,t.jsx)(v.Input,{placeholder:"Pesquisar indicativo, nome...",value:l,onChange:e=>h(e.target.value),className:"pl-9 h-8 text-sm bg-white dark:bg-white/5 border-slate-200 dark:border-slate-700"})]}),(0,t.jsx)("div",{className:"hidden sm:block h-5 w-px bg-slate-200 dark:bg-slate-700"}),(0,t.jsx)(ec,{icon:(0,t.jsx)(j.MapPin,{}),title:"Distrito",options:u.map(t=>({value:t,label:t,count:e.byDistrito[t]})),selected:a.distrito,onChange:e=>r({...a,distrito:e})}),(0,t.jsx)(ec,{icon:(0,t.jsx)(k,{}),title:"Categoria",options:p.map(t=>({value:t,label:`Categoria ${t}`,count:e.byCategoria[t]})),selected:a.categoria,onChange:e=>r({...a,categoria:e})}),(0,t.jsx)(ec,{icon:(0,t.jsx)(N.ShieldCheck,{}),title:"Estado",options:m.map(t=>({value:t,label:t,count:e.byEstado[t]})),selected:a.estado,onChange:e=>r({...a,estado:e})}),n,x&&(0,t.jsxs)("button",{onClick:()=>{o(""),i?i():r(ed)},className:"inline-flex items-center gap-1 h-8 px-2 rounded-md text-xs text-slate-500 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors",children:[(0,t.jsx)(b.X,{className:"h-3.5 w-3.5"}),"Limpar tudo"]})]}),f.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:f.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 h-6 pl-2 pr-1 rounded-md text-xs font-medium bg-ship-cove-50 dark:bg-ship-cove-950/40 text-ship-cove-700 dark:text-ship-cove-300 border border-ship-cove-200 dark:border-ship-cove-800/60",children:[e.label,(0,t.jsx)("button",{onClick:e.onRemove,className:"inline-flex items-center justify-center h-4 w-4 rounded hover:bg-ship-cove-200 dark:hover:bg-ship-cove-800 transition-colors",children:(0,t.jsx)(b.X,{className:"h-2.5 w-2.5"})})]},e.key))})]})}var ep=e.i(52990),em=e.i(82830),eh=e.i(84774),ex=e.i(19455);function ef({estado:e}){let a=e?.toLowerCase()||"",r="bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300";return"activo"===a||"active"===a?r="bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-400":"suspenso"===a||"suspended"===a?r="bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400":("anulado"===a||"cancelled"===a||"cancelado"===a)&&(r="bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"),(0,t.jsx)(eo.Badge,{variant:"outline",className:r,children:e||"—"})}function eg({categoria:e}){return e?(0,t.jsx)(eo.Badge,{variant:"secondary",className:"font-normal",children:e}):(0,t.jsx)("span",{className:"text-slate-400",children:"—"})}let ev=[{accessorKey:"indicativo",header:"Indicativo",cell:({row:e})=>(0,t.jsx)("span",{className:"font-mono font-semibold text-ship-cove-700 dark:text-ship-cove-400",children:e.getValue("indicativo")})},{accessorKey:"nome",header:"Nome",cell:({row:e})=>{let a=e.getValue("nome");return(0,t.jsx)("span",{className:"truncate max-w-[200px] block",title:a,children:a||"—"})}},{accessorKey:"categoria",header:"Categoria",cell:({row:e})=>(0,t.jsx)(eg,{categoria:e.getValue("categoria")})},{accessorKey:"estado",header:"Estado",cell:({row:e})=>(0,t.jsx)(ef,{estado:e.getValue("estado")})},{accessorKey:"distrito",header:"Distrito",cell:({row:e})=>(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-300",children:e.getValue("distrito")||"—"})},{accessorKey:"concelho",header:"Concelho",cell:({row:e})=>(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-300",children:e.getValue("concelho")||"—"})},{accessorKey:"localidade",header:"Localidade",cell:({row:e})=>(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-300",children:e.getValue("localidade")||"—"})}];var ey=e.i(73375),eb=e.i(63059),ej=e.i(31278);function ek({data:e,loading:a,page:r,totalPages:n,totalDocs:i,onPageChange:s}){let[l,o]=(0,c.useState)([]),d=(0,ep.useReactTable)({data:e,columns:ev,getCoreRowModel:(0,em.getCoreRowModel)(),getSortedRowModel:(0,em.getSortedRowModel)(),onSortingChange:o,state:{sorting:l},manualPagination:!0,pageCount:n});return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"rounded-lg border bg-white dark:bg-slate-900 overflow-hidden",children:(0,t.jsxs)(eh.Table,{children:[(0,t.jsx)(eh.TableHeader,{children:d.getHeaderGroups().map(e=>(0,t.jsx)(eh.TableRow,{className:"bg-slate-50 dark:bg-slate-800/50",children:e.headers.map(e=>(0,t.jsx)(eh.TableHead,{className:"font-semibold text-slate-600 dark:text-slate-300 cursor-pointer select-none hover:text-slate-900 dark:hover:text-white transition-colors",onClick:e.column.getToggleSortingHandler(),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.isPlaceholder?null:(0,ep.flexRender)(e.column.columnDef.header,e.getContext()),"asc"===e.column.getIsSorted()&&" ↑","desc"===e.column.getIsSorted()&&" ↓"]})},e.id))},e.id))}),(0,t.jsx)(eh.TableBody,{children:a?Array.from({length:10}).map((e,a)=>(0,t.jsx)(eh.TableRow,{children:ev.map((e,r)=>(0,t.jsx)(eh.TableCell,{children:(0,t.jsx)("div",{className:"h-4 bg-slate-100 dark:bg-slate-800 rounded animate-pulse",style:{width:`${60+(7*a+13*r)%40}%`,animationDelay:`${30*a}ms`}})},r))},a)):0===d.getRowModel().rows.length?(0,t.jsx)(eh.TableRow,{children:(0,t.jsx)(eh.TableCell,{colSpan:ev.length,className:"text-center py-12 text-slate-400",children:"Nenhum indicativo encontrado."})}):d.getRowModel().rows.map(e=>(0,t.jsx)(eh.TableRow,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:e.getVisibleCells().map(e=>(0,t.jsx)(eh.TableCell,{children:(0,ep.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("span",{children:a?(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ej.Loader2,{className:"h-3.5 w-3.5 animate-spin"}),"A carregar..."]}):`${i.toLocaleString("pt-PT")} registos \xb7 P\xe1gina ${r} de ${n}`}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(ex.Button,{variant:"outline",size:"sm",onClick:()=>s(r-1),disabled:r<=1||a,children:[(0,t.jsx)(ey.ChevronLeft,{className:"h-4 w-4"}),"Anterior"]}),(0,t.jsxs)(ex.Button,{variant:"outline",size:"sm",onClick:()=>s(r+1),disabled:r>=n||a,children:["Seguinte",(0,t.jsx)(eb.ChevronRight,{className:"h-4 w-4"})]})]})]})]})}var eN=e.i(72520);let ew={added:{label:"novo",icon:(0,p.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),iconBgClass:"bg-emerald-100 dark:bg-emerald-900/40",iconTextClass:"text-emerald-600 dark:text-emerald-400",labelClass:"text-emerald-600 dark:text-emerald-400"},removed:{label:"removido",icon:(0,p.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),iconBgClass:"bg-red-100 dark:bg-red-900/40",iconTextClass:"text-red-600 dark:text-red-400",labelClass:"text-red-600 dark:text-red-400"},modified:{label:"alterado",icon:e.i(88699).Pencil,iconBgClass:"bg-blue-100 dark:bg-blue-900/40",iconTextClass:"text-blue-600 dark:text-blue-400",labelClass:"text-blue-600 dark:text-blue-400"}},eA=[{value:"",label:"Todos"},{value:"added",label:"Novos"},{value:"removed",label:"Removidos"},{value:"modified",label:"Alterados"}];function eS({change:e}){let a=ew[e.changeType],r=a.icon;return(0,t.jsxs)("div",{className:"flex items-start gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 dark:hover:bg-slate-800/40 transition-colors",children:[(0,t.jsx)("div",{className:`mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded ${a.iconBgClass}`,children:(0,t.jsx)(r,{className:`h-3.5 w-3.5 ${a.iconTextClass}`})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono font-semibold text-sm text-ship-cove-700 dark:text-ship-cove-400",children:e.indicativo}),(0,t.jsx)("span",{className:`text-xs font-medium ${a.labelClass}`,children:a.label})]}),e.changedFields&&e.changedFields.length>0&&(0,t.jsx)("div",{className:"mt-1 space-y-0.5",children:e.changedFields.map((e,a)=>(0,t.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1.5 flex-wrap",children:[(0,t.jsxs)("span",{className:"font-medium text-slate-600 dark:text-slate-300 capitalize",children:[e.field,":"]}),(0,t.jsx)("span",{className:"line-through text-red-400/70",children:e.from||"—"}),(0,t.jsx)(eN.ArrowRight,{className:"h-2.5 w-2.5 text-slate-300 dark:text-slate-600 shrink-0"}),(0,t.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400",children:e.to||"—"})]},a))})]}),(0,t.jsx)("span",{className:"text-xs text-slate-400 shrink-0 tabular-nums",children:new Date(e.detectedAt).toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})})]})}function eP(){let[e,a]=(0,c.useState)([]),[r,n]=(0,c.useState)(!0),[i,l]=(0,c.useState)(1),[o,d]=(0,c.useState)(1),[u,p]=(0,c.useState)(""),m=(0,c.useCallback)(async(e,t)=>{n(!0);try{let r=await s({page:e,limit:50,changeType:t||void 0});1===e?a(r.docs):a(e=>[...e,...r.docs]),d(r.totalPages)}catch(e){console.error("Failed to load changes:",e)}finally{n(!1)}},[]);(0,c.useEffect)(()=>{l(1),m(1,u)},[u,m]);let h=e.reduce((e,t)=>{let a=new Date(t.detectedAt).toLocaleDateString("pt-PT",{day:"numeric",month:"long",year:"numeric"});return e[a]||(e[a]=[]),e[a].push(t),e},{});return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:eA.map(e=>(0,t.jsx)(ex.Button,{variant:u===e.value?"default":"outline",size:"sm",onClick:()=>p(e.value),children:e.label},e.value))}),r&&0===e.length?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12 text-slate-400",children:[(0,t.jsx)(ej.Loader2,{className:"h-5 w-5 animate-spin mr-2"}),"A carregar alterações..."]}):0===e.length?(0,t.jsx)("div",{className:"text-center py-12 text-slate-400",children:"Nenhuma alteração encontrada."}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(h).map(([e,a])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-3",children:e}),(0,t.jsx)("div",{className:"divide-y divide-slate-100 dark:divide-slate-800 rounded-lg border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:a.map(e=>(0,t.jsx)(eS,{change:e},e.id))})]},e))}),i<o&&(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsx)(ex.Button,{variant:"outline",onClick:()=>{let e=i+1;l(e),m(e,u)},disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ej.Loader2,{className:"h-4 w-4 animate-spin mr-2"}),"A carregar..."]}):"Carregar mais"})})]})}let eO=["3","2","1","A","B","C"];function eC(e){return"added"===e?"Novo":"removed"===e?"Removido":e.startsWith("from_")?`De Cat. ${e.slice(5)}`:e.startsWith("to_")?`Para Cat. ${e.slice(3)}`:e}function eE(e){let[t,a]=e.split("-");return new Date(Number(t),Number(a)-1).toLocaleDateString("pt-PT",{month:"short",year:"2-digit"})}function eI(){let[e,a]=(0,c.useState)(null),[r,n]=(0,c.useState)(!0),[i,s]=(0,c.useState)(null),[l,d]=(0,c.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}),u=(0,c.useRef)(null),p=(0,c.useCallback)(async e=>{u.current?.abort();let t=new AbortController;u.current=t,n(!0),s(null);try{let r=await o(e);if(t.signal.aborted)return;a(r)}catch(e){if(t.signal.aborted)return;console.error("Failed to load category flows:",e),s(e instanceof Error?e.message:"Erro ao carregar dados")}finally{t.signal.aborted||n(!1)}},[]);(0,c.useEffect)(()=>(p(l),()=>u.current?.abort()),[l,p]);let m=e?.availableMonths??[];return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:"Movimentos por categoria"}),(0,t.jsx)("select",{value:l,onChange:e=>{d(e.target.value)},disabled:r&&0===m.length,className:"rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-700 dark:text-slate-200 px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",children:m.length>0?m.map(e=>(0,t.jsx)("option",{value:e,children:eE(e)},e)):(0,t.jsx)("option",{value:l,children:eE(l)})})]}),r&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-12 text-slate-400",children:[(0,t.jsx)(ej.Loader2,{className:"h-5 w-5 animate-spin mr-2"}),"A carregar movimentos..."]}),i&&!r&&(0,t.jsx)("div",{className:"text-center py-12 text-red-500 dark:text-red-400 text-sm",children:i}),!r&&!i&&e&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:eO.map(a=>{let r=e.categories[a],n=r?.entering??[],i=r?.leaving??[],s=n.length+i.length;return(0,t.jsxs)("div",{className:"rounded-lg border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:["Categoria ",a]}),s>0&&(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-100 dark:bg-slate-800 px-2 py-0.5 text-xs font-medium text-slate-600 dark:text-slate-400",children:s})]}),0===s?(0,t.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 italic",children:"Sem alterações"}):(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:["↗ Entradas (",n.length,")"]}),(0,t.jsx)("div",{className:"space-y-1",children:0===n.length?(0,t.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 italic",children:"—"}):n.map(e=>(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:e.indicativo}),(0,t.jsx)("span",{className:"ml-1 text-slate-400 dark:text-slate-500",children:eC(e.reason)})]},e.indicativo))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-2",children:["↙ Saídas (",i.length,")"]}),(0,t.jsx)("div",{className:"space-y-1",children:0===i.length?(0,t.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500 italic",children:"—"}):i.map(e=>(0,t.jsxs)("div",{className:`text-xs ${e.flagged?"bg-red-50 dark:bg-red-950/30 border-l-2 border-red-400 pl-1.5":""}`,children:[(0,t.jsxs)("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:[e.flagged&&(0,t.jsx)("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-red-500 mr-1 align-middle"}),e.indicativo]}),(0,t.jsx)("span",{className:"ml-1 text-slate-400 dark:text-slate-500",children:eC(e.reason)})]},e.indicativo))})]})]})]},a)})})]})}var eT=e.i(67489),eD=e.i(1851),eR=e.i(77241),eB=e.i(81092);function eM(e,t,a){return function(e,t,a){let r=(0,eB.toDate)(e,a?.in);if(isNaN(t))return(0,eR.constructFrom)(a?.in||e,NaN);if(!t)return r;let n=r.getDate(),i=(0,eR.constructFrom)(a?.in||e,r.getTime());return(i.setMonth(r.getMonth()+t+1,0),n>=i.getDate())?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}(e,-t,a)}function ez({value:e,onChange:a,resetRef:r}){let[n,i]=(0,c.useState)("all");r&&(r.current={reset:()=>i("all")});let s=(0,c.useCallback)(e=>{i(e),"custom"!==e&&a(function(e){if("all"===e)return{};let t=new Date,a=(0,eD.format)(t,"yyyy-MM-dd");return"3m"===e?{startDate:(0,eD.format)(eM(t,3),"yyyy-MM-dd"),endDate:a}:"6m"===e?{startDate:(0,eD.format)(eM(t,6),"yyyy-MM-dd"),endDate:a}:"1y"===e?{startDate:(0,eD.format)(eM(t,12),"yyyy-MM-dd"),endDate:a}:{}}(e))},[a]),l=(0,c.useCallback)((t,r)=>{a({...e,[t]:r||void 0})},[e,a]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(eT.Select,{value:n,onValueChange:s,children:[(0,t.jsx)(eT.SelectTrigger,{className:"w-full sm:w-48 bg-white dark:bg-input/30",children:(0,t.jsx)(eT.SelectValue,{placeholder:"Período"})}),(0,t.jsxs)(eT.SelectContent,{children:[(0,t.jsx)(eT.SelectItem,{value:"all",children:"Todo o histórico"}),(0,t.jsx)(eT.SelectItem,{value:"3m",children:"Últimos 3 meses"}),(0,t.jsx)(eT.SelectItem,{value:"6m",children:"Últimos 6 meses"}),(0,t.jsx)(eT.SelectItem,{value:"1y",children:"Último ano"}),(0,t.jsx)(eT.SelectItem,{value:"custom",children:"Personalizado"})]})]}),"custom"===n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"date",value:e.startDate||"",onChange:e=>l("startDate",e.target.value),className:"h-9 rounded-md border border-input bg-white dark:bg-input/30 px-3 text-sm text-foreground"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"a"}),(0,t.jsx)("input",{type:"date",value:e.endDate||"",onChange:e=>l("endDate",e.target.value),className:"h-9 rounded-md border border-input bg-white dark:bg-input/30 px-3 text-sm text-foreground"})]})]})}var eL=e.i(237),eK=e.i(25949),eF=e.i(33369),eV=["axis"],e$=(0,c.forwardRef)((e,t)=>c.createElement(eF.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eV,tooltipPayloadSearcher:eK.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),eG=c,eW=e.i(7670),eU=e.i(27066),e_=e=>null;e_.displayName="Cell";var eZ=e.i(69212),eH=e.i(94395),eq=e.i(81977),eX=e.i(79812),eY=e.i(73393),eJ=e.i(18519),eQ=["x","y"];function e0(){return(e0=Object.assign.bind()).apply(null,arguments)}function e1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function e2(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e1(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function e5(e,t){var{x:a,y:r}=e,n=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,eQ),i=parseInt("".concat(a),10),s=parseInt("".concat(r),10),l=parseInt("".concat(t.height||n.height),10),o=parseInt("".concat(t.width||n.width),10);return e2(e2(e2(e2(e2({},t),n),i?{x:i}:{}),s?{y:s}:{}),{},{height:l,width:o,name:t.name,radius:t.radius})}function e4(e){return c.createElement(eJ.Shape,e0({shapeType:"rectangle",propTransformer:e5,activeClassName:"recharts-active-bar"},e))}var e3=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(a,r)=>{if((0,eH.isNumber)(e))return e;var n=(0,eH.isNumber)(a)||(0,eH.isNullish)(a);return n?e(a,r):(n||function(e,t){if(!e)throw Error("Invariant failed")}(!1,"minPointSize callback function received a value with type of ".concat(typeof a,". Currently only numbers or null/undefined are supported.")),t)}},e6=e.i(27241),e7=e.i(98982),e9=(e,t,a)=>{var r=(0,e6.useAppDispatch)();return(n,i)=>s=>{null==e||e(n,i,s),r((0,e7.setActiveMouseOverItemIndex)({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:a}))}},e8=e=>{var t=(0,e6.useAppDispatch)();return(a,r)=>n=>{null==e||e(a,r,n),t((0,e7.mouseLeaveItem)())}},te=(e,t,a)=>{var r=(0,e6.useAppDispatch)();return(n,i)=>s=>{null==e||e(n,i,s),r((0,e7.setActiveClickItemIndex)({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:a}))}},tt=e.i(844),ta=e.i(45542),tr=e.i(59798),tn=e.i(46710),ti=e.i(61849),ts=e.i(61764),tl=e.i(92860),to=e.i(41088),tc=e.i(77320),td=e.i(22075),tu=e.i(91526),tp=e.i(10439);function tm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function th(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tm(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var tx=(0,ti.createSelector)([ts.selectUnfilteredCartesianItems,(e,t,a,r,n)=>n],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),tf=(0,ti.createSelector)([tx],e=>null==e?void 0:e.maxBarSize),tg=(e,t,a)=>{var r=null!=a?a:e;if(!(0,eH.isNullish)(r))return(0,eH.getPercentValue)(r,t,0)},tv=(0,ti.createSelector)([tn.selectChartLayout,ts.selectUnfilteredCartesianItems,(e,t)=>t,(e,t,a)=>a,(e,t,a,r)=>r],(e,t,a,r,n)=>t.filter(t=>"horizontal"===e?t.xAxisId===a:t.yAxisId===r).filter(e=>e.isPanorama===n).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),ty=(0,ti.createSelector)([tv,tc.selectRootBarSize,(e,t,a)=>"horizontal"===(0,tn.selectChartLayout)(e)?(0,ts.selectCartesianAxisSize)(e,"xAxis",t):(0,ts.selectCartesianAxisSize)(e,"yAxis",a)],(e,t,a)=>{var r=e.filter(tp.isStacked),n=e.filter(e=>null==e.stackId);return[...Object.entries(r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{})).map(e=>{var[r,n]=e;return{stackId:r,dataKeys:n.map(e=>e.dataKey),barSize:tg(t,a,n[0].barSize)}}),...n.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:tg(t,a,e.barSize)}))]}),tb=(e,t,a,r)=>{var n,i;return"horizontal"===(0,tn.selectChartLayout)(e)?(n=(0,ts.selectAxisWithScale)(e,"xAxis",t,r),i=(0,ts.selectTicksOfGraphicalItem)(e,"xAxis",t,r)):(n=(0,ts.selectAxisWithScale)(e,"yAxis",a,r),i=(0,ts.selectTicksOfGraphicalItem)(e,"yAxis",a,r)),(0,eX.getBandSizeOfAxis)(n,i)},tj=(0,ti.createSelector)([ty,tc.selectRootMaxBarSize,tc.selectBarGap,tc.selectBarCategoryGap,(e,t,a,r,n)=>{var i,s,l,o,c=tx(e,t,a,r,n);if(null!=c){var d=(0,tn.selectChartLayout)(e),u=(0,tc.selectRootMaxBarSize)(e),{maxBarSize:p}=c,m=(0,eH.isNullish)(p)?u:p;return"horizontal"===d?(l=(0,ts.selectAxisWithScale)(e,"xAxis",t,r),o=(0,ts.selectTicksOfGraphicalItem)(e,"xAxis",t,r)):(l=(0,ts.selectAxisWithScale)(e,"yAxis",a,r),o=(0,ts.selectTicksOfGraphicalItem)(e,"yAxis",a,r)),null!=(i=null!=(s=(0,eX.getBandSizeOfAxis)(l,o,!0))?s:m)?i:0}},tb,tf],(e,t,a,r,n,i,s)=>{var l=function(e,t,a,r,n){var i,s=r.length;if(!(s<1)){var l=(0,eH.getPercentValue)(e,a,0,!0),o=[];if((0,td.isWellBehavedNumber)(r[0].barSize)){var c=!1,d=a/s,u=r.reduce((e,t)=>e+(t.barSize||0),0);(u+=(s-1)*l)>=a&&(u-=(s-1)*l,l=0),u>=a&&d>0&&(c=!0,d*=.9,u=s*d);var p={offset:((a-u)/2|0)-l,size:0};i=r.reduce((e,t)=>{var a,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p.offset+p.size+l,size:c?d:null!=(a=t.barSize)?a:0}}];return p=r[r.length-1].position,r},o)}else{var m=(0,eH.getPercentValue)(t,a,0,!0);a-2*m-(s-1)*l<=0&&(l=0);var h=(a-2*m-(s-1)*l)/s;h>1&&(h>>=0);var x=(0,td.isWellBehavedNumber)(n)?Math.min(h,n):h;i=r.reduce((e,t,a)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m+(h+l)*a+(h-x)/2,size:x}}],o)}return i}}(a,r,n!==i?n:i,e,(0,eH.isNullish)(s)?t:s);return n!==i&&null!=l&&(l=l.map(e=>th(th({},e),{},{position:th(th({},e.position),{},{offset:e.position.offset-n/2})}))),l}),tk=(0,ti.createSelector)([tj,tx],(e,t)=>{if(null!=e&&null!=t){var a=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=a)return a.position}}),tN=(0,ti.createSelector)([(e,t,a,r)=>"horizontal"===(0,tn.selectChartLayout)(e)?(0,ts.selectStackGroups)(e,"yAxis",a,r):(0,ts.selectStackGroups)(e,"xAxis",t,r),tx],(e,t)=>{var a=(0,tu.getStackSeriesIdentifier)(t);if(!e||null==a||null==t)return;var{stackId:r}=t;if(null!=r){var n=e[r];if(n){var{stackedData:i}=n;if(i)return i.find(e=>e.key===a)}}}),tw=(0,ti.createSelector)([to.selectChartOffsetInternal,to.selectAxisViewBox,(e,t,a,r)=>(0,ts.selectAxisWithScale)(e,"xAxis",t,r),(e,t,a,r)=>(0,ts.selectAxisWithScale)(e,"yAxis",a,r),(e,t,a,r)=>(0,ts.selectTicksOfGraphicalItem)(e,"xAxis",t,r),(e,t,a,r)=>(0,ts.selectTicksOfGraphicalItem)(e,"yAxis",a,r),tk,tn.selectChartLayout,tl.selectChartDataWithIndexesIfNotInPanorama,tb,tN,tx,(e,t,a,r,n,i)=>i],(e,t,a,r,n,i,s,l,o,c,d,u,p)=>{var m,{chartData:h,dataStartIndex:x,dataEndIndex:f}=o;if(null!=u&&null!=s&&null!=t&&("horizontal"===l||"vertical"===l)&&null!=a&&null!=r&&null!=n&&null!=i&&null!=c){var{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null==h?void 0:h.slice(x,f+1)))return function(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:s,yAxis:l,xAxisTicks:o,yAxisTicks:c,stackedData:d,displayedData:u,offset:p,cells:m,parentViewBox:h,dataStartIndex:x}=e,f="horizontal"===t?l:s,g=d?f.scale.domain():null,v=(0,eX.getBaseValueOfBar)({numericAxis:f}),y=f.scale(v);return u.map((e,u)=>{d?b=(0,eX.truncateByDomain)(d[u+x],g):Array.isArray(b=(0,eX.getValueByDataKey)(e,a))||(b=[v,b]);var f=e3(r,0)(b[1],u);if("horizontal"===t){var b,j,k,N,w,A,S,[P,O]=[l.scale(b[0]),l.scale(b[1])];j=(0,eX.getCateCoordinateOfBar)({axis:s,ticks:o,bandSize:i,offset:n.offset,entry:e,index:u}),k=null!=(S=null!=O?O:P)?S:void 0,N=n.size;var C=P-O;if(w=(0,eH.isNan)(C)?0:C,A={x:j,y:p.top,width:N,height:p.height},Math.abs(f)>0&&Math.abs(w)<Math.abs(f)){var E=(0,eH.mathSign)(w||f)*(Math.abs(f)-Math.abs(w));k-=E,w+=E}}else{var[I,T]=[s.scale(b[0]),s.scale(b[1])];if(j=I,k=(0,eX.getCateCoordinateOfBar)({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:e,index:u}),N=T-I,w=n.size,A={x:p.left,y:k,width:p.width,height:w},Math.abs(f)>0&&Math.abs(N)<Math.abs(f)){var D=(0,eH.mathSign)(N||f)*(Math.abs(f)-Math.abs(N));N+=D}}return null==j||null==k||null==N||null==w?null:tG(tG({},e),{},{stackedBarStart:y,x:j,y:k,width:N,height:w,value:d?b:b[1],payload:e,background:A,tooltipPosition:{x:j+N/2,y:k+w/2},parentViewBox:h},m&&m[u]&&m[u].props)}).filter(Boolean)}({layout:l,barSettings:u,pos:s,parentViewBox:t,bandSize:c,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:d,displayedData:m,offset:e,cells:p,dataStartIndex:x})}}),tA=e.i(75337),tS=e.i(76735),tP=e.i(95146),tO=e.i(40657),tC=e.i(51883),tE=e.i(15549),tI=e.i(91187),tT=e.i(57999),tD=e.i(66576),tR=e.i(29601),tB=e.i(18457),tM=e.i(20135),tz=["onMouseEnter","onMouseLeave","onClick"],tL=["value","background","tooltipPosition"],tK=["id"],tF=["onMouseEnter","onClick","onMouseLeave"];function tV(){return(tV=Object.assign.bind()).apply(null,arguments)}function t$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function tG(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?t$(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t$(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function tW(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var tU=eG.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:s,unit:l,tooltipType:o}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:(0,eX.getTooltipNameProp)(i,t),hide:s,type:o,color:n,unit:l}};return eG.createElement(tt.SetTooltipEntrySettings,{tooltipEntrySettings:c})});function t_(e){var t,a=(0,e6.useAppSelector)(tS.selectActiveTooltipIndex),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=s,d=tW(s,tz),u=e9(l,n),p=e8(o),m=te(c,n);if(!i||null==r)return null;var h=(0,tT.svgPropertiesNoEventsFromUnknown)(i);return eG.createElement(tR.ZIndexLayer,{zIndex:(t=tB.DefaultZIndexes.barBackground,i&&"object"==typeof i&&"zIndex"in i&&"number"==typeof i.zIndex&&(0,td.isWellBehavedNumber)(i.zIndex)?i.zIndex:t)},r.map((e,t)=>{var{value:r,background:s,tooltipPosition:l}=e,o=tW(e,tL);if(!s)return null;var c=u(e,t),x=p(e,t),f=m(e,t),g=tG(tG(tG(tG(tG({option:i,isActive:String(t)===a},o),{},{fill:"#eee"},s),h),(0,eY.adaptEventsOfChild)(d,e,t)),{},{onMouseEnter:c,onMouseLeave:x,onClick:f,dataKey:n,index:t,className:"recharts-bar-background-rectangle"});return eG.createElement(e4,tV({key:"background-bar-".concat(t)},g))}))}function tZ(e){var{showLabels:t,children:a,rects:r}=e,n=null==r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return tG(tG({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return eG.createElement(eZ.CartesianLabelListContextProvider,{value:t?n:void 0},a)}function tH(e){var{shape:t,activeBar:a,baseProps:r,entry:n,index:i,dataKey:s}=e,l=(0,e6.useAppSelector)(tS.selectActiveTooltipIndex),o=(0,e6.useAppSelector)(tS.selectActiveTooltipDataKey),c=a&&String(i)===l&&(null==o||s===o),d=c?a:t;return c?eG.createElement(tR.ZIndexLayer,{zIndex:tB.DefaultZIndexes.activeBar},eG.createElement(e4,tV({},r,{name:String(r.name)},n,{isActive:c,option:d,index:i,dataKey:s}))):eG.createElement(e4,tV({},r,{name:String(r.name)},n,{isActive:c,option:d,index:i,dataKey:s}))}function tq(e){var{shape:t,baseProps:a,entry:r,index:n,dataKey:i}=e;return eG.createElement(e4,tV({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:n,dataKey:i}))}function tX(e){var t,{data:a,props:r}=e,n=null!=(t=(0,tT.svgPropertiesNoEvents)(r))?t:{},{id:i}=n,s=tW(n,tK),{shape:l,dataKey:o,activeBar:c}=r,{onMouseEnter:d,onClick:u,onMouseLeave:p}=r,m=tW(r,tF),h=e9(d,o),x=e8(p),f=te(u,o);return a?eG.createElement(eG.Fragment,null,a.map((e,t)=>eG.createElement(eU.Layer,tV({key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},(0,eY.adaptEventsOfChild)(m,e,t),{onMouseEnter:h(e,t),onMouseLeave:x(e,t),onClick:f(e,t)}),c?eG.createElement(tH,{shape:l,activeBar:c,baseProps:s,entry:e,index:t,dataKey:o}):eG.createElement(tq,{shape:l,baseProps:s,entry:e,index:t,dataKey:o})))):null}function tY(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:o,onAnimationEnd:c,onAnimationStart:d}=t,u=a.current,p=(0,tO.useAnimationId)(t,"recharts-bar-"),[m,h]=(0,eG.useState)(!1),x=(0,eG.useCallback)(()=>{"function"==typeof c&&c(),h(!1)},[c]),f=(0,eG.useCallback)(()=>{"function"==typeof d&&d(),h(!0)},[d]);return eG.createElement(tZ,{showLabels:!m,rects:r},eG.createElement(tD.JavascriptAnimate,{animationId:p,begin:s,duration:l,isActive:i,easing:o,onAnimationEnd:x,onAnimationStart:f,key:p},e=>{var i=1===e?r:null==r?void 0:r.map((t,a)=>{var r=u&&u[a];if(r)return tG(tG({},t),{},{x:(0,eH.interpolate)(r.x,t.x,e),y:(0,eH.interpolate)(r.y,t.y,e),width:(0,eH.interpolate)(r.width,t.width,e),height:(0,eH.interpolate)(r.height,t.height,e)});if("horizontal"===n){var i=(0,eH.interpolate)(0,t.height,e),s=(0,eH.interpolate)(t.stackedBarStart,t.y,e);return tG(tG({},t),{},{y:s,height:i})}var l=(0,eH.interpolate)(0,t.width,e),o=(0,eH.interpolate)(t.stackedBarStart,t.x,e);return tG(tG({},t),{},{width:l,x:o})});return(e>0&&(a.current=null!=i?i:null),null==i)?null:eG.createElement(eU.Layer,null,eG.createElement(tX,{props:t,data:i}))}),eG.createElement(eZ.LabelListFromLabelProp,{label:t.label}),t.children)}function tJ(e){var t=(0,eG.useRef)(null);return eG.createElement(tY,{previousRectanglesRef:t,props:e})}var tQ=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:(0,eX.getValueByDataKey)(e,t)}};class t0 extends eG.PureComponent{render(){var{hide:e,data:t,dataKey:a,className:r,xAxisId:n,yAxisId:i,needClip:s,background:l,id:o}=this.props;if(e||null==t)return null;var c=(0,eW.clsx)("recharts-bar",r);return eG.createElement(eU.Layer,{className:c,id:o},s&&eG.createElement("defs",null,eG.createElement(tr.GraphicalItemClipPath,{clipPathId:o,xAxisId:n,yAxisId:i})),eG.createElement(eU.Layer,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(o,")"):void 0},eG.createElement(t_,{data:t,dataKey:a,background:l,allOtherBarProps:this.props}),eG.createElement(tJ,this.props)))}}var t1={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0,zIndex:tB.DefaultZIndexes.bar};function t2(e){var t,{xAxisId:a,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:p}=(0,tr.useNeedsClip)(a,r),m=(0,tn.useChartLayout)(),h=(0,tA.useIsPanorama)(),x=(0,eq.findAllByType)(e.children,e_),f=(0,e6.useAppSelector)(t=>tw(t,a,r,h,e.id,x));if("vertical"!==m&&"horizontal"!==m)return null;var g=null==f?void 0:f[0];return t=null==g||null==g.height||null==g.width?0:"vertical"===m?g.height/2:g.width/2,eG.createElement(ta.SetErrorBarContext,{xAxisId:a,yAxisId:r,data:f,dataPointFormatter:tQ,errorBarOffset:t},eG.createElement(t0,tV({},e,{layout:m,needClip:p,data:f,xAxisId:a,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}var t5=eG.memo(function(e){var t=(0,tC.resolveDefaultProps)(e,t1),a=(0,tA.useIsPanorama)();return eG.createElement(tE.RegisterGraphicalItemId,{id:t.id,type:"bar"},e=>eG.createElement(eG.Fragment,null,eG.createElement(tP.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:(0,eX.getTooltipNameProp)(a,t),payload:e}]})(t)}),eG.createElement(tU,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),eG.createElement(tI.SetCartesianGraphicalItem,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:(0,eX.getNormalizedStackId)(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),eG.createElement(tR.ZIndexLayer,{zIndex:t.zIndex},eG.createElement(t2,tV({},t,{id:e})))))},tM.propsAreEqual);t5.displayName="Bar";var t4=["axis","item"],t3=(0,c.forwardRef)((e,t)=>c.createElement(eF.CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:t4,tooltipPayloadSearcher:eK.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),t6=e.i(29071),t7=e.i(28108),t9=e.i(9928),t8=["x1","y1","x2","y2","key"],ae=["offset"],at=["xAxisId","yAxisId"],aa=["xAxisId","yAxisId"];function ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function an(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ar(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ai(){return(ai=Object.assign.bind()).apply(null,arguments)}function as(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var al=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:a,x:r,y:n,width:i,height:s,ry:l}=e;return c.createElement("rect",{x:r,y:n,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function ao(e){var{option:t,lineItemProps:a}=e;if(c.isValidElement(t))r=c.cloneElement(t,a);else if("function"==typeof t)r=t(a);else{var r,n,{x1:i,y1:s,x2:l,y2:o,key:d}=a,u=as(a,t8),p=null!=(n=(0,tT.svgPropertiesNoEvents)(u))?n:{},{offset:m}=p,h=as(p,ae);r=c.createElement("line",ai({},h,{x1:i,y1:s,x2:l,y2:o,fill:"none",key:d}))}return r}function ac(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,l=as(e,at),o=n.map((e,n)=>{var i=an(an({},l),{},{x1:t,y1:e,x2:t+a,y2:e,key:"line-".concat(n),index:n});return c.createElement(ao,{key:"line-".concat(n),option:r,lineItemProps:i})});return c.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ad(e){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,l=as(e,aa),o=n.map((e,n)=>{var i=an(an({},l),{},{x1:e,y1:t,x2:e,y2:t+a,key:"line-".concat(n),index:n});return c.createElement(ao,{option:r,lineItemProps:i,key:"line-".concat(n)})});return c.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function au(e){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:s,horizontalPoints:l,horizontal:o=!0}=e;if(!o||!t||!t.length||null==l)return null;var d=l.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==d[0]&&d.unshift(0);var u=d.map((e,l)=>{var o=d[l+1]?d[l+1]-e:n+s-e;if(o<=0)return null;var u=l%t.length;return c.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:o,width:i,stroke:"none",fill:t[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function ap(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:s,height:l,verticalPoints:o}=e;if(!t||!a||!a.length)return null;var d=o.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==d[0]&&d.unshift(0);var u=d.map((e,t)=>{var o=d[t+1]?d[t+1]-e:n+s-e;if(o<=0)return null;var u=t%a.length;return c.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:o,height:l,stroke:"none",fill:a[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var am=(e,t)=>{var{xAxis:a,width:r,height:n,offset:i}=e;return(0,eX.getCoordinatesOfGrid)((0,t7.getTicks)(an(an(an({},t9.defaultCartesianAxisProps),a),{},{ticks:(0,eX.getTicksOfAxis)(a,!0),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},ah=(e,t)=>{var{yAxis:a,width:r,height:n,offset:i}=e;return(0,eX.getCoordinatesOfGrid)((0,t7.getTicks)(an(an(an({},t9.defaultCartesianAxisProps),a),{},{ticks:(0,eX.getTicksOfAxis)(a,!0),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},ax={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tB.DefaultZIndexes.grid};function af(e){var t=(0,tn.useChartWidth)(),a=(0,tn.useChartHeight)(),r=(0,tn.useOffsetInternal)(),n=an(an({},(0,tC.resolveDefaultProps)(e,ax)),{},{x:(0,eH.isNumber)(e.x)?e.x:r.left,y:(0,eH.isNumber)(e.y)?e.y:r.top,width:(0,eH.isNumber)(e.width)?e.width:r.width,height:(0,eH.isNumber)(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:s,x:l,y:o,width:d,height:u,syncWithTicks:p,horizontalValues:m,verticalValues:h}=n,x=(0,tA.useIsPanorama)(),f=(0,e6.useAppSelector)(e=>(0,ts.selectAxisPropsNeededForCartesianGridTicksGenerator)(e,"xAxis",i,x)),g=(0,e6.useAppSelector)(e=>(0,ts.selectAxisPropsNeededForCartesianGridTicksGenerator)(e,"yAxis",s,x));if(!(0,td.isPositiveNumber)(d)||!(0,td.isPositiveNumber)(u)||!(0,eH.isNumber)(l)||!(0,eH.isNumber)(o))return null;var v=n.verticalCoordinatesGenerator||am,y=n.horizontalCoordinatesGenerator||ah,{horizontalPoints:b,verticalPoints:j}=n;if((!b||!b.length)&&"function"==typeof y){var k=m&&m.length,N=y({yAxis:g?an(an({},g),{},{ticks:k?m:g.ticks}):void 0,width:null!=t?t:d,height:null!=a?a:u,offset:r},!!k||p);(0,t6.warn)(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!j||!j.length)&&"function"==typeof v){var w=h&&h.length,A=v({xAxis:f?an(an({},f),{},{ticks:w?h:f.ticks}):void 0,width:null!=t?t:d,height:null!=a?a:u,offset:r},!!w||p);(0,t6.warn)(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(j=A)}return c.createElement(tR.ZIndexLayer,{zIndex:n.zIndex},c.createElement("g",{className:"recharts-cartesian-grid"},c.createElement(al,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),c.createElement(au,ai({},n,{horizontalPoints:b})),c.createElement(ap,ai({},n,{verticalPoints:j})),c.createElement(ac,ai({},n,{offset:r,horizontalPoints:b,xAxis:f,yAxis:g})),c.createElement(ad,ai({},n,{offset:r,verticalPoints:j,xAxis:f,yAxis:g}))))}af.displayName="CartesianGrid";var ag=e.i(92068),av=e.i(73962),ay=e.i(91561),ab=e=>e.graphicalItems.polarItems,aj=(0,ti.createSelector)([av.pickAxisType,ay.pickAxisId],ts.itemAxisPredicate),ak=(0,ti.createSelector)([ab,ts.selectBaseAxis,aj],ts.combineGraphicalItemsSettings),aN=(0,ti.createSelector)([ak],ts.combineGraphicalItemsData),aw=(0,ti.createSelector)([aN,tl.selectChartDataAndAlwaysIgnoreIndexes],ts.combineDisplayedData),aA=(0,ti.createSelector)([aw,ts.selectBaseAxis,ak],ts.combineAppliedValues);(0,ti.createSelector)([aw,ts.selectBaseAxis,ak],(e,t,a)=>a.length>0?e.flatMap(e=>a.flatMap(a=>{var r;return{value:(0,eX.getValueByDataKey)(e,null!=(r=t.dataKey)?r:a.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,eX.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var aS=()=>void 0,aP=(0,ti.createSelector)([aw,ts.selectBaseAxis,ak,ts.selectAllErrorBarSettings,av.pickAxisType],ts.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),aO=(0,ti.createSelector)([ts.selectBaseAxis,ts.selectDomainDefinition,ts.selectDomainFromUserPreference,aS,aP,aS,tn.selectChartLayout,av.pickAxisType],ts.combineNumericalDomain),aC=(0,ti.createSelector)([ts.selectBaseAxis,tn.selectChartLayout,aw,aA,tc.selectStackOffsetType,av.pickAxisType,aO],ts.combineAxisDomain),aE=(0,ti.createSelector)([aC,ts.selectBaseAxis,ts.selectRealScaleType],ts.combineNiceTicks);function aI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function aT(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aI(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aI(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,ti.createSelector)([ts.selectBaseAxis,aC,aE,av.pickAxisType],ts.combineAxisDomainWithNiceTicks);var aD=(0,ti.createSelector)([ab,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),aR=[],aB=(e,t,a)=>(null==a?void 0:a.length)===0?aR:a,aM=(0,ti.createSelector)([tl.selectChartDataAndAlwaysIgnoreIndexes,aD,aB],(e,t,a)=>{var r,{chartData:n}=e;if(null!=t&&((r=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&r.length||null==a||(r=a.map(e=>aT(aT({},t.presentationProps),e.props))),null!=r))return r}),az=(0,ti.createSelector)([aM,aD,aB],(e,t,a)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var n,i,s=(0,eX.getValueByDataKey)(e,t.nameKey,t.name);return i=null!=a&&null!=(n=a[r])&&null!=(n=n.props)&&n.fill?a[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,eX.getTooltipNameProp)(s,t.dataKey),color:i,payload:e,type:t.legendType}})}),aL=(0,ti.createSelector)([aM,aD,aB,to.selectChartOffsetInternal],(e,t,a,r)=>{if(null!=t&&null!=e)return function(e){var t,a,r,{pieSettings:n,displayedData:i,cells:s,offset:l}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:p,tooltipType:m}=n,h=Math.abs(n.minAngle),x=(0,eH.mathSign)(d-c)*Math.min(Math.abs(d-c),360),f=Math.abs(x),g=i.length<=1?0:null!=(t=n.paddingAngle)?t:0,v=i.filter(e=>0!==(0,eX.getValueByDataKey)(e,u,0)).length,y=f-v*h-(f>=360?v:v-1)*g,b=i.reduce((e,t)=>{var a=(0,eX.getValueByDataKey)(t,u,0);return e+((0,eH.isNumber)(a)?a:0)},0);return b>0&&(a=i.map((e,t)=>{var a,i=(0,eX.getValueByDataKey)(e,u,0),d=(0,eX.getValueByDataKey)(e,p,t),f=((e,t,a)=>{var r,{top:n,left:i,width:s,height:l}=t,o=(0,aV.getMaxRadius)(s,l),c=i+(0,eH.getPercentValue)(e.cx,s,s/2),d=n+(0,eH.getPercentValue)(e.cy,l,l/2),u=(0,eH.getPercentValue)(e.innerRadius,o,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(r=e.outerRadius,"function"==typeof r?(0,eH.getPercentValue)(r(a),o,.8*o):(0,eH.getPercentValue)(r,o,.8*o)),maxRadius:e.maxRadius||Math.sqrt(s*s+l*l)/2}})(n,l,e),v=((0,eH.isNumber)(i)?i:0)/b,j=aH(aH({},e),s&&s[t]&&s[t].props),k=(a=t?r.endAngle+(0,eH.mathSign)(x)*g*(0!==i):c)+(0,eH.mathSign)(x)*((0!==i?h:0)+v*y),N=(a+k)/2,w=(f.innerRadius+f.outerRadius)/2,A=[{name:d,value:i,payload:j,dataKey:u,type:m}],S=(0,aV.polarToCartesian)(f.cx,f.cy,w,N);return r=aH(aH(aH(aH({},n.presentationProps),{},{percent:v,cornerRadius:"string"==typeof o?parseFloat(o):o,name:d,tooltipPayload:A,midAngle:N,middleRadius:w,tooltipPosition:S},j),f),{},{value:i,dataKey:u,startAngle:a,endAngle:k,payload:j,paddingAngle:(0,eH.mathSign)(x)*g})})),a}({offset:r,pieSettings:t,displayedData:e,cells:a})}),aK=e.i(72733),aF=e.i(9516),aV=e.i(68970),a$=e.i(94810),aG=["key"],aW=["onMouseEnter","onClick","onMouseLeave"],aU=["id"],a_=["id"];function aZ(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function aH(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aZ(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aZ(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function aq(){return(aq=Object.assign.bind()).apply(null,arguments)}function aX(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function aY(e){var t=(0,c.useMemo)(()=>(0,eq.findAllByType)(e.children,e_),[e.children]),a=(0,e6.useAppSelector)(a=>az(a,e.id,t));return null==a?null:c.createElement(tP.SetPolarLegendPayload,{legendPayload:a})}var aJ=c.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:n,strokeWidth:i,fill:s,name:l,hide:o,tooltipType:d}=e,u={dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:a,name:(0,eX.getTooltipNameProp)(l,t),hide:o,type:d,color:s,unit:""}};return c.createElement(tt.SetTooltipEntrySettings,{tooltipEntrySettings:u})});function aQ(e){var{sectors:t,props:a,showLabels:r}=e,{label:n,labelLine:i,dataKey:s}=a;if(!r||!n||!t)return null;var l=(0,tT.svgPropertiesNoEvents)(a),o=(0,tT.svgPropertiesNoEventsFromUnknown)(n),d=(0,tT.svgPropertiesNoEventsFromUnknown)(i),u="object"==typeof n&&"offsetRadius"in n&&"number"==typeof n.offsetRadius&&n.offsetRadius||20,p=t.map((e,t)=>{var a,r,p=(e.startAngle+e.endAngle)/2,m=(0,aV.polarToCartesian)(e.cx,e.cy,e.outerRadius+u,p),h=aH(aH(aH(aH({},l),e),{},{stroke:"none"},o),{},{index:t,textAnchor:(a=m.x)>(r=e.cx)?"start":a<r?"end":"middle"},m),x=aH(aH(aH(aH({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[(0,aV.polarToCartesian)(e.cx,e.cy,e.outerRadius,p),m],key:"line"});return c.createElement(tR.ZIndexLayer,{zIndex:tB.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},c.createElement(eU.Layer,null,i&&((e,t)=>{if(c.isValidElement(e))return c.cloneElement(e,t);if("function"==typeof e)return e(t);var a=(0,eW.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:r}=t,n=aX(t,aG);return c.createElement(aK.Curve,aq({},n,{type:"linear",className:a}))})(i,x),((e,t,a)=>{if(c.isValidElement(e))return c.cloneElement(e,t);var r=a;if("function"==typeof e&&(r=e(t),c.isValidElement(r)))return r;var n=(0,eW.clsx)("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return c.createElement(aF.Text,aq({},t,{alignmentBaseline:"middle",className:n}),r)})(n,h,(0,eX.getValueByDataKey)(e,s))))});return c.createElement(eU.Layer,{className:"recharts-pie-labels"},p)}function a0(e){var{sectors:t,props:a,showLabels:r}=e,{label:n}=a;return"object"==typeof n&&null!=n&&"position"in n?c.createElement(eZ.LabelListFromLabelProp,{label:n}):c.createElement(aQ,{sectors:t,props:a,showLabels:r})}function a1(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:n,shape:i,id:s}=e,l=(0,e6.useAppSelector)(tS.selectActiveTooltipIndex),o=(0,e6.useAppSelector)(tS.selectActiveTooltipDataKey),d=(0,e6.useAppSelector)(tS.selectActiveTooltipGraphicalItemId),{onMouseEnter:u,onClick:p,onMouseLeave:m}=n,h=aX(n,aW),x=e9(u,n.dataKey,s),f=e8(m),g=te(p,n.dataKey,s);return null==t||0===t.length?null:c.createElement(c.Fragment,null,t.map((e,u)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var p=null==d||d===s,m=String(u)===l&&(null==o||n.dataKey===o)&&p,v=a&&m?a:l?r:null,y=aH(aH({},e),{},{stroke:e.stroke,tabIndex:-1,[a$.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:u,[a$.DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:n.dataKey});return c.createElement(eU.Layer,aq({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(u),tabIndex:-1,className:"recharts-pie-sector"},(0,eY.adaptEventsOfChild)(h,e,u),{onMouseEnter:x(e,u),onMouseLeave:f(e,u),onClick:g(e,u)}),c.createElement(eJ.Shape,aq({option:null!=i?i:v,index:u,shapeType:"sector",isActive:m},y)))}))}function a2(e){var{showLabels:t,sectors:a,children:r}=e,n=(0,c.useMemo)(()=>t&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,t]);return c.createElement(eZ.PolarLabelListContextProvider,{value:t?n:void 0},r)}function a5(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:o,activeShape:d,inactiveShape:u,onAnimationStart:p,onAnimationEnd:m}=t,h=(0,tO.useAnimationId)(t,"recharts-pie-"),x=a.current,[f,g]=(0,c.useState)(!1),v=(0,c.useCallback)(()=>{"function"==typeof m&&m(),g(!1)},[m]),y=(0,c.useCallback)(()=>{"function"==typeof p&&p(),g(!0)},[p]);return c.createElement(a2,{showLabels:!f,sectors:n},c.createElement(tD.JavascriptAnimate,{animationId:h,begin:s,duration:l,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:h},e=>{var i=[],s=n&&n[0],l=null==s?void 0:s.startAngle;return null==n||n.forEach((t,a)=>{var r=x&&x[a],n=a>0?(0,ag.default)(t,"paddingAngle",0):0;if(r){var s=(0,eH.interpolate)(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),o=aH(aH({},t),{},{startAngle:l+n,endAngle:l+s+n});i.push(o),l=o.endAngle}else{var{endAngle:c,startAngle:d}=t,u=(0,eH.interpolate)(0,c-d,e),p=aH(aH({},t),{},{startAngle:l+n,endAngle:l+u+n});i.push(p),l=p.endAngle}}),a.current=i,c.createElement(eU.Layer,null,c.createElement(a1,{sectors:i,activeShape:d,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:r}))}),c.createElement(a0,{showLabels:!f,sectors:n,props:t}),t.children)}var a4={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:tB.DefaultZIndexes.area};function a3(e){var{id:t}=e,a=aX(e,aU),{hide:r,className:n,rootTabIndex:i}=e,s=(0,c.useMemo)(()=>(0,eq.findAllByType)(e.children,e_),[e.children]),l=(0,e6.useAppSelector)(e=>aL(e,t,s)),o=(0,c.useRef)(null),d=(0,eW.clsx)("recharts-pie",n);return r||null==l?(o.current=null,c.createElement(eU.Layer,{tabIndex:i,className:d})):c.createElement(tR.ZIndexLayer,{zIndex:e.zIndex},c.createElement(aJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),c.createElement(eU.Layer,{tabIndex:i,className:d},c.createElement(a5,{props:aH(aH({},a),{},{sectors:l}),previousSectorsRef:o,id:t})))}function a6(e){var t=(0,tC.resolveDefaultProps)(e,a4),{id:a}=t,r=aX(t,a_),n=(0,tT.svgPropertiesNoEvents)(r);return c.createElement(tE.RegisterGraphicalItemId,{id:a,type:"pie"},e=>c.createElement(c.Fragment,null,c.createElement(tI.SetPolarGraphicalItem,{type:"pie",id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),c.createElement(aY,aq({},r,{id:e})),c.createElement(a3,aq({},r,{id:e}))))}a6.displayName="Pie";var a7=e.i(70778),a9=e.i(98596),a8=e.i(22273),re=e.i(62327),rt=e.i(73310);function ra(e){var t=(0,e6.useAppDispatch)();return(0,c.useEffect)(()=>{t((0,rt.updatePolarOptions)(e))},[t,e]),null}var rr=e.i(48973),rn=["layout"];function ri(){return(ri=Object.assign.bind()).apply(null,arguments)}var rs={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rl=(0,c.forwardRef)(function(e,t){var a,r=(0,tC.resolveDefaultProps)(e.categoricalChartProps,rs),{layout:n}=r,i=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(r,rn),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:d}=e;return c.createElement(a7.RechartsStoreProvider,{preloadedState:{options:{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:d,eventEmitter:void 0}},reduxStoreName:null!=(a=r.id)?a:s},c.createElement(a9.ChartDataContextProvider,{chartData:r.data}),c.createElement(a8.ReportMainChartProps,{layout:n,margin:r.margin}),c.createElement(re.ReportChartProps,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),c.createElement(ra,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),c.createElement(rr.CategoricalChart,ri({},i,{ref:t})))});function ro(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function rc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(a),!0).forEach(function(t){var r,n,i;r=e,n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ro(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rd=["item"],ru=rc(rc({},rs),{},{layout:"centric",startAngle:0,endAngle:360}),rp=(0,c.forwardRef)((e,t)=>{var a=(0,tC.resolveDefaultProps)(e,ru);return c.createElement(rl,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rd,tooltipPayloadSearcher:eK.arrayTooltipSearcher,categoricalChartProps:a,ref:t})}),rm=e.i(31195),rh=e.i(34239),rx=e.i(85183),rf=e.i(93230);function rg(e){let[t,a]=e.split("-");return new Date(Number(t),Number(a)-1).toLocaleDateString("pt-PT",{month:"short",year:"2-digit"})}let rv=["#6366f1","#0ea5e9","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6"];function ry({title:e,children:a}){return(0,t.jsxs)("div",{className:"rounded-lg border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 p-5",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-4",children:e}),a]})}function rb({active:e,payload:a,label:r}){return e&&a?.length?(0,t.jsxs)("div",{className:"rounded-md border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 shadow-md text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-slate-700 dark:text-slate-200 mb-1",children:r}),a.map((e,a)=>(0,t.jsxs)("p",{style:{color:e.color},className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"inline-block h-2 w-2 rounded-full",style:{background:e.color}}),e.name,": ",(0,t.jsx)("span",{className:"font-semibold",children:e.value?.toLocaleString("pt-PT")})]},a))]}):null}function rj({stats:e}){let[a,r]=(0,c.useState)(null),[n,i]=(0,c.useState)(!0),[s,o]=(0,c.useState)(ed),[d,u]=(0,c.useState)({}),p=(0,c.useRef)(null),m=(0,c.useCallback)(async()=>{i(!0);try{let e=d.startDate||d.endDate||s.distrito.length>0||s.categoria.length>0||s.estado.length>0||s.search,t=await l(e?{startDate:d.startDate,endDate:d.endDate,distrito:s.distrito.length>0?s.distrito.join(","):void 0,categoria:s.categoria.length>0?s.categoria.join(","):void 0,estado:s.estado.length>0?s.estado.join(","):void 0,search:s.search||void 0}:void 0);r(t)}catch(e){console.error("Failed to load trends:",e)}finally{i(!1)}},[s,d]);(0,c.useEffect)(()=>{m()},[m]);let h=!!(d.startDate||d.endDate),x=(0,c.useCallback)(()=>{o(ed),u({}),p.current?.reset()},[]),f=(0,t.jsx)(eu,{stats:e,filters:s,onFiltersChange:o,hasExtraFilters:h,onClear:x,children:(0,t.jsx)(ez,{value:d,onChange:u,resetRef:p})});if(n)return(0,t.jsxs)("div",{className:"space-y-6",children:[f,(0,t.jsxs)("div",{className:"flex items-center justify-center py-12 text-slate-400",children:[(0,t.jsx)(ej.Loader2,{className:"h-5 w-5 animate-spin mr-2"}),"A carregar tendências..."]})]});if(!a||0===a.monthly.length)return(0,t.jsxs)("div",{className:"space-y-6",children:[f,(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:["Ainda não existem dados suficientes para mostrar tendências.",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs",children:"Os dados acumulam-se com as sincronizações diárias."})]})]});let g=a.monthly.map(e=>({...e,month:rg(e.month),net:e.added-e.removed})),v=a.cumulative.map(e=>({...e,month:rg(e.month)})),y=Object.entries(a.byCategoria).sort((e,t)=>t[1]-e[1]).map(([e,t])=>({name:e,value:t}));return(0,t.jsxs)("div",{className:"space-y-6",children:[f,(0,t.jsx)(ry,{title:"Total de indicativos ao longo do tempo",children:(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(rm.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(e$,{data:v,margin:{top:5,right:10,left:0,bottom:0},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"totalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),(0,t.jsx)("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),(0,t.jsx)(af,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-700"}),(0,t.jsx)(rx.XAxis,{dataKey:"month",tick:{fontSize:12},className:"text-slate-500"}),(0,t.jsx)(rf.YAxis,{tick:{fontSize:12},className:"text-slate-500",tickFormatter:e=>e.toLocaleString("pt-PT")}),(0,t.jsx)(rh.Tooltip,{content:(0,t.jsx)(rb,{})}),(0,t.jsx)(eL.Area,{type:"monotone",dataKey:"total",name:"Total",stroke:"#6366f1",strokeWidth:2,fill:"url(#totalGradient)"})]})})})}),(0,t.jsx)(ry,{title:"Alterações mensais por tipo",children:(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(rm.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(t3,{data:g,margin:{top:5,right:10,left:0,bottom:0},children:[(0,t.jsx)(af,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-700"}),(0,t.jsx)(rx.XAxis,{dataKey:"month",tick:{fontSize:12},className:"text-slate-500"}),(0,t.jsx)(rf.YAxis,{tick:{fontSize:12},className:"text-slate-500"}),(0,t.jsx)(rh.Tooltip,{content:(0,t.jsx)(rb,{})}),(0,t.jsx)(t5,{dataKey:"added",name:"Novos",fill:"#10b981",radius:[2,2,0,0]}),(0,t.jsx)(t5,{dataKey:"removed",name:"Removidos",fill:"#ef4444",radius:[2,2,0,0]}),(0,t.jsx)(t5,{dataKey:"modified",name:"Alterados",fill:"#6366f1",radius:[2,2,0,0]})]})})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(ry,{title:"Distribuição por categoria",children:(0,t.jsx)("div",{className:"h-[280px]",children:(0,t.jsx)(rm.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(rp,{children:[(0,t.jsx)(a6,{data:y,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:50,paddingAngle:2,label:({name:e,percent:t})=>`${e} (${((t??0)*100).toFixed(0)}%)`,labelLine:{strokeWidth:1},children:y.map((e,a)=>(0,t.jsx)(e_,{fill:rv[a%rv.length]},a))}),(0,t.jsx)(rh.Tooltip,{content:(0,t.jsx)(rb,{})})]})})})}),(0,t.jsx)(ry,{title:"Variação líquida mensal (novos − removidos)",children:(0,t.jsx)("div",{className:"h-[280px]",children:(0,t.jsx)(rm.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(t3,{data:g,margin:{top:5,right:10,left:0,bottom:0},children:[(0,t.jsx)(af,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-700"}),(0,t.jsx)(rx.XAxis,{dataKey:"month",tick:{fontSize:12},className:"text-slate-500"}),(0,t.jsx)(rf.YAxis,{tick:{fontSize:12},className:"text-slate-500"}),(0,t.jsx)(rh.Tooltip,{content:(0,t.jsx)(rb,{})}),(0,t.jsx)(t5,{dataKey:"net",name:"Variação",radius:[2,2,0,0],children:g.map((e,a)=>(0,t.jsx)(e_,{fill:e.net>=0?"#10b981":"#ef4444"},a))})]})})})})]}),(0,t.jsx)(eI,{})]})}var rk=e.i(1026);let rN=(0,p.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),rw={total:0,byEstado:{},byCategoria:{},byDistrito:{},newThisMonth:0,changesThisMonth:0,lastSyncAt:null};function rA(){let[e,r]=(0,c.useState)(rw),[s,l]=(0,c.useState)(!0),[o,d]=(0,c.useState)({search:"",distrito:[],categoria:[],estado:[]}),[u,p]=(0,c.useState)(null),[m,x]=(0,c.useState)(!0),[f,v]=(0,c.useState)(1);(0,c.useEffect)(()=>{i().then(r).catch(e=>console.error("Failed to fetch stats:",e)).finally(()=>l(!1))},[]);let y=(0,c.useCallback)(async(e,t)=>{x(!0);try{let a=await n({page:e,limit:50,search:t.search||void 0,distrito:t.distrito.length>0?t.distrito.join(","):void 0,categoria:t.categoria.length>0?t.categoria.join(","):void 0,estado:t.estado.length>0?t.estado.join(","):void 0});p(a)}catch(e){console.error("Failed to fetch callsigns:",e)}finally{x(!1)}},[]);return(0,c.useEffect)(()=>{v(1),y(1,o)},[o,y]),(0,t.jsxs)("div",{className:"space-y-6 mt-6",children:[(0,t.jsx)(g,{stats:e,loading:s}),(0,t.jsxs)(a.Tabs,{defaultValue:"indicativos",className:"w-full",children:[(0,t.jsxs)(a.TabsList,{className:"mb-4",children:[(0,t.jsxs)(a.TabsTrigger,{value:"indicativos",className:"gap-2",children:[(0,t.jsx)(rk.IdCard,{className:"h-4 w-4"}),"Indicativos"]}),(0,t.jsxs)(a.TabsTrigger,{value:"alteracoes",className:"gap-2",children:[(0,t.jsx)(rN,{className:"h-4 w-4"}),"Alterações"]}),(0,t.jsxs)(a.TabsTrigger,{value:"tendencias",className:"gap-2",children:[(0,t.jsx)(h.TrendingUp,{className:"h-4 w-4"}),"Tendências"]})]}),(0,t.jsxs)(a.TabsContent,{value:"indicativos",className:"space-y-4",children:[(0,t.jsx)(eu,{stats:e,filters:o,onFiltersChange:d}),(0,t.jsx)(ek,{data:u?.docs||[],loading:m,page:f,totalPages:u?.totalPages||1,totalDocs:u?.totalDocs||0,onPageChange:e=>{v(e),y(e,o)}})]}),(0,t.jsx)(a.TabsContent,{value:"alteracoes",children:(0,t.jsx)(eP,{})}),(0,t.jsx)(a.TabsContent,{value:"tendencias",children:(0,t.jsx)(rj,{stats:e})})]})]})}e.s(["IndicativosContent",()=>rA],27164)}]);